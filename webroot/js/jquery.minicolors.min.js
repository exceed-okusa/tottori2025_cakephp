(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(f){f.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:false,keywords:"",letterCase:"lowercase",opacity:false,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}};f.extend(f.fn,{minicolors:function(B,A){switch(B){case"destroy":f(this).each(function(){z(f(this))});return f(this);case"hide":m();return f(this);case"opacity":if(A===undefined){return f(this).attr("data-opacity")}else{f(this).each(function(){b(f(this).attr("data-opacity",A))})}return f(this);case"rgbObject":return j(f(this),B==="rgbaObject");case"rgbString":case"rgbaString":return l(f(this),B==="rgbaString");case"settings":if(A===undefined){return f(this).data("minicolors-settings")}else{f(this).each(function(){var C=f(this).data("minicolors-settings")||{};z(f(this));f(this).minicolors(f.extend(true,C,A))})}return f(this);case"show":y(f(this).eq(0));return f(this);case"value":if(A===undefined){return f(this).val()}else{f(this).each(function(){if(typeof(A)==="object"&&A!==null){if(A.opacity){f(this).attr("data-opacity",r(A.opacity,0,1))}if(A.color){f(this).val(A.color)}}else{f(this).val(A)}b(f(this))})}return f(this);default:if(B!=="create"){A=B}f(this).each(function(){v(f(this),A)});return f(this)}}});function v(G,C){var E=f('<div class="minicolors" />');var D=f.minicolors.defaults;var I;var B;var H;var A;var F;if(G.data("minicolors-initialized")){return}C=f.extend(true,{},D,C);E.addClass("minicolors-theme-"+C.theme).toggleClass("minicolors-with-opacity",C.opacity);if(C.position!==undefined){f.each(C.position.split(" "),function(){E.addClass("minicolors-position-"+this)})}if(C.format==="rgb"){I=C.opacity?"25":"20"}else{I=C.keywords?"11":"7"}G.addClass("minicolors-input").data("minicolors-initialized",false).data("minicolors-settings",C).prop("size",I).wrap(E).after('<div class="minicolors-panel minicolors-slider-'+C.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>');if(!C.inline){G.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>');G.next(".minicolors-input-swatch").on("click",function(J){J.preventDefault();G.focus()})}A=G.parent().find(".minicolors-panel");A.on("selectstart",function(){return false}).end();if(C.swatches&&C.swatches.length!==0){A.addClass("minicolors-with-swatches");B=f('<ul class="minicolors-swatches"></ul>').appendTo(A);for(F=0;F<C.swatches.length;++F){H=C.swatches[F];H=h(H)?n(H,true):s(w(H,true));f('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(B).data("swatch-color",C.swatches[F]).find(".minicolors-swatch-color").css({backgroundColor:a(H),opacity:H.a});C.swatches[F]=H}}if(C.inline){G.parent().addClass("minicolors-inline")}b(G,false);G.data("minicolors-initialized",true)}function z(A){var B=A.parent();A.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input");B.before(A).remove()}function y(B){var D=B.parent();var A=D.find(".minicolors-panel");var C=B.data("minicolors-settings");if(!B.data("minicolors-initialized")||B.prop("disabled")||D.hasClass("minicolors-inline")||D.hasClass("minicolors-focus")){return}m();D.addClass("minicolors-focus");A.stop(true,true).fadeIn(C.showSpeed,function(){if(C.show){C.show.call(B.get(0))}});let h_top=B.offset().top+A.outerHeight()+B.outerHeight();if(h_top<=f(window).height()){}else{A.css("top",0-A.outerHeight()-2)}}function m(){f(".minicolors-focus").each(function(){var D=f(this);var B=D.find(".minicolors-input");var A=D.find(".minicolors-panel");var C=B.data("minicolors-settings");A.fadeOut(C.hideSpeed,function(){if(C.hide){C.hide.call(B.get(0))}D.removeClass("minicolors-focus")})})}function t(L,B,C){var O=L.parents(".minicolors").find(".minicolors-input");var D=O.data("minicolors-settings");var J=L.find("[class$=-picker]");var I=L.offset().left;var H=L.offset().top;var N=Math.round(B.pageX-I);var M=Math.round(B.pageY-H);var F=C?D.animationSpeed:0;var G,E,A,K;if(B.originalEvent.changedTouches){N=B.originalEvent.changedTouches[0].pageX-I;M=B.originalEvent.changedTouches[0].pageY-H}if(N<0){N=0}if(M<0){M=0}if(N>L.width()){N=L.width()}if(M>L.height()){M=L.height()}if(L.parent().is(".minicolors-slider-wheel")&&J.parent().is(".minicolors-grid")){G=75-N;E=75-M;A=Math.sqrt(G*G+E*E);K=Math.atan2(E,G);if(K<0){K+=Math.PI*2}if(A>75){A=75;N=75-(75*Math.cos(K));M=75-(75*Math.sin(K))}N=Math.round(N);M=Math.round(M)}if(L.is(".minicolors-grid")){J.stop(true).animate({top:M+"px",left:N+"px"},F,D.animationEasing,function(){i(O,L)})}else{J.stop(true).animate({top:M+"px"},F,D.animationEasing,function(){i(O,L)})}}function i(Q,X){function T(Z,Y){var ab,aa;if(!Z.length||!Y){return null}ab=Z.offset().left;aa=Z.offset().top;return{x:ab-Y.offset().left+(Z.outerWidth()/2),y:aa-Y.offset().top+(Z.outerHeight()/2)}}var H,I,W,O,N,R,E;var L=Q.val();var F=Q.attr("data-opacity");var G=Q.parent();var V=Q.data("minicolors-settings");var S=G.find(".minicolors-input-swatch");var A=G.find(".minicolors-grid");var U=G.find(".minicolors-slider");var K=G.find(".minicolors-opacity-slider");var J=A.find("[class$=-picker]");var P=U.find("[class$=-picker]");var D=K.find("[class$=-picker]");var C=T(J,A);var B=T(P,U);var M=T(D,K);if(X.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(V.control){case"wheel":O=(A.width()/2)-C.x;N=(A.height()/2)-C.y;R=Math.sqrt(O*O+N*N);E=Math.atan2(N,O);if(E<0){E+=Math.PI*2}if(R>75){R=75;C.x=69-(75*Math.cos(E));C.y=69-(75*Math.sin(E))}I=r(R/0.75,0,100);H=r(E*180/Math.PI,0,360);W=r(100-Math.floor(B.y*(100/U.height())),0,100);L=c({h:H,s:I,b:W});U.css("backgroundColor",c({h:H,s:I,b:100}));break;case"saturation":H=r(parseInt(C.x*(360/A.width()),10),0,360);I=r(100-Math.floor(B.y*(100/U.height())),0,100);W=r(100-Math.floor(C.y*(100/A.height())),0,100);L=c({h:H,s:I,b:W});U.css("backgroundColor",c({h:H,s:100,b:W}));G.find(".minicolors-grid-inner").css("opacity",I/100);break;case"brightness":H=r(parseInt(C.x*(360/A.width()),10),0,360);I=r(100-Math.floor(C.y*(100/A.height())),0,100);W=r(100-Math.floor(B.y*(100/U.height())),0,100);L=c({h:H,s:I,b:W});U.css("backgroundColor",c({h:H,s:I,b:100}));G.find(".minicolors-grid-inner").css("opacity",1-(W/100));break;default:H=r(360-parseInt(B.y*(360/U.height()),10),0,360);I=r(Math.floor(C.x*(100/A.width())),0,100);W=r(100-Math.floor(C.y*(100/A.height())),0,100);L=c({h:H,s:I,b:W});A.css("backgroundColor",c({h:H,s:100,b:100}));break}if(V.opacity){F=parseFloat(1-(M.y/K.height())).toFixed(2)}else{F=1}k(Q,L,F)}else{S.find("span").css({backgroundColor:L,opacity:F});e(Q,L,F)}}function k(A,F,C){var B;var G=A.parent();var E=A.data("minicolors-settings");var D=G.find(".minicolors-input-swatch");if(E.opacity){A.attr("data-opacity",C)}if(E.format==="rgb"){if(h(F)){B=n(F,true)}else{B=s(w(F,true))}C=A.attr("data-opacity")===""?1:r(parseFloat(A.attr("data-opacity")).toFixed(2),0,1);if(isNaN(C)||!E.opacity){C=1}if(A.minicolors("rgbObject").a<=1&&B&&E.opacity){F="rgba("+B.r+", "+B.g+", "+B.b+", "+parseFloat(C)+")"}else{F="rgb("+B.r+", "+B.g+", "+B.b+")"}}else{if(h(F)){F=q(F)}F=o(F,E.letterCase)}A.val(F);D.find("span").css({backgroundColor:F,opacity:C});e(A,F,C)}function b(N,O){var I,Q,D,J,F,S,L,K,P,C;var E=N.parent();var U=N.data("minicolors-settings");var R=E.find(".minicolors-input-swatch");var A=E.find(".minicolors-grid");var T=E.find(".minicolors-slider");var H=E.find(".minicolors-opacity-slider");var G=A.find("[class$=-picker]");var M=T.find("[class$=-picker]");var B=H.find("[class$=-picker]");if(h(N.val())){I=q(N.val());F=r(parseFloat(u(N.val())).toFixed(2),0,1);if(F){N.attr("data-opacity",F)}}else{I=o(w(N.val(),true),U.letterCase)}if(!I){I=o(p(U.defaultValue,true),U.letterCase)}Q=d(I);J=!U.keywords?[]:f.map(U.keywords.split(","),function(V){return f.trim(V.toLowerCase())});if(N.val()!==""&&f.inArray(N.val().toLowerCase(),J)>-1){S=o(N.val())}else{S=h(N.val())?n(N.val()):I}if(!O){N.val(S)}if(U.opacity){D=N.attr("data-opacity")===""?1:r(parseFloat(N.attr("data-opacity")).toFixed(2),0,1);if(isNaN(D)){D=1}N.attr("data-opacity",D);R.find("span").css("opacity",D);K=r(H.height()-(H.height()*D),0,H.height());B.css("top",K+"px")}if(N.val().toLowerCase()==="transparent"){R.find("span").css("opacity",0)}R.find("span").css("backgroundColor",I);switch(U.control){case"wheel":P=r(Math.ceil(Q.s*0.75),0,A.height()/2);C=Q.h*Math.PI/180;L=r(75-Math.cos(C)*P,0,A.width());K=r(75-Math.sin(C)*P,0,A.height());G.css({top:K+"px",left:L+"px"});K=150-(Q.b/(100/A.height()));if(I===""){K=0}M.css("top",K+"px");T.css("backgroundColor",c({h:Q.h,s:Q.s,b:100}));break;case"saturation":L=r((5*Q.h)/12,0,150);K=r(A.height()-Math.ceil(Q.b/(100/A.height())),0,A.height());G.css({top:K+"px",left:L+"px"});K=r(T.height()-(Q.s*(T.height()/100)),0,T.height());M.css("top",K+"px");T.css("backgroundColor",c({h:Q.h,s:100,b:Q.b}));E.find(".minicolors-grid-inner").css("opacity",Q.s/100);break;case"brightness":L=r((5*Q.h)/12,0,150);K=r(A.height()-Math.ceil(Q.s/(100/A.height())),0,A.height());G.css({top:K+"px",left:L+"px"});K=r(T.height()-(Q.b*(T.height()/100)),0,T.height());M.css("top",K+"px");T.css("backgroundColor",c({h:Q.h,s:Q.s,b:100}));E.find(".minicolors-grid-inner").css("opacity",1-(Q.b/100));break;default:L=r(Math.ceil(Q.s/(100/A.width())),0,A.width());K=r(A.height()-Math.ceil(Q.b/(100/A.height())),0,A.height());G.css({top:K+"px",left:L+"px"});K=r(T.height()-(Q.h/(360/T.height())),0,T.height());M.css("top",K+"px");A.css("backgroundColor",c({h:Q.h,s:100,b:100}));break}if(N.data("minicolors-initialized")){e(N,S,D)}}function e(A,G,B){var D=A.data("minicolors-settings");var E=A.data("minicolors-lastChange");var H,F,C;if(!E||E.value!==G||E.opacity!==B){A.data("minicolors-lastChange",{value:G,opacity:B});if(D.swatches&&D.swatches.length!==0){if(!h(G)){H=s(G)}else{H=n(G,true)}F=-1;for(C=0;C<D.swatches.length;++C){if(H.r===D.swatches[C].r&&H.g===D.swatches[C].g&&H.b===D.swatches[C].b&&H.a===D.swatches[C].a){F=C;break}}A.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected");if(F!==-1){A.parent().find(".minicolors-swatches .minicolors-swatch").eq(C).addClass("selected")}}if(D.change){if(D.changeDelay){clearTimeout(A.data("minicolors-changeTimeout"));A.data("minicolors-changeTimeout",setTimeout(function(){D.change.call(A.get(0),G,B)},D.changeDelay))}else{D.change.call(A.get(0),G,B)}}A.trigger("change").trigger("input")}}function j(A){var C,B=f(A).attr("data-opacity");if(h(f(A).val())){C=n(f(A).val(),true)}else{var D=w(f(A).val(),true);C=s(D)}if(!C){return null}if(B!==undefined){f.extend(C,{a:parseFloat(B)})}return C}function l(A,E){var C,B=f(A).attr("data-opacity");if(h(f(A).val())){C=n(f(A).val(),true)}else{var D=w(f(A).val(),true);C=s(D)}if(!C){return null}if(B===undefined){B=1}if(E){return"rgba("+C.r+", "+C.g+", "+C.b+", "+parseFloat(B)+")"}else{return"rgb("+C.r+", "+C.g+", "+C.b+")"}}function o(A,B){return B==="uppercase"?A.toUpperCase():A.toLowerCase()}function w(A,B){A=A.replace(/^#/g,"");if(!A.match(/^[A-F0-9]{3,6}/ig)){return""}if(A.length!==3&&A.length!==6){return""}if(A.length===3&&B){A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]}return"#"+A}function n(B,D){var A=B.replace(/[^\d,.]/g,"");var C=A.split(",");C[0]=r(parseInt(C[0],10),0,255);C[1]=r(parseInt(C[1],10),0,255);C[2]=r(parseInt(C[2],10),0,255);if(C[3]){C[3]=r(parseFloat(C[3],10),0,1)}if(D){if(C[3]){return{r:C[0],g:C[1],b:C[2],a:C[3]}}else{return{r:C[0],g:C[1],b:C[2]}}}if(typeof(C[3])!=="undefined"&&C[3]<=1){return"rgba("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]+")"}else{return"rgb("+C[0]+", "+C[1]+", "+C[2]+")"}}function p(A,B){if(h(A)){return n(A)}else{return w(A,B)}}function r(C,B,A){if(C<B){C=B}if(C>A){C=A}return C}function h(B){var A=B.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return(A&&A.length===4)?true:false}function u(A){A=A.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i);return(A&&A.length===6)?A[4]:"1"}function x(A){var C={};var G=Math.round(A.h);var F=Math.round(A.s*255/100);var B=Math.round(A.b*255/100);if(F===0){C.r=C.g=C.b=B}else{var H=B;var E=(255-F)*B/255;var D=(H-E)*(G%60)/60;if(G===360){G=0}if(G<60){C.r=H;C.b=E;C.g=E+D}else{if(G<120){C.g=H;C.b=E;C.r=H-D}else{if(G<180){C.g=H;C.r=E;C.b=E+D}else{if(G<240){C.b=H;C.r=E;C.g=H-D}else{if(G<300){C.b=H;C.g=E;C.r=E+D}else{if(G<360){C.r=H;C.g=E;C.b=H-D}else{C.r=0;C.g=0;C.b=0}}}}}}}return{r:Math.round(C.r),g:Math.round(C.g),b:Math.round(C.b)}}function q(A){A=A.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return(A&&A.length===4)?"#"+("0"+parseInt(A[1],10).toString(16)).slice(-2)+("0"+parseInt(A[2],10).toString(16)).slice(-2)+("0"+parseInt(A[3],10).toString(16)).slice(-2):""}function a(A){var B=[A.r.toString(16),A.g.toString(16),A.b.toString(16)];f.each(B,function(C,D){if(D.length===1){B[C]="0"+D}});return"#"+B.join("")}function c(A){return a(x(A))}function d(B){var A=g(s(B));if(A.s===0){A.h=360}return A}function g(C){var B={h:0,s:0,b:0};var D=Math.min(C.r,C.g,C.b);var A=Math.max(C.r,C.g,C.b);var E=A-D;B.b=A;B.s=A!==0?255*E/A:0;if(B.s!==0){if(C.r===A){B.h=(C.g-C.b)/E}else{if(C.g===A){B.h=2+(C.b-C.r)/E}else{B.h=4+(C.r-C.g)/E}}}else{B.h=-1}B.h*=60;if(B.h<0){B.h+=360}B.s*=100/255;B.b*=100/255;return B}function s(A){A=parseInt(((A.indexOf("#")>-1)?A.substring(1):A),16);return{r:A>>16,g:(A&65280)>>8,b:(A&255)}}f([document]).on("mousedown.minicolors touchstart.minicolors",function(A){if(!f(A.target).parents().add(A.target).hasClass("minicolors")){m()}}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(A){var B=f(this);A.preventDefault();f(A.delegateTarget).data("minicolors-target",B);t(B,A,true)}).on("mousemove.minicolors touchmove.minicolors",function(A){var B=f(A.delegateTarget).data("minicolors-target");if(B){t(B,A)}}).on("mouseup.minicolors touchend.minicolors",function(){f(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(C){C.preventDefault();var D=f(this),B=D.parents(".minicolors").find(".minicolors-input"),A=D.data("swatch-color");k(B,A,u(A));b(B)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(B){var A=f(this).parent().find(".minicolors-input");B.preventDefault();y(A)}).on("focus.minicolors",".minicolors-input",function(){var A=f(this);if(!A.data("minicolors-initialized")){return}y(A)}).on("blur.minicolors",".minicolors-input",function(){var B=f(this);var E=B.data("minicolors-settings");var D;var F;var C;var A;var G;if(!B.data("minicolors-initialized")){return}D=!E.keywords?[]:f.map(E.keywords.split(","),function(H){return f.trim(H.toLowerCase())});if(B.val()!==""&&f.inArray(B.val().toLowerCase(),D)>-1){G=B.val()}else{if(h(B.val())){C=n(B.val(),true)}else{F=w(B.val(),true);C=F?s(F):null}if(C===null){G=E.defaultValue}else{if(E.format==="rgb"){G=E.opacity?n("rgba("+C.r+","+C.g+","+C.b+","+B.attr("data-opacity")+")"):n("rgb("+C.r+","+C.g+","+C.b+")")}else{G=a(C)}}}A=E.opacity?B.attr("data-opacity"):1;if(G.toLowerCase()==="transparent"){A=0}B.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",A);B.val(G);if(B.val()===""){B.val(p(E.defaultValue,true))}B.val(o(B.val(),E.letterCase))}).on("keydown.minicolors",".minicolors-input",function(B){var A=f(this);if(!A.data("minicolors-initialized")){return}switch(B.keyCode){case 9:m();break;case 13:case 27:m();A.blur();break}}).on("keyup.minicolors",".minicolors-input",function(){var A=f(this);if(!A.data("minicolors-initialized")){return}b(A,true)}).on("paste.minicolors",".minicolors-input",function(){var A=f(this);if(!A.data("minicolors-initialized")){return}setTimeout(function(){b(A,true)},1)})}));