/**
@license
DayPilot Pro for JavaScript 2018.2.3297
Copyright (c) 2005 - 2018 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Calendar!=='undefined'){return;};DayPilot.Calendar=function(id,$a){this.v='2018.2.3297;';var $b=false;if(this instanceof DayPilot.Calendar&&!this.$5y){$b=true;this.$5y=true;};if(!$b){throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";};var $c=this;this.uniqueID=null;this.id=id;this.isCalendar=true;this.api=2;this.clientName=id;this.clientState={};this.$5z={};this.$5z.pixels={};this.$5z.events=[];this.elements={};this.elements.events=[];this.elements.separators=[];this.elements.selection=[];this.nav={};this.events={};this.hideUntilInit=true;this.$5A=true;this.allDayEnd="DateTime";this.allDayEventHeight=25;this.allowEventOverlap=true;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.backendUrl=null;if(typeof DayPilot.Bubble==="function"){this.bubble=new DayPilot.Bubble();this.cellBubble=new DayPilot.Bubble();this.columnBubble=new DayPilot.Bubble();}else{this.bubble=null;this.cellBubble=null;this.columnBubble=null;};this.businessBeginsHour=9;this.businessEndsHour=18;this.cellHeight=20;this.cellDuration=30;this.columnMarginRight=5;this.columnWidth=200;this.columnWidthSpec="Auto";this.columnsLoadMethod="GET";this.contextMenu=null;this.contextMenuSelection=null;this.cornerHtml='';this.crosshairType="Header";this.cssOnly=true;this.dayBeginsHour=0;this.dayEndsHour=24;this.days=1;this.durationBarVisible=true;this.eventArrangement="Cascade";this.eventsLoadMethod="GET";this.headerHeight=20;this.headerLevels=1;this.height=300;this.heightSpec='BusinessHours';this.hideFreeCells=false;this.headerDateFormat=null;this.hourWidth=45;this.initEventEnabled=false;this.initScrollPos=null;this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.locale="en-us";this.messageHideAfter=5000;this.moveBy="Full";this.notifyCommit='Immediate';this.rtl=false;this.scrollLabelsVisible=false;this.showToolTip=true;this.showAllDayEvents=false;this.showEventStartEnd=false;this.showHeader=true;this.showHours=true;this.showCurrentTime=true;this.showCurrentTimeMode="Day";this.showCurrentTimeOffset=0;this.startDate=DayPilot.Date.today();this.cssClassPrefix="calendar_default";this.tapAndHoldTimeout=300;this.theme=null;this.timeFormat='Auto';this.timeHeaderCellDuration=60;this.timeRangeSelectingStartEndEnabled=false;this.timeRangeSelectingStartEndFormat="Auto";this.eventMovingStartEndEnabled=false;this.eventMovingStartEndFormat="Auto";this.eventResizingStartEndEnabled=false;this.eventResizingStartEndFormat="Auto";this.useEventBoxes='Always';this.viewType='Days';this.visible=true;this.weekStarts="Auto";this.width=null;this.eventClickHandling='Enabled';this.eventDoubleClickHandling='Disabled';this.eventRightClickHandling='ContextMenu';this.eventDeleteHandling='Disabled';this.eventEditHandling='Update';this.eventHoverHandling='Bubble';this.eventResizeHandling='Update';this.eventMoveHandling='Update';this.eventSelectHandling='Update';this.eventTapAndHoldHandling='Move';this.headerClickHandling='Enabled';this.timeRangeTapAndHoldHandling='Select';this.timeRangeSelectedHandling='Enabled';this.timeRangeDoubleClickHandling="Disabled";this.timeRangeRightClickHandling="ContextMenu";this.onAutoRefresh=null;this.onTimeRangeRightClick=null;this.onTimeRangeRightClicked=null;this.onTimeRangeDoubleClick=null;this.onTimeRangeDoubleClicked=null;this.onTimeRangeSelect=null;this.onTimeRangeSelected=null;this.onTimeRangeSelecting=null;this.onEventFilter=null;this.onEventMove=null;this.onEventMoved=null;this.onEventMoving=null;this.onEventResize=null;this.onEventResized=null;this.onEventResizing=null;this.onEventSelect=null;this.onEventSelected=null;this.onEventEdit=null;this.onEventEdited=null;this.onEventDelete=null;this.onEventDeleted=null;this.onHeaderClick=null;this.onHeaderClicked=null;this.onEventRightClick=null;this.onEventRightClicked=null;this.onEventDoubleClick=null;this.onEventDoubleClicked=null;this.onEventClick=null;this.onEventClicked=null;this.onBeforeEventRender=null;this.onBeforeEventExport=null;this.onAfterEventRender=null;this.onBeforeCellRender=null;this.onBeforeCellExport=null;this.onBeforeHeaderRender=null;this.onBeforeHeaderExport=null;this.onBeforeTimeHeaderRender=null;this.$5B=true;this.$5C=false;this.$5D=0;this.doubleClickTimeout=300;this.members={};this.members.obsolete=["Init","cleanSelection","cssClassPrefix","cssOnly","clientName","uniqueID"];this.members.ignore=["internal","nav","debug","temp","elements","members","onCallbackError"];this.members.noCssOnly=[];this.$5E='javasc';this.$5F={};this.$5F.ie=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);this.$5F.ie9=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 9")!==-1);this.$5F.ielt9=(function(){var $d=document.createElement("div");$d.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var $e=($d.getElementsByTagName("i").length===1);return $e;})();this.$5F.ff=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1);this.clearSelection=function(){if(!this.selectedCells){this.selectedCells=[];return;};DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilot.Global.selecting=null;this.$5G();this.selectedCells=[];};this.$5G=function(){if(!this.selectedCells){return;};DayPilot.de($c.elements.selection);$c.elements.selection=[];$c.nav.activeSelection=null;};this.cleanSelection=this.clearSelection;this.$5H=function($f,$g,$h){var $i={};$i.action=$f;$i.parameters=$h;$i.data=$g;$i.header=this.$5I();var $j="JSON"+JSON.stringify($i);__doPostBack($c.uniqueID,$j);};this.$5J=function($f,$h,$g,$k){if(!this.$5K()){$c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");return;};if(typeof $k==='undefined'){$k="CallBack";};$c.$5L();var $i={};$i.action=$f;$i.type=$k;$i.parameters=$h;$i.data=$g;$i.header=this.$5I();var $j="JSON"+JSON.stringify($i);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$5M,$j,this.$5N);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$j,this.$5O,this.clientName,this.onCallbackError,true);}};this.$5K=function(){return($c.$5E!=="javasc"&&$c.$5E.indexOf("DCODE")===-1)||$c.devsb;};this.$5P=function(){if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$5N=function($l){if(typeof $c.onAjaxError==='function'){var $m={};$m.request=$l;$c.onAjaxError($m);}else if(typeof $c.ajaxError==='function'){$c.ajaxError($l);}};this.dispose=function(){var c=$c;if(!c.nav.top){return;};c.$5Q();c.$5R();if(c.nav.messageClose){c.nav.messageClose.onclick=null;};if(c.nav.hourTable)c.nav.hourTable.oncontextmenu=null;if(c.nav.hourTable)c.nav.hourTable.onmousemove=null;if(c.nav.header)c.nav.header.oncontextmenu=null;if(c.nav.corner)c.nav.corner.oncontextmenu=null;c.nav.zoom.onmousemove=null;c.nav.zoom.oncontextmenu=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;DayPilot.pu(c.nav.loading);c.$5S();c.$5T();c.nav.select=null;c.nav.cornerRight=null;c.nav.scrollable=null;c.nav.bottomLeft=null;c.nav.bottomRight=null;c.nav.allday=null;c.nav.zoom=null;c.nav.loading=null;c.nav.events=null;c.nav.header=null;c.nav.hourTable=null;c.nav.scrolltop=null;c.nav.scroll=null;c.nav.vsph=null;c.nav.main=null;c.nav.message=null;c.nav.messageClose=null;c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilot.ue(window,'resize',c.$5U);DayPilotCalendar.unregister(c);};this.$5V=function(){this.nav.top.dispose=this.dispose;};this.$5M=function($n){$c.$5O($n.responseText);};this.$5I=function(){var h={};h.v=this.v;h.control="dpc";h.id=this.id;h.clientState=$c.clientState;h.columns=this.$5W();h.days=$c.days;h.startDate=$c.startDate;h.cellDuration=$c.cellDuration;h.cssClassPrefix=$c.cssClassPrefix;h.heightSpec=$c.heightSpec;h.businessBeginsHour=$c.businessBeginsHour;h.businessEndsHour=$c.businessEndsHour;h.viewType=$c.viewType;h.dayBeginsHour=$c.dayBeginsHour;h.dayEndsHour=$c.dayEndsHour;h.headerLevels=$c.headerLevels;h.eventHeaderVisible=$c.eventHeaderVisible;h.timeFormat=$c.timeFormat;h.timeHeaderCellDuration=$c.timeHeaderCellDuration;h.locale=$c.locale;h.scrollY=$c.scrollPos;h.showAllDayEvents=$c.showAllDayEvents;h.tagFields=$c.tagFields;h.weekStarts=$c.weekStarts;h.selected=$c.multiselect.events();h.hashes=$c.hashes;return h;};this.$5X=function(){this.$5Y();DayPilot.Areas.hideAll();};this.$5W=function(){var $o=[];$o.ignoreToJSON=true;if(!this.$5Z){return $o;};for(var i=0;i<this.$5Z.length;i++){var $p=this.$5Z[i];var $q=this.$60($p);$o.push($q);};return $o;};this.$60=function($p){var $q={};$q.Value=$p.id;$q.Name=$p.name;$q.ToolTip=$p.toolTip;$q.Date=$p.start;$q.Children=this.$61($p.children);return $q;};this.$61=function($r){var $s=[];$s.ignoreToJSON=true;if(!$r){return $s;};for(var i=0;i<$r.length;i++){$s.push(this.$60($r[i]));};return $s;};this.$5O=function($t,$u){var $t=JSON.parse($t);if($t.BubbleGuid){var $v=$t.BubbleGuid;var $w=this.bubbles[$v];delete this.bubbles[$v];$c.$62();if(typeof $t.Result.BubbleHTML!=='undefined'){$w.updateView($t.Result.BubbleHTML,$w);};return;};if($t.CallBackRedirect){document.location.href=$t.CallBackRedirect;return;};if(typeof $t.ClientState!=='undefined'){$c.clientState=$t.ClientState;};if($t.UpdateType==="None"){$c.$62();$c.$63($t.CallBackData,true);if($t.Message){$c.message($t.Message);};return;};if($t.VsUpdate){var $x=document.createElement("input");$x.type='hidden';$x.name=$c.id+"_vsupdate";$x.id=$x.name;$x.value=$t.VsUpdate;$c.nav.vsph.innerHTML='';$c.nav.vsph.appendChild($x);};$c.$5R();$c.multiselect.clear(true);$c.multiselect.$64=$t.SelectedEvents;if(typeof $t.TagFields!=='undefined'){$c.tagFields=$t.TagFields;};if(typeof $t.SortDirections!=='undefined'){$c.sortDirections=$t.SortDirections;};if($t.UpdateType==="Full"){$c.colors=$t.Colors;$c.palette=$t.Palette;$c.dirtyColors=$t.DirtyColors;$c.cellProperties=$t.CellProperties;$c.cellConfig=$t.CellConfig;if($c.$65()===$c.columns){$c.columns=$t.Columns;}else{$c.columns.list=$t.Columns;};$c.days=$t.Days;$c.startDate=new DayPilot.Date($t.StartDate).getDatePart();$c.cellDuration=$t.CellDuration;$c.heightSpec=$t.HeightSpec?$t.HeightSpec:$c.heightSpec;$c.businessBeginsHour=$t.BusinessBeginsHour?$t.BusinessBeginsHour:$c.businessBeginsHour;$c.businessEndsHour=$t.BusinessEndsHour?$t.BusinessEndsHour:$c.businessEndsHour;$c.viewType=$t.ViewType;$c.headerLevels=$t.HeaderLevels;$c.backColor=$t.BackColor?$t.BackColor:$c.backColor;$c.nonBusinessBackColor=$t.NonBusinessBackColor?$t.NonBusinessBackColor:$c.nonBusinessBackColor;$c.eventHeaderVisible=$t.EventHeaderVisible?$t.EventHeaderVisible:$c.eventHeaderVisible;$c.timeFormat=$t.TimeFormat?$t.TimeFormat:$c.timeFormat;$c.timeHeaderCellDuration=typeof $t.TimeHeaderCellDuration!=='undefined'?$t.TimeHeaderCellDuration:$c.timeHeaderCellDuration;$c.locale=$t.Locale?$t.Locale:$c.locale;$c.dayBeginsHour=typeof $t.DayBeginsHour!=='undefined'?$t.DayBeginsHour:$c.dayBeginsHour;$c.dayEndsHour=typeof $t.DayEndsHour!=='undefined'?$t.DayEndsHour:$c.dayEndsHour;$c.cornerHtml=$t.CornerHTML;$c.hours=$t.Hours;$c.$66();$c.$67();};if($t.Hashes){for(var $y in $t.Hashes){$c.hashes[$y]=$t.Hashes[$y];}};$c.$68($t.Events);$c.$69();if($t.UpdateType==="Full"||$c.hideFreeCells){$c.$6a();$c.$6b();$c.$6c();$c.$6d();$c.$6e();$c.$6f();$c.$6g();$c.$6h();$c.clearSelection();$c.$6i();if(typeof $t.ScrollY!=="undefined"){$c.scrollToY($t.ScrollY);}else{$c.scrollToY($c.initScrollPos);}};$c.$6j();$c.$6k();$c.$6l();$c.$6m();if($c.heightSpec==="Parent100Pct"){$c.$5U();};if($c.timeRangeSelectedHandling!=="HoldForever"){$c.clearSelection();};$c.$6n();if($c.todo){if($c.todo.del){var $z=$c.todo.del;$z.parentNode.removeChild($z);$c.todo.del=null;}};$c.$63($t.CallBackData,true);$c.$62();$c.$6o();if($t.Message){$c.message($t.Message);}};this.$63=function($g,$A){var $B=function($g,$C){return function(){if($c.$6p()){if(typeof $c.onAfterRender==='function'){var $m={};$m.isCallBack=$C;$m.data=$g;$c.onAfterRender($m);}}else{if($c.afterRender){$c.afterRender($g,$C);}}};};window.setTimeout($B($g,$A),0);};this.$6q=function($D,$E){var $F=$c.nav.events;var $G=$F.rows[0].cells.length;var $H=$F.clientWidth/$G;var i=Math.floor($c.coords.x/$H);if(i<0){i=0;};if(i>=$G){i=$G-1;};if($c.rtl){i=$c.$6r.length-i-1;};var $p=$F.rows[0].cells[i];var $I=0;var $J=0;var top=0;if(typeof $D.duration!=='undefined'){var $K=$D.duration;top=Math.floor((($c.coords.y-$I)+$c.cellHeight/ 2)/ $c.cellHeight)*$c.cellHeight+$I;$J=$K*$c.cellHeight/(60*$c.cellDuration);$J=Math.max($J,$c.cellHeight);}else{var e=$D.event;$J=e.part.height;top=e.part.top;};var $L=document.createElement('div');$L.setAttribute('unselectable','on');$L.style.position='absolute';$L.style.width='100%';$L.style.height=$J+'px';$L.style.left='0px';$L.style.top=top+'px';$L.style.zIndex=101;$L.exclude=true;var $M=document.createElement("div");$L.appendChild($M);$L.className=$c.$6s("_shadow");$M.className=this.$6s("_shadow_inner");$p.events.appendChild($L);return $L;};this.$6t=function(){return this.$6u()/(3600*1000);};this.$6v=function(){if(this.businessBeginsHour>this.businessEndsHour){return 24-this.businessBeginsHour+this.businessEndsHour;}else{return this.businessEndsHour-this.businessBeginsHour;}};this.$6w=function(){if(this.dayBeginsHour>=this.dayEndsHour){return 24-this.dayBeginsHour+this.dayEndsHour;}else{return this.dayEndsHour-this.dayBeginsHour;}};this.$6u=function($N){var $O=0;if(this.heightSpec==='BusinessHoursNoScroll'){$O=this.$6v();}else if(this.hideFreeCells&&!$N){var $P=(this.$6x-1)*this.cellDuration/this.cellHeight;var $Q=Math.ceil($P/60);var $R=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;$O=Math.max(this.dayBeginsHour+$Q,$R)-this.$6y();}else{$O=this.$6w();};return $O*60*60*1000;};this.message=function($S,$T,$U,$V){if(!$S){return;};var $T=$T||this.messageHideAfter||2000;var $U=$U||"#ffffff";var $V=$V||"#000000";var $W=0.8;var $d;var top=this.$6z();var $X=this.showHours?this.hourWidth:0;var $Y=DayPilot.sw($c.$6A());if($c.rtl){var $Z=$X;$X=$Y;$Y=$Z;};if(!this.nav.message){$d=document.createElement("div");$d.style.position="absolute";$d.style.left=($X)+"px";$d.style.top=(top)+"px";$d.style.right="0px";$d.style.display='none';$d.onmousemove=function(){if($d.messageTimeout&&!$d.status){clearTimeout($d.messageTimeout);}};$d.onmouseout=function(){if($c.nav.message.style.display!=='none'){$d.messageTimeout=setTimeout($c.$6B,500);}};var $M=document.createElement("div");$M.onclick=function(){$c.nav.message.style.display='none';};$M.className=this.$6s("_message");$d.appendChild($M);var close=document.createElement("div");close.style.position="absolute";close.className=this.$6s("_message_close");close.onclick=function(){$c.nav.message.style.display='none';};$d.appendChild(close);this.nav.top.insertBefore($d,this.nav.loading);this.nav.message=$d;this.nav.messageClose=close;}else{$d=$c.nav.message;this.nav.message.style.top=top+"px";};if(this.nav.cornerRight){this.nav.message.style.right=$Y+"px";}else{this.nav.message.style.right="0px";};var $00=function(){if(!$c.nav.message){return;};var $M=$c.nav.message.firstChild;$M.innerHTML=$S;var end=function(){$d.messageTimeout=setTimeout($c.$6B,$T);};DayPilot.fade($c.nav.message,0.2,end);};clearTimeout($d.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($c.nav.message,-0.2,$00);}else{$00();}};this.message.show=function($S){$c.message($S);};this.message.hide=function(){$c.$6B();};this.$6B=function(){var end=function(){$c.nav.message.style.display='none';};DayPilot.fade($c.nav.message,-0.2,end);};this.$6d=function(){if(this.nav.message){this.nav.message.style.top=(this.$6z())+"px";}};this.$6C=function(){return this.$6u()/(60*1000*this.cellDuration);};this.eventClickPostBack=function(e,$g){this.$5H('EventClick',$g,e);};this.eventClickCallBack=function(e,$g){this.$5J('EventClick',e,$g);};this.$6D=function(e){var $d=this;var e=e||window.event;var $01=e.ctrlKey;var $02=e.metaKey;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($c.eventDoubleClickHandling==='Disabled'){$c.$6E($d,$01,$02,e);return;};if(!$c.timeouts){$c.timeouts=[];}else{for(var $03 in $c.timeouts){window.clearTimeout($c.timeouts[$03]);};$c.timeouts=[];};var $04=function($d,$01,$02,e){return function(){$c.$6E($d,$01,$02,e);};};$c.timeouts.push(window.setTimeout($04(this,$01,$02,e),$c.doubleClickTimeout));};this.$6E=function($05,$01,$02,$06){var e=$05.event;if(!e.client.clickEnabled()){return;};if($c.$6p()){var $m={};$m.e=e;$m.ctrl=$01;$m.meta=$02;$m.originalEvent=$06;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventClick==='function'){$c.onEventClick($m);if($m.preventDefault.value){return;}};switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'Edit':$c.$6F($05);break;case 'Select':$c.$6G($05,e,$01,$02);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;};if(typeof $c.onEventClicked==='function'){$c.onEventClicked($m);}}else{switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;case 'Edit':$c.$6F($05);break;case 'Select':$c.$6G($05,e,$01,$02);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;}}};this.eventDoubleClickPostBack=function(e,$g){this.$5H('EventDoubleClick',$g,e);};this.eventDoubleClickCallBack=function(e,$g){this.$5J('EventDoubleClick',e,$g);};this.$6H=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($c.timeouts){for(var $03 in $c.timeouts){window.clearTimeout($c.timeouts[$03]);};$c.timeouts=null;};var e=this.event;var ev=ev||window.event;if($c.$6p()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDoubleClick==='function'){$c.onEventDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'Edit':if(!e.allday()){$c.$6F(this);};break;case 'Select':if(!e.allday()){$c.$6G(this,e,ev.ctrlKey);};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventDoubleClicked==='function'){$c.onEventDoubleClicked($m);}}else{switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'JavaScript':$c.onEventDoubleClick(e);break;case 'Edit':if(!e.allday()){$c.$6F(this);};break;case 'Select':if(!e.allday()){$c.$6G(this,e,ev.ctrlKey);};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.eventRightClickPostBack=function(e,$g){this.$5H('EventRightClick',$g,e);};this.eventRightClickCallBack=function(e,$g){this.$5J('EventRightClick',e,$g);};this.$6I=function(ev){var e=this.event;if(ev.stopPropagation){ev.stopPropagation();};if(!e.client.rightClickEnabled()){return false;};if($c.$6p()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventRightClick==='function'){$c.onEventRightClick($m);if($m.preventDefault.value){return false;}};switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventRightClicked==='function'){$c.onEventRightClicked($m);}}else{switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'JavaScript':$c.onEventRightClick(e);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}};if(ev.preventDefault){ev.preventDefault();};return false;};this.headerClickPostBack=function(c,$g){this.$5H('HeaderClick',$g,c);};this.headerClickCallBack=function(c,$g){this.$5J('HeaderClick',c,$g);};this.$6J=function($D){var $g=this.data;var c=new DayPilotCalendar.Column($g.id,$g.name,$g.start);if($c.$6p()){var $m={};$m.header={};$m.header.id=$g.id;$m.header.name=$g.name;$m.header.start=$g.start;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onHeaderClick==='function'){$c.onHeaderClick($m);if($m.preventDefault.value){return;}};switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;};if(typeof $c.onHeaderClicked==='function'){$c.onHeaderClicked($m);}}else{switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;case 'JavaScript':$c.onHeaderClick(c);break;}}};this.$6K=function(){if(typeof(DayPilot.Bubble)!=='undefined'&&$c.columnBubble){if($c.viewType==="Resources"){var $08={};$08.calendar=$c;$08.id=this.data.id;$08.toJSON=function(){var $09={};$09.id=this.id;return $09;};$c.columnBubble.showResource($08);}else{var $0a=new DayPilot.Date(this.data.start);var end=$0a.addDays(1);var $0b={};$0b.calendar=$c;$0b.start=$0a;$0b.end=end;$0b.toJSON=function(){var $09={};$09.start=this.start;$09.end=this.end;return $09;};$c.columnBubble.showTime($0b);}};var $0c=this;var $d=$0c.firstChild;if(!$d.active){var $g=$0c.data;var c=new DayPilotCalendar.Column($g.id,$g.name,$g.start);c.areas=$0c.data.areas;DayPilot.Areas.showAreas($d,c);}};this.$6L=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'&&$c.columnBubble){$c.columnBubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this.firstChild,ev);};this.eventDeletePostBack=function(e,$g){this.$5H('EventDelete',$g,e);};this.eventDeleteCallBack=function(e,$g){this.$5J('EventDelete',e,$g);};this.$6M=function($D){var e;if($D&&$D.isEvent){e=$D;}else{e=$D.parentNode.parentNode.event;};if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();DayPilot.Bubble.cancelShowing();};if($c.$6p()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDelete==='function'){$c.onEventDelete($m);if($m.preventDefault.value){return;}};switch($c.eventDeleteHandling){case 'PostBack':$c.eventDeletePostBack(e);break;case 'CallBack':$c.eventDeleteCallBack(e);break;case 'Update':$c.events.remove(e);break;};if(typeof $c.onEventDeleted==='function'){$c.onEventDeleted($m);}}else{switch($c.eventDeleteHandling){case 'PostBack':$c.eventDeletePostBack(e);break;case 'CallBack':$c.eventDeleteCallBack(e);break;case 'JavaScript':$c.onEventDelete(e);break;}}};this.eventResizePostBack=function(e,$0d,$0e,$g){if(!$0d){throw 'newStart is null';};if(!$0e){throw 'newEnd is null';};var $0f={};$0f.e=e;$0f.newStart=$0d;$0f.newEnd=$0e;this.$5H('EventResize',$g,$0f);};this.eventResizeCallBack=function(e,$0d,$0e,$g){if(!$0d)throw 'newStart is null';if(!$0e)throw 'newEnd is null';var $0f={};$0f.e=e;$0f.newStart=$0d;$0f.newEnd=$0e;this.$5J('EventResize',$0f,$g);};this.$6N=function($k,$f,$0f,$g){if($k==='PostBack'){$c.postBack2($f,$0f,$g);}else if($k==='CallBack'){$c.$5J($f,$0f,$g,"CallBack");}else if($k==='Immediate'){$c.$5J($f,$0f,$g,"Notify");}else if($k==='Queue'){$c.queue.add(new DayPilot.Action(this,$f,$0f,$g));}else if($k==='Notify'){if($0g.notifyType()==='Notify'){$c.$5J($f,$0f,$g,"Notify");}else{$c.queue.add(new DayPilot.Action($c,$f,$0f,$g));}}else{throw "Invalid event invocation type";}};this.$6y=function($N){if(this.heightSpec==='BusinessHoursNoScroll'){return this.businessBeginsHour;}else if(this.hideFreeCells&&!$N){var $P=(this.$6O)*this.cellDuration/this.cellHeight;var $Q=Math.floor($P/60);$Q=Math.max(0,$Q);return Math.min(this.dayBeginsHour+$Q,this.businessBeginsHour);}else{return this.dayBeginsHour;}};this.visibleStart=function(){if($c.viewType==="Resources"){if($c.$6r.isEmpty()){return DayPilot.Date.today();};var $0h=DayPilot.list($c.$6r).map(function($p){return $p.start.getTime();});var $0i=Math.min.apply(null,$0h);return new DayPilot.Date($0i);};return this.$6r[0].start;};this.visibleEnd=function(){if($c.viewType==="Resources"){if($c.$6r.isEmpty()){return DayPilot.Date.today().addDays(1);};var $0h=DayPilot.list($c.$6r).map(function($p){return $p.start.getTime();});var $N=Math.max.apply(null,$0h);return new DayPilot.Date($N).addDays(1);};var $0j=this.$6r;var $N=$0j.length-1;return $0j[$N].start.addDays(1);};this.$6p=function(){return $c.api===2;};this.$6P=function(e,$0k){var $0a=e.start();var $0l=$0a.getDatePart();var $0m=Math.floor($0k/$c.cellHeight);var $0n=$0m*$c.cellDuration;var ts=$0n*60*1000;var $0o=$c.$6y()*60*60*1000;return $0l.addTime(ts+$0o);};this.$6Q=function(e,$0p){var $0m=Math.floor($0p/$c.cellHeight);var $0n=$0m*$c.cellDuration;var ts=$0n*60*1000;var $0o=$c.$6y()*60*60*1000;var $0l=$c.$6r[e.part.dayIndex].start;return $0l.addTime(ts+$0o);};this.$6R=function(e,$0q,$0k,$0r){if(this.eventResizeHandling==='Disabled'){return;};var $0d,$0e;if($0r==='top'){$0d=$c.$6P(e,$0k);$0e=e.end();}else if($0r==='bottom'){$0d=e.start();$0e=$c.$6Q(e,$0k+$0q);};if($c.$6p()){var $m={};$m.e=e;$m.newStart=$0d;$m.newEnd=$0e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventResize==='function'){$c.onEventResize($m);if($m.preventDefault.value){return;}};switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$0d,$0e);break;case 'CallBack':$c.eventResizeCallBack(e,$0d,$0e);break;case 'Notify':$c.eventResizeNotify(e,$0d,$0e);break;case 'Update':e.start($0d);e.end($0e);$c.events.update(e);break;};if(typeof $c.onEventResized==='function'){$c.onEventResized($m);}}else{switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$0d,$0e);break;case 'CallBack':$c.eventResizeCallBack(e,$0d,$0e);break;case 'JavaScript':$c.onEventResize(e,$0d,$0e);break;case 'Notify':$c.eventResizeNotify(e,$0d,$0e);break;}}};this.eventResizeNotify=function(e,$0d,$0e,$g){var $0s=new DayPilot.Event(e.copy(),this);e.start($0d);e.end($0e);e.commit();$c.update();this.$6S("Notify",$0s,$0d,$0e,$g);};this.$6S=function($k,e,$0d,$0e,$g){var $0f={};$0f.e=e;$0f.newStart=$0d;$0f.newEnd=$0e;this.$6N($k,"EventResize",$0f,$g);};this.eventMovePostBack=function(e,$0d,$0e,$0t,$g){if(!$0d)throw 'newStart is null';if(!$0e)throw 'newEnd is null';var $0f={};$0f.e=e;$0f.newStart=$0d;$0f.newEnd=$0e;$0f.newResource=$0t;this.$5H('EventMove',$g,$0f);};this.eventMoveCallBack=function(e,$0d,$0e,$0t,$g){if(!$0d)throw 'newStart is null';if(!$0e)throw 'newEnd is null';var $0f={};$0f.e=e;$0f.newStart=$0d;$0f.newEnd=$0e;$0f.newResource=$0t;this.$5J('EventMove',$0f,$g);};this.$6T=function(e,$0u,$0k){var $I=0;var $0m=Math.floor(($0k-$I)/$c.cellHeight);var $0v=$c.cellDuration;var $0w=$0m*$0v*60*1000;var $0a=e.start();var end=e.end();var $0l=new Date();if($0a instanceof DayPilot.Date){$0a=$0a.toDate();};$0l.setTime(Date.UTC($0a.getUTCFullYear(),$0a.getUTCMonth(),$0a.getUTCDate()));var $0x=($c.useEventBoxes!=='Never')?$0a.getTime()-($0l.getTime()+$0a.getUTCHours()*3600*1000+Math.floor($0a.getUTCMinutes()/$0v)*$0v*60*1000):0;var length=end.getTime()-$0a.getTime();var $0o=$c.$6y()*3600*1000;if(typeof $0u==="undefined"){$0u=e.part.dayIndex;};var $0y=this.$6r[$0u];var $0z=$0y.start.getTime();var $0A=new Date();$0A.setTime($0z+$0w+$0x+$0o);var $0d=new DayPilot.Date($0A);var $0e=$0d.addTime(length);var $0t=$0y.id;return{"start":$0d,"end":$0e,"resource":$0t};};this.$6U=function(e,$0u,$0k,ev,$0B){if($c.eventMoveHandling==='Disabled'){return;};var $0C=$c.$6T(e,$0u,$0k);var $0d=$0C.start;var $0e=$0C.end;var $0t=$0C.resource;var external=!!$0B;if($c.$6p()){var $m={};$m.e=e;$m.newStart=$0C.start;$m.newEnd=$0C.end;$m.newResource=$0C.resource;$m.external=external;$m.ctrl=false;if(ev){$m.ctrl=ev.ctrlKey;};$m.shift=false;if(ev){$m.shift=ev.shiftKey;};$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventMove==='function'){$c.onEventMove($m);if($m.preventDefault.value){return;}};switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$0d,$0e,$0t);break;case 'CallBack':$c.eventMoveCallBack(e,$0d,$0e,$0t);break;case 'Notify':$c.eventMoveNotify(e,$0d,$0e,$0t);break;case 'Update':e.start($0d);e.end($0e);e.resource($0t);if(external){e.commit();$c.events.add(e);}else{$c.events.update(e);};$c.$6V();break;};if(typeof $c.onEventMoved==='function'){$c.onEventMoved($m);}}else{switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$0d,$0e,$0t);break;case 'CallBack':$c.eventMoveCallBack(e,$0d,$0e,$0t);break;case 'JavaScript':$c.onEventMove(e,$0d,$0e,$0t,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false);break;case 'Notify':$c.eventMoveNotify(e,$0d,$0e,$0t,null);break;}}};this.eventMoveNotify=function(e,$0d,$0e,$0t,$g){var $0s=new DayPilot.Event(e.copy(),this);e.start($0d);e.end($0e);e.resource($0t);e.commit();$c.update();this.$6W("Notify",$0s,$0d,$0e,$0t,$g);};this.$6W=function($k,e,$0d,$0e,$0t,$g){var $0f={};$0f.e=e;$0f.newStart=$0d;$0f.newEnd=$0e;$0f.newResource=$0t;this.$6N($k,"EventMove",$0f,$g);};this.$6V=function(){if($c.todo){if($c.todo.del){var $z=$c.todo.del;$z.parentNode.removeChild($z);$c.todo.del=null;}}};this.$6X=function($m,$w){var $v=$c.$6Y($w);var $0f={};$0f.args=$m;$0f.guid=$v;$c.$5J("Bubble",$0f);};this.$6Y=function($w){var $v=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$v]=$w;return $v;};this.eventMenuClickPostBack=function(e,$0D,$g){var $0f={};$0f.e=e;$0f.command=$0D;this.$5H('EventMenuClick',$g,$0f);};this.eventMenuClickCallBack=function(e,$0D,$g){var $0f={};$0f.e=e;$0f.command=$0D;this.$5J('EventMenuClick',$0f,$g);};this.$6Z=function($0D,e,$0E){switch($0E){case 'PostBack':$c.eventMenuClickPostBack(e,$0D);break;case 'CallBack':$c.eventMenuClickCallBack(e,$0D);break;}};this.timeRangeMenuClickPostBack=function(e,$0D,$g){var $0f={};$0f.selection=e;$0f.command=$0D;this.$5H("TimeRangeMenuClick",$g,$0f);};this.timeRangeMenuClickCallBack=function(e,$0D,$g){var $0f={};$0f.selection=e;$0f.command=$0D;this.$5J("TimeRangeMenuClick",$0f,$g);};this.$70=function($0D,e,$0E){switch($0E){case 'PostBack':$c.timeRangeMenuClickPostBack(e,$0D);break;case 'CallBack':$c.timeRangeMenuClickCallBack(e,$0D);break;}};this.timeRangeSelectedPostBack=function($0a,end,$0F,$g){var $0G={};$0G.start=$0a;$0G.end=end;$0G.resource=$0F;this.$5H('TimeRangeSelected',$g,$0G);};this.timeRangeSelectedCallBack=function($0a,end,$0F,$g){var $0G={};$0G.start=$0a;$0G.end=end;$0G.resource=$0F;this.$5J('TimeRangeSelected',$0G,$g);};this.$71=function($0a,end,$p){$0a=new DayPilot.Date($0a);end=new DayPilot.Date(end);var $0F=$p;if($c.$6p()){var $m={};$m.start=$0a;$m.end=end;$m.resource=$0F;$m.control=$c;$m.preventDefault=function(){this.preventDefault.value=true;};$m.toJSON=function(){return DayPilot.Util.copyProps($m,{},["start","end","resource"]);};if(typeof $c.onTimeRangeSelect==='function'){$c.onTimeRangeSelect($m);if($m.preventDefault.value){return;}};switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($0a,end,$0F);break;case 'CallBack':$c.timeRangeSelectedCallBack($0a,end,$0F);break;};if(typeof $c.onTimeRangeSelected==='function'){$c.onTimeRangeSelected($m);}}else{switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($0a,end,$p);break;case 'CallBack':$c.timeRangeSelectedCallBack($0a,end,$p);break;case 'JavaScript':$c.onTimeRangeSelected($0a,end,$p);break;}}};this.timeRangeDoubleClickPostBack=function($0a,end,$p,$g){var $0G={};$0G.start=$0a;$0G.end=end;$0G.resource=$p;this.$5H('TimeRangeDoubleClick',$g,$0G);};this.timeRangeDoubleClickCallBack=function($0a,end,$p,$g){var $0G={};$0G.start=$0a;$0G.end=end;$0G.resource=$p;this.$5J('TimeRangeDoubleClick',$0G,$g);};this.$72=function($0a,end,$p){if($c.$6p()){var $0F=$p;var $m={};$m.start=$0a;$m.end=end;$m.resource=$0F;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeDoubleClick==='function'){$c.onTimeRangeDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($0a,end,$0F);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($0a,end,$0F);break;};if(typeof $c.onTimeRangeDoubleClicked==='function'){$c.onTimeRangeDoubleClicked($m);}}else{switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($0a,end,$p);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($0a,end,$p);break;case 'JavaScript':$c.onTimeRangeDoubleClick($0a,end,$p);break;}}};this.eventEditPostBack=function(e,$0H,$g){var $0f={};$0f.e=e;$0f.newText=$0H;this.$5H("EventEdit",$g,$0f);};this.eventEditCallBack=function(e,$0H,$g){var $0f={};$0f.e=e;$0f.newText=$0H;this.$5J("EventEdit",$0f,$g);};this.$73=function(e,$0H){if($c.$6p()){var $m={};$m.e=e;$m.newText=$0H;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventEdit==='function'){$c.onEventEdit($m);if($m.preventDefault.value){return;}};switch($c.eventEditHandling){case 'PostBack':$c.eventEditPostBack(e,$0H);break;case 'CallBack':$c.eventEditCallBack(e,$0H);break;case 'Update':e.text($0H);$c.events.update(e);break;};if(typeof $c.onEventEdited==='function'){$c.onEventEdited($m);if($m.preventDefault.value){return;}}}else{switch($c.eventEditHandling){case 'PostBack':$c.eventEditPostBack(e,$0H);break;case 'CallBack':$c.eventEditCallBack(e,$0H);break;case 'JavaScript':$c.onEventEdit(e,$0H);break;}}};this.eventSelectPostBack=function(e,$0I,$g){var $0f={};$0f.e=e;$0f.change=$0I;this.$5H('EventSelect',$g,$0f);};this.eventSelectCallBack=function(e,$0I,$g){var $0f={};$0f.e=e;$0f.change=$0I;this.$5J('EventSelect',$0f,$g);};this.$74=function($d,e,$01,$02){var m=$c.multiselect;var $0J=false;var $0K=m.isSelected(e);var $0L=$01||$02;if(!$0L&&$0K&&!$0J&&m.$75.length===1){return;};if($c.$6p()){m.previous=m.events();var $m={};$m.e=e;$m.selected=m.isSelected(e);$m.ctrl=$01;$m.meta=$02;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventSelect==='function'){$c.onEventSelect($m);if($m.preventDefault.value){return;}};switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$0I);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$0I);break;case 'Update':m.$76($d,$01);break;};if(typeof $c.onEventSelected==='function'){$m.change=m.isSelected(e)?"selected":"deselected";$m.selected=m.isSelected(e);$c.onEventSelected($m);}}else{m.previous=m.events();m.$76($d,$01);var $0I=m.isSelected(e)?"selected":"deselected";switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$0I);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$0I);break;case 'JavaScript':$c.onEventSelect(e,$0I);break;}}};this.commandCallBack=function($0D,$g){this.$5Q();var $0f={};$0f.command=$0D;this.$5J('Command',$0f,$g);};this.$77=function(ev){if($0M.active||$0M.using){return;};clearTimeout(DayPilotCalendar.selectedTimeout);if(DayPilot.Global.selecting){return;};if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if($c.selectedCells&&$c.timeRangeDoubleClickHandling!=='Disabled'){for(var i=0;i<$c.selectedCells.length;i++){if(this===$c.selectedCells[i]){return;}}};if($c.timeRangeSelectedHandling==="Disabled"){return;};var $0N=DayPilot.Util.mouseButton(ev);if(!$0N.left){return;};DayPilotCalendar.firstMousePos=$c.coords;DayPilotCalendar.firstMousePos.calendar=$c;$c.clearSelection();DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$c.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilot.Global.selecting={"calendar":$c};$c.$78();};this.$79=function($0O){var $0O=$("#touch").html()+"<br>"+new DayPilot.Date()+" "+$0O;$("#touch").html($0O);};this.$78=function(){var $0P=this.getSelection();if(!$0P){return;};if(!$c.selectedCells){return;};(function activateSelectionNew(){var $0Q=DayPilotCalendar.topSelectedCell;var $0R=DayPilotCalendar.bottomSelectedCell;var $0S=$0Q.parentNode.cells;var $0T=(function(){for(var i=0;i<$0S.length;i++){if($0S[i]===$0Q){return i;}};return -1;})();var $0U=$c.timeRangeSelectingStartEndFormat;if($0U==="Auto"){$0U=$0g.timeFormat()==="Clock24Hours"?"H:mm":"h:mm tt";};var $0V=$c.$6r[$0T];var $m={};$m.start=$0Q.start;$m.end=$0R.end;$m.duration=new DayPilot.Duration($m.start,$m.end);$m.resource=$0V.id;$m.allowed=true;$m.html=null;$m.cssClass=null;$m.top={};$m.top.width=null;$m.top.space=5;$m.top.html=$m.start.toString($0U,$0g.locale());$m.top.enabled=$c.timeRangeSelectingStartEndEnabled;$m.bottom={};$m.bottom.width=null;$m.bottom.space=5;$m.bottom.html=$m.end.toString($0U,$0g.locale());$m.bottom.enabled=$c.timeRangeSelectingStartEndEnabled;if(!DayPilot.Global.selecting){return;};var $0W=DayPilot.Global.selecting.args;if($0W&&$0W.start===$m.start&&$0W.end===$m.end&&$0W.resource==$m.resource){return;};if(!$c.allowEventOverlap){var $g={"id":null,"start":$m.start,"end":$m.end,"resource":$m.resource};if($c.events.$7a($g)){$m.allowed=false;}};if(typeof $c.onTimeRangeSelecting==="function"&&$m.allowed){$c.onTimeRangeSelecting($m);};DayPilot.Global.selecting.args=$m;var top=$c.$7b($0Q.start,$0V.start).boxTop;var $0X=$c.$7b($0R.end,$0V.start).boxBottom;var $J=$0X-top;var $d=(function(){if($c.nav.activeSelection){return $c.nav.activeSelection;};var $d=document.createElement("div");$d.style.zIndex=101;$d.style.position="absolute";$d.style.left="0px";$d.style.width="100%";$d.ondblclick=function(e){if($c.timeRangeDoubleClickHandling==="Disabled"){return;};clearTimeout($c.$7c);var $0Y=$c.getSelection();if(!$0Y){return;};$c.$72($0Y.start,$0Y.end,$0Y.resource);};var $M=document.createElement("div");$M.className=$c.$6s("_shadow_inner");$d.appendChild($M);$c.nav.events.rows[0].cells[$0T].selection.appendChild($d);$c.elements.selection.push($d);$c.nav.activeSelection=$d;return $d;})();$d.className=$c.$6s("_shadow");$d.firstChild.innerHTML="";$d.style.top=top+"px";$d.style.height=$J+"px";var $M=$d.firstChild;if($m.html){$M.innerHTML=$m.html;};if($m.cssClass){DayPilot.Util.addClass($d,$m.cssClass);};if(!$m.allowed){DayPilot.Util.addClass($d,$c.$6s("_shadow_forbidden"));};$c.$7d($d,$0T,$m);})();};this.$7e=function($L){DayPilot.de($L);DayPilot.de($c.nav.indicatorTop);DayPilot.de($c.nav.indicatorBottom);};this.$7d=function($d,$0T,$m){var $0S=$c.nav.events.rows[0].cells;var $0Z=$0S[$0T].events;var $10=$0T===$0S.length-1;DayPilot.de($c.nav.indicatorTop);DayPilot.de($c.nav.indicatorBottom);if($m.top.enabled){var top=document.createElement("div");top.style.zIndex=101;top.style.position="absolute";top.style.top=$d.offsetTop+"px";if(!$10){top.style.left=($d.offsetWidth+$m.top.space)+"px";}else{top.style.right="0px";};if($m.top.width){top.style.width=$m.top.width+"px";}else{top.style.whiteSpace="nowrap";};if($m.top.html){top.innerHTML=$m.top.html;};top.className=$c.$6s("_shadow_top");$0Z.appendChild(top);$c.elements.selection.push(top);$c.nav.indicatorTop=top;};if($m.bottom.enabled){var $0X=document.createElement("div");$0X.style.zIndex=101;$0X.style.position="absolute";$0X.style.top=($d.offsetTop+$d.offsetHeight)+"px";if(!$10){$0X.style.left=($d.offsetWidth+$m.bottom.space)+"px";}else{$0X.style.right="0px";};if($m.bottom.width){$0X.style.width=$m.bottom.width+"px";}else{$0X.style.whiteSpace="nowrap";};if($m.bottom.html){$0X.innerHTML=$m.bottom.html;};$0X.className=$c.$6s("_shadow_bottom");$0Z.appendChild($0X);var $J=$0X.offsetHeight;$0X.style.top=($d.offsetTop+$d.offsetHeight-$J)+"px";$c.elements.selection.push($0X);$c.nav.indicatorBottom=$0X;}};this.$7f=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'&&$c.cellBubble){$c.cellBubble.hideOnMouseOut();}};this.$7g=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if($0M.active||$0M.using){return;};if(typeof(DayPilot.Bubble)!=='undefined'&&$c.cellBubble){var $p=DayPilotCalendar.getColumn(this);var $08=$c.$6r[$p].id;var $0c={};$0c.calendar=$c;$0c.start=this.start;$0c.end=this.end;$0c.resource=$08;$0c.toJSON=function(){var $09={};$09.start=this.start;$09.end=this.end;$09.resource=this.resource;return $09;};$c.cellBubble.showCell($0c);}};this.getSelection=function(){if(!DayPilotCalendar.topSelectedCell){return null;};if(!DayPilotCalendar.bottomSelectedCell){return null;};var $0a=DayPilotCalendar.topSelectedCell.start;var end=DayPilotCalendar.bottomSelectedCell.end;var $11=DayPilotCalendar.topSelectedCell.resource;return new DayPilot.Selection($0a,end,$11,$c);};this.$7h=function(ev){};this.$7i=function(ev){var $12=$c.columnWidthSpec==="Fixed";if($12||$c.$7j){if(!$c.nav.bottomLeft){return;};$c.nav.bottomLeft.scrollTop=$c.nav.bottomRight.scrollTop;if($c.nav.upperRight){$c.nav.upperRight.scrollLeft=$c.nav.bottomRight.scrollLeft;};$c.nav.scrollLayer.scrollLeft=$c.nav.bottomRight.scrollLeft;};var scroll=$c.$7k();$c.scrollPos=scroll.scrollTop;$c.$7l=scroll.clientHeight;$c.nav.scrollpos.value=$c.scrollPos;$c.$6n();};this.$6n=function(){if(!this.scrollLabelsVisible){return;};if(!this.$7m){return;};var $13=this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0;if(!$13){return;};var $0j=this.$6r;var $14=(this.showHours?this.hourWidth:0);var $H=this.nav.main.rows[0].cells[0].clientWidth;var iw=10;var $15=1;for(var i=0;i<this.nav.scrollUp.length;i++){var $16=this.nav.scrollUp[i];var $17=this.nav.scrollDown[i];var $X=Math.floor($14+i*$H+$H/ 2-(iw/ 2)+$15);if($X<0){$X=0;};$X-=$c.nav.bottomRight.scrollLeft;if($16&&$16.style){$16.style.left=$X+"px";};if($17&&$17.style){$17.style.left=$X+"px";}};var $18=this.$7n();for(var i=0;i<this.nav.scrollUp.length;i++){var up=this.nav.scrollUp[i];var $19=this.nav.scrollDown[i];var $1a=this.$7m[i].minEnd-$18;var $1b=this.$7m[i].maxStart-$18;if(up&&$19){if($1a<=$c.scrollPos&&parseInt(up.style.left)>=$c.hourWidth){up.style.top=(this.$6z())+"px";up.style.display='';}else{up.style.display='none';};if($1b>=$c.scrollPos+$c.$7l&&parseInt($19.style.left)>=$c.hourWidth){$19.style.top=(this.$6z()+this.$7l-10)+"px";$19.style.display='';}else{$19.style.display='none';}}}};this.$7o=function($D){var $1c=$D.parentNode;var $X=0;var top=$D.offsetTop;var $1d=$D.parentNode.offsetWidth;var $J=$D.offsetHeight;if($D.event.allday()){$X=$D.offsetLeft;$1d=$D.offsetWidth;};var $1e=document.createElement('textarea');$1e.style.boxSizing="border-box";$1e.style.position='absolute';$1e.style.width=$1d+'px';$1e.style.height=$J+'px';var $1f=DayPilot.gs($D,'fontFamily');if(!$1f)$1f=DayPilot.gs($D,'font-family');$1e.style.fontFamily=$1f;var $1g=DayPilot.gs($D,'fontSize');if(!$1g)$1g=DayPilot.gs($D,'font-size');$1e.style.fontSize=$1g;$1e.style.left=$X+'px';$1e.style.top=top+'px';$1e.style.border='1px solid black';$1e.style.padding='0px';$1e.style.marginTop='0px';$1e.style.backgroundColor='white';$1e.value=DayPilot.tr($D.event.text());$1e.event=$D.event;$1c.appendChild($1e);return $1e;};this.$6G=function($d,e,$01,$02){$c.$74($d,e,$01,$02);};this.multiselect={};this.multiselect.$64=[];this.multiselect.$75=[];this.multiselect.$7p=[];this.multiselect.$7q=[];this.multiselect.$7r=function(){var m=$c.multiselect;return JSON.stringify(m.events());};this.multiselect.events=function(){var m=$c.multiselect;var $1h=[];$1h.ignoreToJSON=true;for(var i=0;i<m.$75.length;i++){$1h.push(m.$75[i]);};return $1h;};this.multiselect.$7s=function(){var h=$c.nav.select;h.value=$c.multiselect.$7r();};this.multiselect.$76=function($d,$1i){var m=$c.multiselect;if(m.isSelected($d.event)){if($c.allowMultiSelect){if($1i){m.remove($d.event,true);}else{var $1j=m.$75.length;m.clear(true);if($1j>1){m.add($d.event,true);}}}else{m.clear(true);}}else{if($c.allowMultiSelect){if($1i){m.add($d.event,true);}else{m.clear(true);m.add($d.event,true);}}else{m.clear(true);m.add($d.event,true);}};m.redraw();m.$7s();};this.multiselect.$7t=function(ev){var m=$c.multiselect;return m.$7u(ev,m.$64);};this.multiselect.$7v=function(){var m=$c.multiselect;var $1k=[];for(var i=0;i<m.$75.length;i++){var event=m.$75[i];$1k.push(event.value());};alert($1k.join("\n"));};this.multiselect.add=function(ev,$1l){var m=$c.multiselect;if(m.$7w(ev)===-1){m.$75.push(ev);};m.$7s();if($1l){return;};m.redraw();};this.multiselect.remove=function(ev,$1l){var m=$c.multiselect;var i=m.$7w(ev);if(i!==-1){m.$75.splice(i,1);};m.$7s();if($1l){return;};m.redraw();};this.multiselect.clear=function($1l){var m=$c.multiselect;m.$75=[];m.$7s();if($1l){return;};m.redraw();};this.multiselect.redraw=function(){var m=$c.multiselect;for(var i=0;i<$c.elements.events.length;i++){var $d=$c.elements.events[i];if(m.isSelected($d.event)){m.$7x($d);}else{m.$7y($d);}}};this.multiselect.$7x=function($d){var m=$c.multiselect;var cn=$c.$6s("_selected");var c=m.$7z($d);DayPilot.Util.addClass(c,cn);m.$7p.push($d);};this.multiselect.$7z=function($d){return $d;};this.multiselect.$7A=function(){var m=$c.multiselect;for(var i=0;i<m.$7p.length;i++){var $d=m.$7p[i];m.$7y($d,true);};m.$7p=[];};this.multiselect.$7y=function($d,$1m){var m=$c.multiselect;var cn=$c.$6s("_selected");var c=m.$7z($d);DayPilot.Util.removeClass(c,cn);if($1m){return;};var i=DayPilot.indexOf(m.$7p,$d);if(i!==-1){m.$7p.splice(i,1);}};this.multiselect.isSelected=function(ev){return $c.multiselect.$7u(ev,$c.multiselect.$75);};this.multiselect.$7w=function(ev){return DayPilot.indexOf($c.multiselect.$75,ev);};this.multiselect.$7u=function(e,$1k){if(!$1k){return false;};for(var i=0;i<$1k.length;i++){var ei=$1k[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.$6F=function($D){if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};var $1e=this.$7o($D);DayPilotCalendar.editing=$1e;DayPilot.re($1e,DayPilot.touch.start,function(ev){ev.stopPropagation();});$1e.onblur=function(){if(!$D.event){return;};var id=$D.event.value();var $1n=$D.event.tag();var $1o=$D.event.text();var $0H=$1e.value;DayPilotCalendar.editing=null;$1e.onblur=null;DayPilot.de($1e);if($1o===$0H){return;};$D.style.display='none';$c.$73($D.event,$0H);};$1e.onkeypress=function(e){var $1p=(window.event)?event.keyCode:e.keyCode;if($1p===13){this.onblur();e.preventDefault();return false;}};$1e.onkeyup=function(e){var $1p=(window.event)?event.keyCode:e.keyCode;if($1p===27){$1e.onblur=null;$1e.parentNode&&$1e.parentNode.removeChild($1e);DayPilotCalendar.editing=false;};return true;};$1e.select();$1e.focus();};this.$7B=function(){if($c.viewType==="Resources"){return false;};if($c.$65()&&$c.$5K()){return false;};return true;};this.$65=function(){if(DayPilot.isArray($c.columns)){return $c.columns;};return $c.columns.list;};this.columns={};this.columns.list=[];this.columns.$7C=false;this.columns.load=function($1q,$1r,$1s){if(!$1q){throw new DayPilot.Exception("columns.load(): 'url' parameter required");};var $1t=function($m){var $1u={};$1u.exception=$m.exception;$1u.request=$m.request;if(typeof $1s==='function'){$1s($1u);}};var $1v=function($m){var r=$m.request;var $g;try{$g=JSON.parse(r.responseText);}catch(e){var $1w={};$1w.exception=e;$1t($1w);return;};if(DayPilot.isArray($g)){var $1x={};$1x.preventDefault=function(){this.preventDefault.value=true;};$1x.data=$g;if(typeof $1r==="function"){$1r($1x);};if($1x.preventDefault.value){return;};$c.columns.list=$g;if($c.$5C){$c.update();}}};var $1y=$c.columnsLoadMethod&&$c.columnsLoadMethod.toUpperCase()==="POST";if($1y){DayPilot.ajax({"method":"POST","url":$1q,"success":$1v,"error":$1t});}else{DayPilot.ajax({"method":"GET","url":$1q,"success":$1v,"error":$1t});}};this.$66=function(){var $1z=$c.$7B();if($1z){var $1A=this.$7D();this.$6r=this.$7E($1A);}else{this.$5Z=this.$7E(this.$65()||[]);this.$6r=this.$7F(this.headerLevels,true);}};this.$7G=function(){var $0a=this.startDate.getDatePart();var $1B=this.days;switch(this.viewType){case "Day":$1B=1;break;case "Week":$1B=7;$0a=$0a.firstDayOfWeek($0g.weekStarts());break;case "WorkWeek":$1B=5;$0a=$0a.firstDayOfWeek(1);break;};var end=$0a.addDays($1B);var $t={};$t.start=$0a;$t.end=end;$t.days=$1B;return $t;};this.$7D=function(){var $0j=[];var $1C=this.$7G();var $0a=$1C.start;var $1B=$1C.days;for(var i=0;i<$1B;i++){var $p={};$p.start=$0a.addDays(i);var $1D=$0g.locale().datePattern;if($c.headerDateFormat){$1D=$c.headerDateFormat;};$p.name=$p.start.toString($1D,$0g.locale());$p.html=$p.name;$0j.push($p);};return $0j;};this.$7H=function($p){var $1E={};$1E.id=$p.id;$1E.start=new DayPilot.Date($p.start||$c.startDate).getDatePart();$1E.name=$p.name;$1E.html=$p.html||$p.name;$1E.toolTip=$p.toolTip;$1E.backColor=$p.backColor;$1E.areas=$p.areas;$1E.getChildren=function($1F,$1G){var $1k=[];if($1F<=1){$1k.push(this);return $1k;};if(!this.children||this.children.length===0){if($1G){$1k.push(this);}else{$1k.push("empty");};return $1k;};for(var i=0;i<this.children.length;i++){var $1H=this.children[i];var $1I=$1H.getChildren($1F-1,$1G);for(var j=0;j<$1I.length;j++){$1k.push($1I[j]);}};return $1k;};$1E.getChildrenCount=function($1F){var $1j=0;if(!this.children||this.children.length<=0||$1F<=1){return 1;};for(var i=0;i<this.children.length;i++){$1j+=this.children[i].getChildrenCount($1F-1);};return $1j;};$1E.putIntoBlock=function(ep){for(var i=0;i<this.blocks.length;i++){var $1J=this.blocks[i];if($1J.overlapsWith(ep.part.top,ep.part.height)){$1J.events.push(ep);$1J.min=Math.min($1J.min,ep.part.top);$1J.max=Math.max($1J.max,ep.part.top+ep.part.height);return i;}};var $1J=[];$1J.lines=[];$1J.events=[];$1J.overlapsWith=function($0a,$1d){var end=$0a+$1d-1;if(!(end<this.min||$0a>this.max-1)){return true;};return false;};$1J.putIntoLine=function(ep){var $1K=this;for(var i=0;i<this.lines.length;i++){var $1L=this.lines[i];if($1L.isFree(ep.part.top,ep.part.height)){$1L.push(ep);return i;}};var $1L=[];$1L.isFree=function($0a,$1d){var end=$0a+$1d-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.top||$0a>e.part.top+e.part.height-1)){return false;}};return true;};$1L.push(ep);this.lines.push($1L);return this.lines.length-1;};$1J.events.push(ep);$1J.min=ep.part.top;$1J.max=ep.part.top+ep.part.height;this.blocks.push($1J);return this.blocks.length-1;};$1E.putIntoLine=function(ep){var $1K=this;for(var i=0;i<this.lines.length;i++){var $1L=this.lines[i];if($1L.isFree(ep.part.top,ep.part.height)){$1L.push(ep);return i;}};var $1L=[];$1L.isFree=function($0a,$1d){var end=$0a+$1d-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.top||$0a>e.part.top+e.part.height-1)){return false;}};return true;};$1L.push(ep);this.lines.push($1L);return this.lines.length-1;};if($p.children){$1E.children=this.$7E($p.children);};return $1E;};this.$7E=function(cc){var $1E=DayPilot.list();DayPilot.list(cc).each(function($1M){var $0V=$c.$7H($1M);$1E.push($0V);});return $1E;};this.$7F=function($1F,$1G){var $1N=this.$7B()?this.$6r:this.$5Z;var $1k=DayPilot.list();for(var i=0;i<$1N.length;i++){var $s=$1N[i].getChildren($1F,$1G);for(var j=0;j<$s.length;j++){$1k.push($s[j]);}};return $1k;};this.$6m=function(){if(!this.showAllDayEvents){return;};var $1O=this.nav.header;if(!$1O){return;};$1O.style.display='none';var $0j=this.$6r.length;for(var j=0;j<this.$7I.lines.length;j++){var $1L=this.$7I.lines[j];for(var i=0;i<$1L.length;i++){var $g=$1L[i];var $1P=$g.cache||$g.data;var $d=document.createElement("div");$d.event=$g;$d.setAttribute("unselectable","on");$d.style.position='absolute';if($c.rtl){$d.style.right=(100.0*$g.part.colStart/$0j)+"%";}else{$d.style.left=(100.0*$g.part.colStart/$0j)+"%";};$d.style.width=(100.0*$g.part.colWidth/$0j)+"%";$d.style.height=$0g.allDayEventHeight()+'px';$d.className=this.$6s("_alldayevent");$d.style.top=(this.headerLevels*$0g.headerHeight()+j*($0g.allDayEventHeight()))+"px";if($1P.cssClass){DayPilot.Util.addClass($d,$1P.cssClass);};$d.style.textAlign='left';$d.style.lineHeight="1.2";if($g.client.clickEnabled()){$d.onclick=this.$6D;};if($g.client.doubleClickEnabled()){$d.ondblclick=this.$6H;};if($g.client.clickEnabled()||$g.client.doubleClickEnabled()){$d.style.cursor="pointer";}else{$d.style.cursor="default";};DayPilot.re($d,"contextmenu",this.$6I);$d.onmousemove=function(ev){var $d=this;if(!$d.active){var $1Q=[];if($g.client.deleteEnabled()){$1Q.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":3,"right":3,"css":$c.$6s("_event_delete"),"js":function(e){$c.$6M(e);}});};var $1k=$1P.areas;if($1k&&$1k.length>0){$1Q=$1Q.concat($1k);};DayPilot.Areas.showAreas($d,$d.event,null,$1Q);DayPilot.Util.addClass($d,$c.$6s("_alldayevent_hover"));};if(typeof(DayPilot.Bubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){$c.bubble.showEvent(this.event);}};$d.onmouseout=function(ev){var $d=this;DayPilot.Util.removeClass($d,$c.$6s("_alldayevent_hover"));DayPilot.Areas.hideAreas(this,ev);if($c.bubble){$c.bubble.hideOnMouseOut();}};if(this.showToolTip&&!this.bubble){$d.setAttribute("title",$g.client.toolTip());};var $1R=$g.start().getTime()===$g.part.start.getTime();var $1S=$g.end().getTime()===$g.part.end.getTime();var back=$1P.backColor;var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=this.$6s("_alldayevent_inner");if(back){$M.style.background=back;};if($1P.fontColor){$M.style.color=$1P.fontColor;};if($1P.borderColor){$M.style.borderColor=$1P.borderColor;};if($c.rtl){if(!$1R){DayPilot.Util.addClass($d,this.$6s("_alldayevent_continueright"));};if(!$1S){DayPilot.Util.addClass($d,this.$6s("_alldayevent_continueleft"));}}else{if(!$1R){DayPilot.Util.addClass($d,this.$6s("_alldayevent_continueleft"));};if(!$1S){DayPilot.Util.addClass($d,this.$6s("_alldayevent_continueright"));}};if($g.client.innerHTML()){$M.innerHTML=$g.client.innerHTML();}else{$M.innerHTML=$g.text();};$d.appendChild($M);if($c.$6p()){if(typeof $c.onAfterEventRender==='function'){var $m={};$m.e=$d.event;$m.div=$d;$c.onAfterEventRender($m);}}else{if($c.afterEventRender){$c.afterEventRender($d.event,$d);}};this.nav.allday.appendChild($d);this.elements.events.push($d);}};$1O.style.display='';};this.$5R=function($1T){$c.multiselect.$7A();if(this.elements.events){for(var i=0;i<this.elements.events.length;i++){var $d=this.elements.events[i];var $D=$d.event;if($D&&$1T&&!$D.allday()){continue;};if($D){$D.div=null;$D.root=null;};$d.onclick=null;$d.onclickSave=null;$d.ondblclick=null;$d.oncontextmenu=null;$d.onmouseover=null;$d.onmouseout=null;$d.onmousemove=null;$d.onmousedown=null;if($d.firstChild&&$d.firstChild.firstChild&&$d.firstChild.firstChild.tagName&&$d.firstChild.firstChild.tagName.toUpperCase()==='IMG'){var $1U=$d.firstChild.firstChild;$1U.onmousedown=null;$1U.onmousemove=null;$1U.onclick=null;};$d.helper=null;$d.event=null;DayPilot.de($d);}};this.elements.events=[];};this.$7J=function($g){var $F=this.nav.events;var $1P=$g.cache||$g.data;var $d=document.createElement("div");$d.setAttribute("unselectable","on");$d.style.MozUserSelect='none';$d.style.KhtmlUserSelect='none';$d.style.WebkitUserSelect='none';$d.style.position='absolute';$d.className=this.$6s("_event");$d.style.left=$g.part.left+'%';$d.style.top=($g.part.top-this.$7n())+'px';$d.style.width=$g.part.width+'%';$d.style.height=Math.max($g.part.height,2)+'px';$d.style.overflow='hidden';$d.isFirst=$g.part.start.getTime()===$g.start().getTime();$d.isLast=$g.part.end.getTime()===$g.end().getTime();if($g.client.clickEnabled()){$d.onclick=this.$6D;};if($g.client.doubleClickEnabled()){$d.ondblclick=this.$6H;};DayPilot.re($d,"contextmenu",this.$6I);$d.onmousemove=this.$7K;$d.onmouseout=this.$7L;$d.onmousedown=this.$7M;DayPilot.re($d,DayPilot.touch.start,this.$7N.onEventTouchStart);DayPilot.re($d,DayPilot.touch.move,this.$7N.onEventTouchMove);DayPilot.re($d,DayPilot.touch.end,this.$7N.onEventTouchEnd);var $1V=[];if($1P.cssClass){DayPilot.Util.addClass($d,$1P.cssClass);};if(this.showToolTip&&!this.bubble){$d.setAttribute("title",$g.client.toolTip());};var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=$c.$6s("_event_inner");$M.innerHTML=$g.client.innerHTML();if($1P.fontColor){$M.style.color=$1P.fontColor;};if($1P.backColor){$M.style.background=$1P.backColor;if(DayPilot.browser.ie9||DayPilot.browser.ielt9){$M.style.filter='';}};if($1P.borderColor){$M.style.borderColor=$1P.borderColor;};if($1P.backgroundImage){$M.style.backgroundImage="url("+$1P.backgroundImage+")";if($1P.backgroundRepeat){$M.style.backgroundRepeat=$1P.backgroundRepeat;}};$d.appendChild($M);if($g.client.barVisible()){var $J=$g.part.height-2;var $1W=100*$g.part.barTop/$J;var $1X=Math.ceil(100*$g.part.barHeight/$J);if(this.durationBarMode==="PercentComplete"){$1W=0;$1X=$1P.complete;};var $1Y=document.createElement("div");$1Y.setAttribute("unselectable","on");$1Y.className=this.$6s("_event_bar");$1Y.style.position="absolute";if($1P.barBackColor){$1Y.style.backgroundColor=$1P.barBackColor;};var $1Z=document.createElement("div");$1Z.setAttribute("unselectable","on");$1Z.className=this.$6s("_event_bar_inner");$1Z.style.top=$1W+"%";if(0<$1X&&$1X<=1){$1Z.style.height="1px";}else{$1Z.style.height=$1X+"%";};if($1P.barColor){$1Z.style.backgroundColor=$1P.barColor;};$1Y.appendChild($1Z);$d.appendChild($1Y);};if($1P.areas){for(var i=0;i<$1P.areas.length;i++){var $20=$1P.areas[i];var v=$20.visibility||$20.v||"Visible";if(v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($d,$g,$20);$d.appendChild(a);}};if($F.rows[0].cells[$g.part.dayIndex]){var $21=$F.rows[0].cells[$g.part.dayIndex].events;$21.appendChild($d);$c.$7O($d);$d.event=$g;if($c.multiselect.$7t($g)){$c.multiselect.add($d.event,true);};if($c.$6p()){if(typeof $c.onAfterEventRender==='function'){var $m={};$m.e=$d.event;$m.div=$d;$c.onAfterEventRender($m);}}else{if($c.afterEventRender){$c.afterEventRender($d.event,$d);}}};$c.elements.events.push($d);};this.$7O=function(el){var c=(el&&el.childNodes)?el.childNodes.length:0;for(var i=0;i<c;i++){try{var $1H=el.childNodes[i];if($1H.nodeType===1){$1H.setAttribute("unselectable","on");this.$7O($1H);}}catch(e){}}};this.$6l=function(){var $0a=new Date();for(var i=0;i<this.$6r.length;i++){var $0V=this.$6r[i];if(!$0V.blocks){continue;};for(var m=0;m<$0V.blocks.length;m++){var $1J=$0V.blocks[m];for(var j=0;j<$1J.lines.length;j++){var $1L=$1J.lines[j];for(var k=0;k<$1L.length;k++){var e=$1L[k];e.part.width=100/$1J.lines.length;e.part.left=e.part.width*j;if(this.eventArrangement==='Cascade'){var $22=(j===$1J.lines.length-1);if(!$22){e.part.width=e.part.width*1.5;}};if(this.eventArrangement==='Full'){e.part.left=e.part.left/2;e.part.width=100-e.part.left;};if(!e.allday()){this.$7J(e);}}}}};this.multiselect.redraw();var end=new Date();var $23=end.getTime()-$0a.getTime();};this.$7P=function(){this.multiselect.$75=[];for(var i=0;i<this.$6r.length;i++){var $0V=this.$6r[i];for(var j=0;j<$0V.lines.length;j++){var $1L=$0V.lines[j];for(var k=0;k<$1L.length;k++){var e=$1L[k];e.part.width=100/$0V.lines.length;e.part.left=e.Width*j;if(!e.allday()){this.$7J(e);}}}}};this.$6s=function($24){var $25=this.theme||this.cssClassPrefix;if($25){return $25+$24;}else{return "";}};this.$7Q=function(){switch($c.$5E){case "aspnet":if(!this.$5P()){throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");};break;case "netmvc":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");};break;case "javaxx":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");};break;}};this.$6k=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$7R=function(){var $J=this.$6z()+this.$7S();$c.debug.message("Getting totalHeight, headerHeight: "+this.$6z()+" scrollable: "+this.$7S());if($J<0){return 0;};return $J;};this.$7T=function(){this.nav.top.dp=this;this.nav.top.innerHTML='';this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)";this.nav.top.style.WebkitTouchCallout="none";this.nav.top.style.position='relative';if(this.width){this.nav.top.style.width=this.width;};if(this.rtl){this.nav.top.style.direction="rtl";};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";}else{this.nav.top.style.height=this.$7R()+"px";};if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};if(!this.visible){this.nav.top.style.display="none";};this.nav.scroll=document.createElement("div");this.nav.scroll.style.height=this.$7S()+"px";DayPilot.Util.addClass(this.nav.top,this.$6s("_main"));this.nav.scroll.style.position="relative";if(this.showHeader){var $1O=this.$7U();this.nav.top.appendChild($1O);};this.nav.scroll.style.zoom=1;this.nav.scroll.style.position="absolute";this.nav.scroll.style.left="0px";this.nav.scroll.style.right="0px";this.nav.scroll.style.top=this.$6z()+"px";this.nav.scroll.className=$c.$6s("_scroll");var $26=this.$7V();this.nav.scrollable=$26.firstChild;this.nav.scroll.appendChild($26);this.nav.top.appendChild(this.nav.scroll);this.nav.vsph=document.createElement("div");this.nav.vsph.style.display="none";this.nav.top.appendChild(this.nav.vsph);this.nav.scrollpos=document.createElement("input");this.nav.scrollpos.type="hidden";this.nav.scrollpos.id=$c.id+"_scrollpos";this.nav.scrollpos.name=this.nav.scrollpos.id;this.nav.top.appendChild(this.nav.scrollpos);this.nav.select=document.createElement("input");this.nav.select.type="hidden";this.nav.select.id=$c.id+"_select";this.nav.select.name=this.nav.select.id;this.nav.select.value=null;this.nav.top.appendChild(this.nav.select);this.nav.scrollLayer=document.createElement("div");this.nav.scrollLayer.style.position='absolute';this.nav.scrollLayer.style.top='0px';this.nav.scrollLayer.style.left='0px';this.nav.top.appendChild(this.nav.scrollLayer);this.nav.scrollUp=[];this.nav.scrollDown=[];this.nav.loading=document.createElement("div");this.nav.loading.style.position='absolute';this.nav.loading.style.top='0px';this.nav.loading.style.left=(this.hourWidth+5)+"px";this.nav.loading.className=$c.$6s("_loading");this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.display='none';this.nav.top.appendChild(this.nav.loading);};this.$7W=function(){var $12=this.columnWidthSpec==='Fixed';var $27=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1];var $28=this.nav.events.rows[0];for(var i=0;i<$c.$6r.length;i++){var $29=$27&&$27.cells[i];var $2a=$28.cells[i];var $2b=$29&&$29.firstChild;var $g=$c.$6r[i];if($12){var $1d=$g.width?$g.width:$c.columnWidth;$2b&&($2b.style.width=$1d+"px");if($2a){$2a.style.width=$1d+"px";}}else{$2b&&($2b.style.width=null);if($2a){$2a.style.width=null;}}}};this.$6A=function(){return this.$7j?$c.nav.bottomRight:$c.nav.scroll;};this.$6i=function(){var $12=this.columnWidthSpec==='Fixed';if(!$12){var element=$c.$6A();if(this.heightSpec==="Fixed"){element.style.overflowY="scroll";}else if(this.heightSpec==='BusinessHours'&&this.$6t()<=this.businessEndsHour-this.businessBeginsHour){element.style.overflow="hidden";}else if(this.heightSpec!=="Full"&&this.heightSpec!=="BusinessHoursNoScroll"){element.style.overflow="auto";}else{element.style.overflow="hidden";}};if($12){var $2c=0;var w=this.$6r.length*this.columnWidth;var $2d=$c.$7k();if(w>$2d.clientWidth){$2c=DayPilot.sw($c.nav.bottomRight);};$c.nav.headerParent&&($c.nav.headerParent.style.width=(w+$2c)+"px");$c.nav.main.style.width=w+"px";$c.nav.events.style.width=w+"px";$c.nav.crosshair.style.width=w+"px";}else{$c.nav.headerParent&&($c.nav.headerParent.style.width="100%");$c.nav.main.style.width="100%";$c.nav.events.style.width="100%";$c.nav.crosshair.style.width="100%";};this.$7W();};this.$6f=function(){if(!this.$5A){DayPilot.pu(this.nav.hourTable);}else{this.$7X();};if(this.nav.hoursPlaceholder){this.nav.hoursPlaceholder.innerHTML='';this.nav.hourTable=this.$7Y();this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);}};this.$7X=function(){if(!this.nav.hourTable){return;};for(var i=0;i<this.nav.hourTable.rows.length;i++){var $2e=this.nav.hourTable.rows[i];var $d=$2e.cells[0].firstChild;$d.data=null;$d.onmousemove=null;$d.onmouseout=null;}};this.$7V=function(){var $2f=document.createElement("div");$2f.style.zoom=1;$2f.style.position='relative';$2f.onmousemove=this.$7Z;$2f.oncontextmenu=this.$80;DayPilot.re($2f,DayPilot.touch.start,this.$7N.onMainTouchStart);DayPilot.re($2f,DayPilot.touch.move,this.$7N.onMainTouchMove);DayPilot.re($2f,DayPilot.touch.end,this.$7N.onMainTouchEnd);DayPilot.re($2f,"contextmenu",function(ev){var ev=ev||window.event;ev.preventDefault?ev.preventDefault():ev.returnValue=false;});if(navigator.msPointerEnabled){$2f.style.msTouchAction="none";$2f.style.touchAction="none";};$2f.daypilotMainD=true;$2f.calendar=this;var $2g=null;var $2h=null;var $2i=null;var $12=this.columnWidthSpec==='Fixed';if($12||this.$7j){if(this.showHours){var $X=document.createElement("div");$X.style.cssFloat="left";$X.style.styleFloat="left";$X.style.width=(this.hourWidth)+"px";$X.style.height=this.$7S()+"px";$X.style.overflow="hidden";$X.style.position="relative";$2f.appendChild($X);$2g=$X;var $2c=30;var $J=$c.$81()+$2c;$2i=document.createElement("div");$2i.style.height=($J)+"px";$X.appendChild($2i);};var $Y=document.createElement("div");$Y.style.height=this.$7S()+"px";if(this.showHours){$Y.style.marginLeft=(this.hourWidth)+"px";};$Y.style.position="relative";$Y.style.overflow="auto";$2f.appendChild($Y);$2h=$Y;}else{var $2j=document.createElement("table");$2j.cellSpacing="0";$2j.cellPadding="0";$2j.border="0";$2j.style.border="0px none";$2j.style.width="100%";$2j.style.position='relative';var r=$2j.insertRow(-1);var c;if(this.showHours){c=r.insertCell(-1);c.style.verticalAlign="top";c.style.padding='0px';c.style.border='0px none';$2i=c;};c=r.insertCell(-1);c.width="100%";c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign="top";$2h=c;$2f.appendChild($2j);};if($2i){this.nav.hourTable=this.$7Y();$2i.appendChild(this.nav.hourTable);};if(!this.cssOnly&&!this.$5B){$2h.appendChild(this.$82());}else{var parent=document.createElement("div");parent.style.height="0px";parent.style.position="relative";parent.appendChild(this.$82());var $2k=document.createElement("div");$2k.style.position="absolute";$2k.style.top="0px";$2k.style.left="0px";$2k.style.width="100%";$2k.style.height="0px";parent.appendChild($2k);this.nav.crosshair=$2k;parent.appendChild(this.$83());$2h.appendChild(parent);};this.nav.zoom=$2f;this.nav.bottomLeft=$2g;this.nav.bottomRight=$2h;this.nav.hoursPlaceholder=$2i;return $2f;};this.$82=function(){var $2j=document.createElement("table");$2j.cellPadding="0";$2j.cellSpacing="0";$2j.border="0";var $12=this.columnWidthSpec==='Fixed';if(!$12){$2j.style.width="100%";};$2j.style.border="0px none";$2j.style.tableLayout='fixed';this.nav.main=$2j;this.nav.events=$2j;return $2j;};this.$84=function(){var $12=this.columnWidthSpec==='Fixed';if(!$12){return "100%";}else{var $2l=0;for(var i=0;i<$c.$6r.length;i++){var $p=$c.$6r[i];if($p.width){$2l+=$p.width;}else{$2l+=$c.columnWidth;}};return $2l+"px";}};this.$83=function(){var $2j=document.createElement("table");$2j.style.position="absolute";$2j.style.top="0px";$2j.cellPadding="0";$2j.cellSpacing="0";$2j.border="0";$2j.style.width=$c.$84();$2j.style.border="0px none";$2j.style.tableLayout='fixed';this.nav.events=$2j;var $2m=true;var $0j=this.$6r;var cl=$0j.length;var r=($2m)?$2j.insertRow(-1):$2j.rows[0];for(var j=0;j<cl;j++){var c=($2m)?r.insertCell(-1):r.cells[j];if($2m){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$c.rtl){c.style.textAlign='left';};$c.$85(c);}};return $2j;};this.$7Y=function(){var $2j=document.createElement("table");$2j.cellSpacing="0";$2j.cellPadding="0";$2j.border="0";$2j.style.border='0px none';$2j.style.width=this.hourWidth+"px";$2j.oncontextmenu=function(){return false;};$2j.onmousemove=function(){$c.$5Y();};var $2n=$c.$86();for(var i=0;i<$2n;i++){this.$87($2j,i);};return $2j;};this.$86=function(){return this.$6u()/(this.timeHeaderCellDuration*60*1000);};this.$88=function(){return(this.cellHeight*60/ this.cellDuration)/(60/this.timeHeaderCellDuration);};this.$89=function(){return(this.$6y()-this.$6y(true))*(60/this.cellDuration);};this.$8a=function(){return(this.$6y()-this.$6y(true));};this.$7n=function(){return this.$89()*this.cellHeight;};this.$87=function($2j,i){var $J=$c.$88();var r=$2j.insertRow(-1);r.style.height=$J+"px";var c=r.insertCell(-1);c.valign="bottom";c.setAttribute("unselectable","on");c.style.padding='0px';c.style.border='0px none';var $2o=document.createElement("div");$2o.className=this.$6s("_rowheader");$2o.style.position="relative";$2o.style.width=this.hourWidth+"px";$2o.style.height=($J)+"px";$2o.style.overflow='hidden';$2o.setAttribute("unselectable","on");var $1J=document.createElement("div");$1J.className=this.$6s("_rowheader_inner");$1J.setAttribute("unselectable","on");var $2p=$c.$8b(i);var $S=$2p.html;var $g=$2p.data;if($g){$2o.data=$g;$2o.onmousemove=$c.$8c;$2o.onmouseout=$c.$8d;};$1J.innerHTML=$S;$2o.appendChild($1J);c.appendChild($2o);};this.$8b=function(i){var $S,$g;if(this.hours){var $2q=i+this.$8a();$g=this.hours[$2q];$S=$g.html;};var $2r=this.timeHeaderCellDuration;var $0a=this.startDate.addMinutes($2r*i+60*this.$6y());var $2s=$0a.getHours();var am=$2s<12;var $2t;if(this.$8e.timeFormat()==="Clock12Hours"){if(am){$2t="AM";}else{$2t="PM";}}else{$2t="00";};if(!$S){var $2u=document.createElement("div");$2u.setAttribute("unselectable","on");if(this.$8e.timeFormat()==="Clock12Hours"){$2s=$2s%12;if($2s===0){$2s=12;}};if(this.timeHeaderCellDuration!==60){$2s+=":"+$0a.toString("mm");};$2u.innerHTML=$2s;var $2v=document.createElement("span");$2v.setAttribute("unselectable","on");$2v.className=this.$6s("_rowheader_minutes");$2v.innerHTML=$2t;$2u.appendChild($2v);$S=$2u.outerHTML;};if(typeof $c.onBeforeTimeHeaderRender==='function'){var $m={};$m.header={};$m.header.hours=$2s;$m.header.minutes=$0a.getMinutes();$m.header.start=$0a.toString("HH:mm");$m.header.html=$S;$m.header.areas=$g?$g.areas:null;$c.onBeforeTimeHeaderRender($m);if($m.header.html!==null){$S=$m.header.html;};$g=$m.header;};var $t={};$t.start=$0a;$t.hour=$2s;$t.html=$S;$t.data=$g;$t.sup=$2t;return $t;};this.$8c=function(ev){$c.$5Y();var $d=this;if(!$d.active){DayPilot.Areas.showAreas($d,$d.data);}};this.$8d=function(ev){DayPilot.Areas.hideAreas(this,ev);};this.$7S=function(){switch(this.heightSpec){case "Fixed":return this.height;case "Parent100Pct":return this.height;case "Full":return this.$81();case "BusinessHours":case "BusinessHoursNoScroll":var $O=this.$6v();return $O*this.cellHeight*60/this.cellDuration;default:throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";}};this.$81=function(){return($c.$6u()*this.cellHeight)/(60000*$c.cellDuration);};this.$6z=function(){if(!this.showHeader){return 0;};var $2w=this.headerLevels*$0g.headerHeight();if(this.showAllDayEvents&&$0g.allDayHeaderHeight()){return $2w+$0g.allDayHeaderHeight();}else{return $2w;}};this.$6b=function(){if(!this.headerHeightAutoFit){return;};var $N=0;for(var x=0;x<this.nav.header.rows.length;x++){var $2e=this.nav.header.rows[x];for(var i=0;i<$2e.cells.length;i++){var $0c=$2e.cells[i];var $d=$0c.firstChild;var $M=$d.firstChild;var $2x=$d.style.height;$d.style.height="auto";$M.style.position="static";var h=$d.offsetHeight;$d.style.height=$2x;$M.style.position='';$N=Math.max($N,h);}};if($N>this.headerHeight){this.$5z.headerHeight=$N;this.$69();this.$6a();}};this.$7j=true;this.$8f=function(){var element=this.$7j?$c.nav.bottomRight:$c.nav.scroll;return DayPilot.sw(element)>0;};this.$7U=function(){var $1O=document.createElement("div");var $12=this.columnWidthSpec==='Fixed';if(!$12){$1O.style.overflow="auto";};$1O.style.position="absolute";$1O.style.left="0px";$1O.style.right="0px";var $2f=document.createElement("div");$2f.style.position="relative";$2f.style.zoom="1";var $2y=null;var $12=this.columnWidthSpec==='Fixed';if($12||this.$7j){var $X=document.createElement("div");$X.style.cssFloat="left";$X.style.styleFloat="left";$X.style.width=(this.hourWidth)+"px";if(this.showHours){var $2z=this.$8g();this.nav.corner=$2z;$X.appendChild($2z);$2f.appendChild($X);this.nav.upperLeft=$X;};var $Y=document.createElement("div");if(this.showHours){$Y.style.marginLeft=(this.hourWidth)+"px";};$Y.style.position="relative";$Y.style.overflow="hidden";$Y.style.height=this.$6z()+"px";$2f.appendChild($Y);this.nav.upperRight=$Y;$2y=document.createElement("div");$2y.style.position="relative";$Y.appendChild($2y);}else{var $2j=document.createElement("table");$2j.cellPadding="0";$2j.cellSpacing="0";$2j.border="0";$2j.style.width="100%";$2j.style.borderCollapse='separate';$2j.style.border="0px none";var r=$2j.insertRow(-1);this.nav.fullHeader=$2j;if(this.showHours){var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';var $2z=this.$8g();c.appendChild($2z);this.nav.corner=$2z;};c=r.insertCell(-1);c.style.width="100%";c.valign="top";c.style.position='relative';c.style.padding='0px';c.style.border='0px none';$2y=document.createElement("div");$2y.style.position="relative";$2y.style.height=this.$6z()+"px";$2y.style.overflow="hidden";c.appendChild($2y);this.nav.mid=$2y;$2f.appendChild($2j);};this.nav.headerParent=$2y;this.$8h();var $2A=this.$8f();var $12=this.columnWidthSpec==='Fixed';if($2A&&!$12){this.$8i();};$1O.appendChild($2f);return $1O;};this.$8h=function(){this.nav.unifiedCornerRight=null;this.nav.header=document.createElement("table");this.nav.header.cellPadding="0";this.nav.header.cellSpacing="0";var $12=this.columnWidthSpec==='Fixed';if(!$12){this.nav.header.width="100%";};this.nav.header.style.tableLayout="fixed";this.nav.header.oncontextmenu=function(){return false;};var $2A=this.$8f();this.nav.headerParent.appendChild(this.nav.header);if(this.nav.allday){DayPilot.de(this.nav.allday);};if(this.showAllDayEvents){var $2B=document.createElement("div");$2B.style.position='absolute';$2B.style.top="0px";$2B.style.height="0px";var $12=this.columnWidthSpec==='Fixed';if(!$12){$2B.style.left="0px";$2B.style.right="0px";}else{$2B.style.width=(this.$6r.length*this.columnWidth)+"px";};this.nav.allday=$2B;this.nav.headerParent.appendChild($2B);}};this.$8i=function(){if(!this.nav.fullHeader){return;};var r=this.nav.fullHeader.rows[0];var c=r.insertCell(-1);c.style.padding='0px';c.style.verticalAlign='top';c.setAttribute("unselectable","on");var $1V=document.createElement("div");$1V.setAttribute("unselectable","on");$1V.className=this.$6s('_cornerright');$1V.style.overflow="hidden";$1V.style.position="relative";$1V.style.width="16px";$1V.style.height=this.$6z()+"px";var $M=document.createElement("div");$M.className=this.$6s('_cornerright_inner');$1V.appendChild($M);c.appendChild($1V);this.nav.cornerRight=$1V;};this.$8g=function(){var $26=document.createElement("div");$26.style.position='relative';$26.className=this.$6s("_corner");$26.style.width=this.hourWidth+"px";$26.style.height=this.$6z()+"px";$26.style.overflow="hidden";$26.oncontextmenu=function(){return false;};var $2z=document.createElement("div");$2z.className=this.$6s("_corner_inner");$2z.setAttribute("unselectable","on");var $S=this.cornerHTML||this.cornerHtml;$2z.innerHTML=$S?$S:'';$26.appendChild($2z);var $2C=document.createElement("div");$2C.style.position='absolute';$2C.style.padding='2px';$2C.style.top='0px';$2C.style.left='1px';$2C.style.backgroundColor="#FF6600";$2C.style.color="white";$2C.innerHTML="\u0044\u0045\u004D\u004F";$2C.setAttribute("unselectable","on");if(DayPilot.Util.isNullOrUndefined("K5woOes"))$26.appendChild($2C);return $26;};this.$5S=function(){var $2j=this.nav.main;$2j.root=null;$2j.onmouseup=null;for(var y=0;y<$2j.rows.length;y++){var r=$2j.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.root=null;c.onmousedown=null;c.onmousemove=null;c.onmouseout=null;c.onmouseup=null;c.onclick=null;c.ondblclick=null;c.oncontextmenu=null;}};if(!this.$5A)DayPilot.pu($2j);};this.$6c=function(){for(var i=0;this.nav.scrollUp&&i<this.nav.scrollUp.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);};for(var i=0;this.nav.scrollDown&&i<this.nav.scrollDown.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);};this.nav.scrollUp=[];this.nav.scrollDown=[];};this.$85=function(c){var $d=document.createElement("div");$d.style.marginRight=$c.columnMarginRight+"px";$d.style.position='relative';$d.style.height='1px';$d.style.marginTop='-1px';c.events=$d;var $2D=document.createElement("div");$2D.style.position="relative";$2D.style.height="1px";$2D.style.marginTop="-1px";c.separators=$2D;var $0P=document.createElement("div");$0P.style.position='relative';$0P.style.height='1px';$0P.style.marginTop='-1px';c.selection=$0P;c.appendChild($2D);c.appendChild($0P);c.appendChild($d);};this.$6e=function(){var $2j=this.nav.main;var $0m=this.cellDuration*60*1000;var $2E=this.$6C();var $2F=this.$8a()*(60/this.cellDuration);var $0j=$c.$6r;var $2m=true;var scrollY=0;if($2j){scrollY=$c.$7k().scrollTop;this.$5S();if($c.$5F.ielt9&&$2m){DayPilot.de(this.nav.scrollable.parentNode);var $26=this.$7V();this.$8j();this.nav.scrollable=$26.firstChild;this.nav.scroll.appendChild($26);$2j=this.nav.main;}};this.nav.scrollable.daypilotMainD=true;this.nav.scrollable.calendar=this;while($2j&&$2j.rows&&$2j.rows.length>0&&$2m){if(!this.$5A)DayPilot.pu($2j.rows[0]);$2j.deleteRow(0);};this.$8k=true;if(this.scrollLabelsVisible){var $0j=this.$6r;var $14=(this.showHours?this.hourWidth:0);var $H=(this.nav.scroll.clientWidth-$14)/$0j.length;for(var i=0;i<$0j.length;i++){var $16=document.createElement("div");$16.style.position='absolute';$16.style.top='0px';$16.style.left=($14+2+i*$H+$H/2)+"px";$16.style.display='none';var $1U=document.createElement("div");$1U.style.height='10px';$1U.style.width='10px';$1U.className=this.$6s("_scroll_up");$16.appendChild($1U);this.nav.scrollLayer.appendChild($16);this.nav.scrollUp.push($16);var $17=document.createElement("div");$17.style.position='absolute';$17.style.top='0px';$17.style.left=($14+2+i*$H+$H/2)+"px";$17.style.display='none';var $1U=document.createElement("div");$1U.style.height='10px';$1U.style.width='10px';$1U.className=this.$6s("_scroll_down");$17.appendChild($1U);this.nav.scrollLayer.appendChild($17);this.nav.scrollDown.push($17);}};var cl=$0j.length;if(this.cssOnly||this.$5B){var $1h=this.nav.events;while($1h&&$1h.rows&&$1h.rows.length>0&&$2m){if(!this.$5A)DayPilot.pu($1h.rows[0]);$1h.deleteRow(0);};var r=($2m)?$1h.insertRow(-1):$1h.rows[0];for(var j=0;j<cl;j++){var c=($2m)?r.insertCell(-1):r.cells[j];if($2m){c.style.padding='0px';c.style.border='0px none';c.style.height='1px';c.style.overflow='visible';var $12=this.columnWidthSpec==='Fixed';if($12){if($0j[j].width){c.style.width=$0j[j].width+"px";}else{c.style.width=this.columnWidth+"px";}};if(!$c.rtl){c.style.textAlign='left';};$c.$85(c);}}};for(var i=0;i<$2E;i++){var r=($2m)?$2j.insertRow(-1):$2j.rows[i];var y=i;if($2m){r.style.MozUserSelect='none';r.style.KhtmlUserSelect='none';r.style.WebkitUserSelect='none';};for(var j=0;j<cl;j++){var $0V=this.$6r[j];var c=($2m)?r.insertCell(-1):r.cells[j];c.start=$0V.start.addTime(y*$0m).addHours(this.$6y());c.end=c.start.addTime($0m);c.resource=$0V.id;if(!this.cellProperties){this.cellProperties={};};var $0c={};$0c.resource=c.resource;$0c.start=c.start;$0c.end=c.end;var $2q=j+"_"+y;$0c.cssClass=null;$0c.html=null;$0c.backImage=null;$0c.backRepeat=null;$0c.backColor=null;$0c.business=this.$8l(c.start,c.end);if(this.cellProperties[$2q]){DayPilot.Util.copyProps(this.cellProperties[$2q],$0c,['cssClass','html','backImage','backRepeat','backColor','business','areas']);};if(typeof this.onBeforeCellRender==='function'){var $m={};$m.cell=$0c;this.onBeforeCellRender($m);};this.cellProperties[$2q]=$0c;var $2p=$c.$8m(j,y);var $2G;if($2m){c.root=this;c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign='top';c.style.height=$c.cellHeight+'px';c.style.overflow='hidden';c.setAttribute("unselectable","on");$2G=document.createElement("div");$2G.className=$c.$6s("_cell");$2G.style.position="relative";$2G.style.height=($c.cellHeight)+"px";$2G.style.overflow='hidden';$2G.setAttribute("unselectable","on");var $M=document.createElement("div");$M.className=$c.$6s("_cell_inner");$2G.appendChild($M);c.appendChild($2G);}else{$2G=c.firstChild;$2G.className=$c.$6s("_cell");};c.onmousedown=this.$77;c.onmousemove=this.$7g;c.onmouseout=this.$7f;DayPilot.re(c,DayPilot.touch.end,this.$7N.onCellTouchEnd);c.oncontextmenu=function(){if(!this.selected){$c.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$c.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;$c.$78();};if($c.timeRangeRightClickHandling==="Disabled"){return false;};return false;};var $V=$c.$8n(j,y);$2G=c.firstChild;var $12=this.columnWidthSpec==='Fixed';if($12){if($0V.width){$2G.style.width=$0V.width+"px";}else{$2G.style.width=this.columnWidth+"px";}};if($V){$2G.firstChild.style.background=$V;};var $2H=$2p?$2p.business:this.$8l(c.start,c.end);if($2H){DayPilot.Util.addClass($2G,$c.$6s("_cell_business"));};var $S=$2G.firstChild;if($S){$S.innerHTML='';};$2G.style.backgroundImage="";$2G.style.backgroundRepeat="";if($2p){if($2p.html){$S.innerHTML=$2p.html;};if($2p.cssClass){DayPilot.Util.addClass($2G,$2p.cssClass);};if($2p.backImage){$2G.style.backgroundImage="url('"+$2p.backImage+"')";};if($2p.backRepeat){$2G.style.backgroundRepeat=$2p.backRepeat;};if($2p.areas){var $2I={};$2I.start=c.start;$2I.end=c.end;$2I.resource=c.resource;var $1Q=DayPilot.list($2p.areas).filter(function(a){if(a.end&&new DayPilot.Date(a.end)<=c.start){return false;};if(a.start&&new DayPilot.Date(a.start)>=c.end){return false;};return true;});$1Q.forEach(function(a){if(!a.start&&!a.end){return;};if(a.start){var $2J=new DayPilot.Date(a.start).getTime()-c.start.getTime();a.top=$c.$8o($2J);};if(a.end){var $2K=new DayPilot.Date(a.end).getTime()-c.start.getTime();a.height=$c.$8o($2K)-a.top;}});DayPilot.Areas.attach($2G,$2I,{"areas":$1Q});}}}};$2j.onmouseup=this.$7h;$2j.root=this;$2j.style.height=($2E*$c.cellHeight)+"px";$c.nav.scrollable.style.display='';$c.$7k().scrollTop=scrollY;};this.$80=function(ev){if($0M.detected){return;};var $0P=$c.getSelection();if(!$0P){return;};var $m={};$m.start=$0P.start;$m.end=$0P.end;$m.resource=$0P.resource;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeRightClick==="function"){$c.onTimeRangeRightClick($m);if($m.preventDefault.value){return false;}};if($c.timeRangeRightClickHandling==="ContextMenu"&&$c.contextMenuSelection){$c.contextMenuSelection.show($c.getSelection());};if(typeof $c.onTimeRangeRightClicked==="function"){$c.onTimeRangeRightClicked($m);}};this.$8l=function($0a,end){if(this.businessBeginsHour<this.businessEndsHour){return !($0a.getHours()<this.businessBeginsHour||$0a.getHours()>=this.businessEndsHour||$0a.getDayOfWeek()===6||$0a.getDayOfWeek()===0);};if($0a.getHours()>=this.businessBeginsHour){return true;};if($0a.getHours()<this.businessEndsHour){return true;};return false;};this.$7Z=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event&&window.event.srcElement){window.event.srcElement.inside=true;};DayPilotCalendar.activeCalendar=this;var $2L=$c.nav.main;$c.coords=DayPilot.mo3($2L,ev);var $2M=DayPilot.mc(ev);var $2k=$c.crosshairType&&$c.crosshairType!=="Disabled";var $2N=$c.coords.x<$c.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||DayPilot.Global.selecting||$2N){$c.$5Y();}else if($2k){$c.$8p();};if(DayPilot.Global.resizing){$c.$8q($2M);}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper){DayPilotCalendar.movingShadow=null;return;};if(!DayPilotCalendar.movingShadow){var $2O=3;if(DayPilot.distance($2M,DayPilotCalendar.originalMouse)>$2O){DayPilotCalendar.movingShadow=$c.$6q(DayPilot.Global.moving,!$c.$5F.ie);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}else{return;}};if(!$c.coords){return;};var $2P=$c.cellHeight;var $I=0;var $15=DayPilotCalendar.moveOffsetY;if(!$15){$15=$2P/2;};if(this.moveBy==="Top"){$15=0;};var $2Q=Math.floor((($c.coords.y-$15-$I)+$2P/ 2)/ $2P)*$2P+$I;if($2Q<$I){$2Q=$I;};var $F=$c.nav.main;var $N=$F.clientHeight;var $J=parseInt(DayPilotCalendar.movingShadow.style.height);if($2Q+$J>$N){$2Q=$N-$J;};var $H=$F.clientWidth/$F.rows[0].cells.length;var $p=Math.floor(($c.coords.x)/$H);if($p<0){$p=0;};if($c.rtl){$p=$c.$6r.length-$p-1;};var $L=DayPilotCalendar.movingShadow;var e=DayPilot.Global.moving.event;var $0C=$c.$6T(e,$p,$2Q);var $0U=$c.eventMovingStartEndFormat;if($0U==="Auto"){$0U=$0g.timeFormat()==="Clock24Hours"?"H:mm":"h:mm tt";};var $m={};$m.e=e;$m.start=$0C.start;$m.end=$0C.end;$m.resource=$0C.resource;$m.html=null;$m.cssClass=null;$m.allowed=true;$m.top={};$m.top.width=null;$m.top.space=5;$m.top.html=$m.start.toString($0U,$0g.locale());$m.top.enabled=$c.eventMovingStartEndEnabled;$m.bottom={};$m.bottom.width=null;$m.bottom.space=5;$m.bottom.html=$m.end.toString($0U,$0g.locale());$m.bottom.enabled=$c.eventMovingStartEndEnabled;(function updateShadow(){var $0R=$c.$8r;var $2R=!($0R&&$0R.start.getTime()===$0C.start.getTime()&&$0R.end.getTime()===$0C.end.getTime()&&$0R.resource===$0C.resource);if(!$2R){return;};$L.className=$c.$6s("_shadow");$L.firstChild.innerHTML="";$c.$8r=$m;$L.args=$m;if(!$c.allowEventOverlap){var $g={"id":e.id(),"start":$m.start,"end":$m.end,"resource":$m.resource};if($c.events.$7a($g)){DayPilot.Util.addClass($L,$c.$6s("_shadow_forbidden"));$m.allowed=false;}};DayPilot.Util.removeClass($L,$c.$6s("_shadow_forbidden"));if(typeof $c.onEventMoving==="function"&&$m.allowed){$c.onEventMoving($m);};if($m.html){$L.firstChild.innerHTML=$m.html;};if($m.cssClass){DayPilot.Util.addClass($L,$m.cssClass);};if(!$m.allowed){DayPilot.Util.addClass($L,$c.$6s("_shadow_forbidden"));};DayPilotCalendar.movingShadow.style.top=$2Q+'px';var $1h=$c.nav.events;if($p<$1h.rows[0].cells.length&&$p>=0&&DayPilotCalendar.movingShadow.column!==$p){DayPilotCalendar.movingShadow.column=$p;DayPilotCalendar.moveShadow($1h.rows[0].cells[$p]);};var $0T=$p;var $d=$L;$c.$7d($d,$0T,$m);})();}else if(DayPilotCalendar.firstMousePos){var x=$c.$8s($c.coords.x);var y=Math.floor($c.coords.y/$c.cellHeight);var $2S=$c.nav.main.rows[y].cells[x];if(!DayPilot.Global.selecting){var $0Q=DayPilotCalendar.firstMousePos;var $2T=$c.coords;if($0Q.x!==$2T.x||$0Q.y!==$2T.y){DayPilot.Global.selecting={"calendar":$c};}};if(!DayPilot.Global.selecting){return;};var $2M=$c.coords;var $2U=DayPilotCalendar.getColumn($2S);if($2U!==DayPilotCalendar.column){$2S=$c.nav.main.rows[y].cells[DayPilotCalendar.column];};var $2V=DayPilot.Global.selecting;if($2V.last&&$2V.last.x===x&&$2V.last.y===y){return;};$2V.last={"x":x,"y":y};if($2M.y<DayPilotCalendar.firstMousePos.y){$c.selectedCells=DayPilotCalendar.getCellsBelow($2S);DayPilotCalendar.topSelectedCell=$c.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$c.selectedCells=DayPilotCalendar.getCellsAbove($2S);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$c.selectedCells[0];};$c.$78();};if(DayPilotCalendar.drag){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;if(!DayPilotCalendar.movingShadow&&$c.coords){var $L=$c.$6q(DayPilotCalendar.drag,false);if($L){DayPilotCalendar.movingShadow=$L;var $2T=DayPilot.Date.today();var ev={'id':DayPilotCalendar.drag.id,'start':$2T,'end':$2T.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var $g=DayPilotCalendar.drag.data;if($g){var $2W=['duration','element','remove','id','text'];for(var name in $g){if(DayPilot.contains($2W,name)){continue;};ev[name]=$g[name];}};var event=new DayPilot.Event(ev,$c);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};ev.cancelBubble=true;}};this.$8t=function($L){var top=DayPilotCalendar.movingShadow.offsetTop;var e=DayPilot.Global.moving.event;var $2X=DayPilotCalendar.movingShadow.column;};this.$8q=function($2M){if(!DayPilot.Global.resizing.event){DayPilot.Global.resizing=null;DayPilot.de(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;return;};if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizingShadow=$c.$6q(DayPilot.Global.resizing,false);};var $2P=DayPilot.Global.resizing.event.calendar.cellHeight;var $I=0;var $2Y=($2M.y-DayPilotCalendar.originalMouse.y);var e=DayPilot.Global.resizing.event;var $0a=e.start();var end=e.end();if(DayPilot.Global.resizing.dpBorder==='bottom'){var $2Z=Math.floor(((DayPilotCalendar.originalHeight+DayPilotCalendar.originalTop+$2Y)+$2P/ 2)/ $2P)*$2P-DayPilotCalendar.originalTop+$I;if($2Z<$2P)$2Z=$2P;var $N=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;if(DayPilotCalendar.originalTop+$2Z>$N){$2Z=$N-DayPilotCalendar.originalTop;};DayPilotCalendar.resizingShadow.style.height=($2Z)+'px';end=$c.$6Q(e,DayPilotCalendar.originalTop+$2Z);}else if(DayPilot.Global.resizing.dpBorder==='top'){var $2Q=Math.floor(((DayPilotCalendar.originalTop+$2Y-$I)+$2P/ 2)/ $2P)*$2P+$I;if($2Q<$I){$2Q=$I;};if($2Q>DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$2P){$2Q=DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$2P;};var $2Z=DayPilotCalendar.originalHeight-($2Q-DayPilotCalendar.originalTop);if($2Z<$2P){$2Z=$2P;}else{DayPilotCalendar.resizingShadow.style.top=$2Q+'px';};DayPilotCalendar.resizingShadow.style.height=($2Z)+'px';$0a=$c.$6P(e,$2Q);};var $L=DayPilotCalendar.resizingShadow;var $0U=$c.eventResizingStartEndFormat;if($0U==="Auto"){$0U=$0g.timeFormat()==="Clock24Hours"?"H:mm":"h:mm tt";};var $m={};$m.start=$0a;$m.end=end;$m.resource=e.resource();$m.allowed=true;$m.html=null;$m.cssClass=null;$m.top={};$m.top.width=null;$m.top.space=5;$m.top.html=$m.start.toString($0U,$0g.locale());$m.top.enabled=$c.eventResizingStartEndEnabled;$m.bottom={};$m.bottom.width=null;$m.bottom.space=5;$m.bottom.html=$m.end.toString($0U,$0g.locale());$m.bottom.enabled=$c.eventResizingStartEndEnabled;$L.args=$m;$L.firstChild.innerHTML="";$L.className=$c.$6s("_shadow");if(!$c.allowEventOverlap){var $g={"id":e.id(),"start":$m.start,"end":$m.end,"resource":$m.resource};if($c.events.$7a($g)){DayPilot.Util.addClass($L,$c.$6s("_shadow_forbidden"));$m.allowed=false;}};if(typeof $c.onEventResizing==="function"&&$m.allowed){$c.onEventResizing($m);};if($m.html){$L.firstChild.innerHTML=$m.html;};if($m.cssClass){DayPilot.Util.addClass($L,$m.cssClass);};var $0T=e.part.dayIndex;var $d=$L;$c.$7d($d,$0T,$m);};this.temp={};this.temp.getPosition=function(){var $30=$c.$8u.getCellCoords();if(!$30){return null;};var $p=$c.$6r[$30.x];var $0c={};$0c.resource=$p.id;$0c.start=new DayPilot.Date($p.start).addHours($c.$6y(true)).addMinutes($30.y*$c.cellDuration);$0c.end=$0c.start.addMinutes($c.cellDuration);return $0c;};this.$8u={};this.$8u.getCellCoords=function(){var $t={};$t.x=0;$t.y=0;if(!$c.coords){return null;};var $F=$c.nav.main;var $31=$c.coords.x;var i=0;var $0V=this.col($F,i);while($0V&&$31>$0V.left){i+=1;$0V=this.col($F,i);};$t.x=i-1;var $I=0;var $2e=Math.floor(($c.coords.y-$I)/$c.cellHeight);$t.y=$2e;if($t.x<0){return null;};return $t;};this.$8u.col=function($2j,x){var $t={};$t.left=0;$t.width=0;if(!$2j){return null;};if(!$2j.rows){return null;};if($2j.rows.length===0){return null;};if($2j.rows[0].cells.length==0){return null;};var $0c=$2j.rows[0].cells[x];if(!$0c){return null;};var t=DayPilot.abs($2j);var c=DayPilot.abs($0c);$t.left=c.x-t.x;$t.width=$0c.offsetWidth;return $t;};this.$8p=function(){this.$5Y();if(!this.elements.crosshair){this.elements.crosshair=[];};var $32=this.$8u.getCellCoords();if(!$32){return;};var $p=$32.x;var y=Math.floor($32.y/(60/ $c.cellDuration)*(60/$c.timeHeaderCellDuration));if(y<0){return;};if(this.nav.hourTable){if(y>=this.nav.hourTable.rows.length){return;};var $33=document.createElement("div");$33.style.position="absolute";$33.style.left="0px";$33.style.right="0px";$33.style.top="0px";$33.style.bottom="0px";$33.className=$c.$6s("_crosshair_left");this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($33);this.elements.crosshair.push($33);};if(this.nav.header){var $34=document.createElement("div");$34.style.position="absolute";$34.style.left="0px";$34.style.right="0px";$34.style.top="0px";$34.style.bottom="0px";$34.className=$c.$6s("_crosshair_top");var $2e=this.nav.header.rows[this.headerLevels-1];if($2e.cells[$p]){$2e.cells[$p].firstChild.appendChild($34);this.elements.crosshair.push($34);}};if(this.crosshairType==="Header"){return;};var $35=this.nav.crosshair;var $I=0;var top=Math.floor((($c.coords.y-$I))/$c.cellHeight)*$c.cellHeight+$I;var $J=$c.cellHeight;var $36=document.createElement("div");$36.style.position="absolute";$36.style.left="0px";$36.style.right="0px";$36.style.top=top+"px";$36.style.height=$J+"px";$36.className=$c.$6s("_crosshair_horizontal");$36.onmousedown=this.$8v;$35.appendChild($36);this.elements.crosshair.push($36);var $0V=this.$8u.col(this.nav.main,$p);$J=this.nav.main.clientHeight;if($0V){var $37=document.createElement("div");$37.style.position="absolute";$37.style.left=$0V.left+"px";$37.style.width=$0V.width+"px";$37.style.top="0px";$37.style.height=$J+"px";$37.className=$c.$6s("_crosshair_vertical");$37.onmousedown=this.$8v;$35.appendChild($37);this.elements.crosshair.push($37);}};this.$8v=function(ev){$c.$5Y();var $32=$c.$8u.getCellCoords();var $38=0;var $0c=$c.nav.main.rows[$32.y+$38].cells[$32.x];$c.$77.apply($0c,[ev]);};this.$5Y=function(){if(!this.elements.crosshair||this.elements.crosshair.length===0){return;};for(var i=0;i<this.elements.crosshair.length;i++){var e=this.elements.crosshair[i];if(e&&e.parentNode){e.parentNode.removeChild(e);}};this.elements.crosshair=[];};this.$67=function(){if(!this.cellConfig){return;};var $39=this.cellConfig;if($39.vertical){for(var x=0;x<$39.x;x++){var $3a=this.cellProperties[x+"_0"];for(var y=1;y<$39.y;y++){this.cellProperties[x+"_"+y]=$3a;}}};if($39.horizontal){for(var y=0;y<$39.y;y++){var $3a=this.cellProperties["0_"+y];for(var x=1;x<$39.x;x++){this.cellProperties[x+"_"+y]=$3a;}}};if($39["default"]){var $3a=$39["default"];for(var y=0;y<$39.y;y++){for(var x=0;x<$39.x;x++){if(!this.cellProperties[x+"_"+y]){this.cellProperties[x+"_"+y]=$3a;}}}}};this.$8m=function(x,y){if(!this.cellProperties){return null;};return this.cellProperties[x+"_"+y];};this.$8w=function(x,y){var $2q=x+'_'+y;if(this.cellProperties&&this.cellProperties[$2q]){return this.cellProperties[$2q].business;};return false;};this.$8n=function(x,y){var $2q=x+'_'+y;if(this.cellProperties&&this.cellProperties[$2q]){return this.cellProperties[$2q].backColor;};return null;};this.$5T=function(){var $2j=this.nav.header;if($2j&&$2j.rows){for(var y=0;y<$2j.rows.length;y++){var r=$2j.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.onclick=null;c.onmousemove=null;c.onmouseout=null;}}};if(!this.$5A)DayPilot.pu($2j);};this.$8x=function($1F,$2m){var r=($2m)?this.nav.header.insertRow(-1):this.nav.header.rows[$1F-1];var $0j=this.$7F($1F);var $3b=$0j.length;var $3c=($1F===$c.headerLevels);for(var i=0;i<$3b;i++){var $g=$0j[i];if($c.$6p()){if(typeof $c.onBeforeHeaderRender==='function'){var $m={};$m.header={};DayPilot.Util.copyProps($g,$m.header,['id','start','name','html','backColor','toolTip','areas','children']);this.onBeforeHeaderRender($m);DayPilot.Util.copyProps($m.header,$g,['html','backColor','toolTip','areas']);}};var $3d=$g.getChildren?true:false;var $0c=($2m)?r.insertCell(-1):r.cells[i];$0c.data=$g;if($3c){}else{var $3e=1;if($3d){$3e=$g.getChildrenCount($c.headerLevels-$1F+1);};$0c.colSpan=$3e;};if($3d){$0c.onclick=this.$6J;$0c.onmousemove=this.$6K;$0c.onmouseout=this.$6L;if($g.toolTip){$0c.title=$g.toolTip;}};$0c.style.overflow='hidden';$0c.style.padding='0px';$0c.style.border='0px none';$0c.style.height=($0g.headerHeight())+"px";var $d=($2m)?document.createElement("div"):$0c.firstChild;if($2m){$d.setAttribute("unselectable","on");$d.style.MozUserSelect='none';$d.style.KhtmlUserSelect='none';$d.style.WebkitUserSelect='none';$d.style.position='relative';$d.style.height=$0g.headerHeight()+"px";$d.className=$c.$6s('_colheader');var $M=document.createElement("div");$M.className=$c.$6s('_colheader_inner');if($g.backColor){$M.style.background=$g.backColor;};$d.appendChild($M);$0c.appendChild($d);}else{$d.style.height=$0g.headerHeight()+"px";};this.$8y($d,$g);if($3d){$d.firstChild.innerHTML=$g.html;}}};this.$8y=function($d,$g){var $3f=[];for(var j=0;j<$d.childNodes.length;j++){var $q=$d.childNodes[j];if($q.isActiveArea){$3f.push($q);}};for(var j=0;j<$3f.length;j++){var $q=$3f[j];DayPilot.de($q);};if($g.areas){var $1Q=$g.areas;for(var j=0;j<$1Q.length;j++){var $20=$1Q[j];var $3g=$20.visibility||$20.v;if($3g!=='Visible'){continue;};var o=new DayPilotCalendar.Column($g.id,$g.name,$g.start);var a=DayPilot.Areas.createArea($d,o,$20);$d.appendChild(a);}}};this.$6a=function(){if(!this.showHeader){return;};var $1O=this.nav.header;var $2m=true;var $0j=this.$7F($c.headerLevels,true);var $3b=$0j.length;DayPilot.de(this.nav.header);this.$8h();while(this.$8z&&$1O&&$1O.rows&&$1O.rows.length>0&&$2m){if(!this.$5A)DayPilot.pu($1O.rows[0]);$1O.deleteRow(0);};this.$8z=true;var $S=$c.cornerHTML||$c.cornerHtml;var $2z=$c.nav.corner;if($2z){if(!this.$5A)DayPilot.pu($2z.firstChild);$2z.firstChild.innerHTML=$S?$S:'';};for(var i=0;i<$c.headerLevels;i++){this.$8x(i+1,$2m);};if(!this.showAllDayEvents){return;};var r=($2m)?this.nav.header.insertRow(-1):this.nav.header.rows[$c.headerLevels];for(var i=0;i<$3b;i++){var $g=$0j[i];var $0c=($2m)?r.insertCell(-1):r.cells[i];$0c.data=$g;$0c.style.padding='0px';$0c.style.border='0px none';$0c.style.overflow='hidden';var $d=($2m)?document.createElement("div"):$0c.firstChild;if($2m){$d.setAttribute("unselectable","on");$d.style.MozUserSelect='none';$d.style.KhtmlUserSelect='none';$d.style.WebkitUserSelect='none';$d.style.overflow='hidden';$d.style.position="relative";$d.style.height=$0g.allDayHeaderHeight()+"px";$d.className=this.$6s("_alldayheader");var $M=document.createElement("div");$M.className=this.$6s("_alldayheader_inner");$d.appendChild($M);$0c.appendChild($d);};$d.style.height=$0g.allDayHeaderHeight()+"px";}};this.$5L=function($3h){var $T=$3h?0:100;if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.callbackTimeout=window.setTimeout(function(){if($c.loadingLabelVisible&&$c.nav.loading){$c.nav.loading.innerHTML=$c.loadingLabelText;$c.nav.loading.style.top=($c.$6z()+5)+"px";$c.nav.loading.style.display='';}},$T);};this.$62=function(){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(this.nav.loading){this.nav.loading.style.display='none';}};this.$8A=function($2s){var $3i=$c.$6y(true);if($2s<$3i){$2s+=24;};var $3j=($2s-$3i)*(60/$c.cellDuration)*$c.cellHeight;return $3j;};this.$8j=function(){var $2d=this.$7k();var $3k=this.initScrollPos;if(!$3k){var $2s=this.businessBeginsHour;$3k=$c.$8A($2s);};$2d.root=this;$2d.onscroll=this.$7i;if($2d.scrollTop===0){$2d.scrollTop=$3k-this.$7n();}else{this.$7i();}};this.$8B=function(){var el=$c.nav.top;return el.offsetWidth>0&&el.offsetHeight>0;};this.$8C=function(){var $1C=$c.$8B;if(!$1C()&&!$c.$8D){$c.$8D=setInterval(function(){if($1C()){clearInterval($c.$8D);$c.$8j();$c.$6h();}},100);}};this.scrollToY=function($3j){var $2d=this.$7k();$2d.scrollTop=$3j;};this.scrollToHour=function($2s){var $3j=$c.$8A($2s);var $2d=this.$7k();$2d.scrollTop=$3j-this.$7n();};this.$7k=function(){var $12=this.columnWidthSpec==='Fixed';return $12||this.$7j?this.nav.bottomRight:this.nav.scroll;};this.onCallbackError=function($t,$u){alert("Error!\r\nResult: "+$t+"\r\nContext:"+$u);};this.$6h=function(){if(!$c.showHeader){return;};var $3l=this.$8f();var $1C=!!this.nav.cornerRight;if(this.$7j){if(this.nav.unifiedCornerRight){DayPilot.de(this.nav.unifiedCornerRight);};var $3m=this.$84();if($3m!="100%"&&parseInt($3m)<this.$7k().clientWidth){return;};var w=DayPilot.sw(this.nav.bottomRight);this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1);var c=this.nav.unifiedCornerRight;c.rowSpan=this.nav.header.rows.length;c.style.width=w+"px";var $2z=document.createElement("div");$2z.className=$c.$6s("_cornerright");$2z.setAttribute("unselectable","on");$2z.style.overflow="hidden";$2z.style.height=this.$6z()+"px";$2z.style.position="relative";var $M=document.createElement("div");$M.className=$c.$6s("_cornerright_inner");$2z.appendChild($M);c.appendChild($2z);var $3n=this.columnWidthSpec==="Fixed";if(!$3n&&this.nav.allday){this.nav.allday.style.right=w+"px";};return;};if($3l!==$1C){if($3l){this.$8i();}else{if(this.nav.fullHeader&&this.nav.fullHeader.rows[0].cells.length===3){var c=this.nav.fullHeader.rows[0].cells[2];if(c.parentNode){c.parentNode.removeChild(c);}};this.nav.cornerRight=null;}};var d=this.nav.cornerRight;if(!d){return;};var w=DayPilot.sw($c.$6A());if(d){d.style.width=(w)+'px';};return w;};this.$6o=function($3o){if($3o){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.$5D>=this.autoRefreshMaxCount){return;};this.$5Q();var $3p=this.autoRefreshInterval;if(!$3p||$3p<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$c.$8E();},this.autoRefreshInterval*1000);};this.$5Q=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$8E=function(){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving&&!DayPilotCalendar.drag&&!DayPilot.Global.selecting){var $2W=false;if(typeof this.onAutoRefresh==='function'){var $m={};$m.i=this.$5D;$m.preventDefault=function(){this.preventDefault.value=true;};$c.onAutoRefresh($m);if($m.preventDefault.value){$2W=true;}};if(!$2W&&this.$5K()){this.commandCallBack(this.autoRefreshCommand);};this.$5D++;};if(this.$5D<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$c.$8E();},this.autoRefreshInterval*1000);}};this.$5U=function(){$c.$6g();if($c.heightSpec==="Parent100Pct"){$c.setHeight(parseInt($c.nav.top.clientHeight,10));};$c.$6h();$c.$6n();};this.$8F=function(){if(!DayPilotCalendar.globalHandlers){DayPilotCalendar.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.re(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.re(document,DayPilot.touch.move,DayPilotCalendar.gTouchMove);DayPilot.re(document,DayPilot.touch.end,DayPilotCalendar.gTouchEnd);};DayPilot.re(window,'resize',this.$5U);};this.$7M=function(ev){if($0M.active||$0M.using){return;};ev=ev||window.event;var $0N=DayPilot.Util.mouseButton(ev);if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();DayPilot.Bubble.cancelShowing();};if((this.style.cursor==='n-resize'||this.style.cursor==='s-resize')&&$0N.left){DayPilot.Global.resizing=this;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalHeight=this.offsetHeight;DayPilotCalendar.originalTop=this.offsetTop;$c.nav.top.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||($c.moveBy==='Full'&&this.event.client.moveEnabled()))&&$0N.left){DayPilot.Global.moving=this;var $3q=DayPilot.Global.moving.helper={};$3q.oldColumn=$c.$6r[this.event.part.dayIndex].id;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalTop=this.offsetTop;var $15=DayPilot.mo3(this,ev);if($15){DayPilotCalendar.moveOffsetY=$15.y;}else{DayPilotCalendar.moveOffsetY=0;};$c.nav.top.style.cursor=this.style.cursor;};return false;};this.$8G=function(i){var $1P=this.$5z.events;var $g=this.events.list[i];var $3r={};for(var name in $g){$3r[name]=$g[name];};if($c.showEventStartEnd){var $3s=$g.start.getDatePart().getTime()===$g.end.getDatePart().getTime();var $1D=$3s?$0g.locale().timePattern:$0g.locale().dateTimePattern;var $3t=$g.start.toString($1D);var $3u=$g.end.toString($1D);$3r.html=$3r.text+" ("+$3t+" - "+$3u+")";};if(typeof this.onBeforeEventRender==='function'){var $m={};$m.e=$3r;$m.data=$3r;this.onBeforeEventRender($m);};$1P[i]=$3r;};this.$7N={};var $0M=$c.$7N;$0M.active=false;$0M.start=null;$0M.timeout=null;$0M.startcell=null;this.$7N.getCellCoords=function(ev){var x,y;if(ev.touches){x=ev.touches[0].pageX;y=ev.touches[0].pageY;}else{x=ev.pageX;y=ev.pageY;};var $3v=DayPilot.abs($c.nav.main);var $3w={x:x-$3v.x,y:y-$3v.y};var w=($c.nav.main.clientWidth/$c.$6r.length);var $30={"pageX":x,"pageY":y,"x":Math.floor($3w.x/w),"y":Math.floor($3w.y/$c.cellHeight),"toString":function(){return "x: "+this.x+" y:"+this.y;}};return $30;};this.$7N.startSelecting=function($30){var $0c=$c.nav.main.rows[$30.y].cells[$30.x];$0M.startcell=$30;$c.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn($0c);$c.selectedCells.push($0c);DayPilotCalendar.firstSelected=$0c;DayPilotCalendar.topSelectedCell=$0c;DayPilotCalendar.bottomSelectedCell=$0c;DayPilot.Global.selecting={"calendar":$c};$c.$78();};this.$7N.extendSelection=function($30){var $0c=$c.nav.main.rows[$30.y].cells[$30.x];$c.clearSelection();DayPilot.Global.selecting={"calendar":$c};if($30.y<$0M.startcell.y){$c.selectedCells=DayPilotCalendar.getCellsBelow($0c);DayPilotCalendar.topSelectedCell=$c.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$c.selectedCells=DayPilotCalendar.getCellsAbove($0c);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$c.selectedCells[0];};$c.$78();};this.$7N.detected=false;this.$7N.onMainTouchStart=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};$0M.start=true;$0M.detected=true;if($0M.active){return;};if(ev.touches.length>1){return;};$0M.using=true;var $30=$0M.getCellCoords(ev);$0M.startCoords=$30;var $3x=$c.tapAndHoldTimeout;$0M.timeout=window.setTimeout(function(){ev.preventDefault();$0M.active=true;$0M.start=false;switch($c.timeRangeTapAndHoldHandling){case "Select":$0M.startSelecting($30);break;case "ContextMenu":$0M.startSelecting($30);$0M.active=false;if($c.contextMenuSelection){$c.contextMenuSelection.show($c.getSelection());};break;}},$3x);};this.$7N.onCellTouchMove=function(ev){};this.$7N.onCellTouchEnd=function(ev){if(!$0M.active){window.clearTimeout($0M.timeout);if($0M.start){(function selectCell($0c){if($c.timeRangeSelectedHandling==="Disabled"){return;};$c.clearSelection();$c.selectedCells=[$0c];DayPilotCalendar.topSelectedCell=$0c;DayPilotCalendar.bottomSelectedCell=$0c;$c.$78();var $0Y=$c.getSelection();$0Y.toString=function(){return "start: "+this.start+"\nend: "+this.end;};setTimeout(function(){$c.$71($0Y.start,$0Y.end,$0Y.resource);},10);})(this);};return;};ev.preventDefault();$0M.startcell=null;$0M.start=false;var $0Y=$c.getSelection();$0Y.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$c.$71($0Y.start,$0Y.end,$0Y.resource);window.setTimeout(function(){$0M.active=false;},500);};this.$7N.startMoving=function($d,$30){DayPilot.Global.moving=$d;var $3q=DayPilot.Global.moving.helper={};$3q.oldColumn=$c.$6r[$d.event.part.dayIndex].id;DayPilotCalendar.originalMouse=$30;DayPilotCalendar.originalTop=this.offsetTop;var $3v=DayPilot.abs($d);DayPilotCalendar.moveOffsetY=$30.y-$3v.y;if(!DayPilotCalendar.movingShadow){DayPilotCalendar.movingShadow=$c.$6q(DayPilot.Global.moving,!$c.$5F.ie);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}};this.$7N.startResizing=function($d,$0r,$30){DayPilot.Global.resizing=$d;$d.dpBorder=$0r;DayPilotCalendar.originalMouse=$30;DayPilotCalendar.originalHeight=$d.offsetHeight;DayPilotCalendar.originalTop=$d.offsetTop;};this.$7N.updateResizing=function($30){$c.$8q($30);};this.$7N.updateMoving=function(){var $30=$c.coords;var $2P=$c.cellHeight;var $I=0;var $15=DayPilotCalendar.moveOffsetY;if(!$15){$15=$2P/2;};var $2Q=Math.floor((($30.y-$15-$I)+$2P/ 2)/ $2P)*$2P+$I;if($2Q<$I){$2Q=$I;};var $F=$c.nav.main;var $N=$F.clientHeight;var $J=parseInt(DayPilotCalendar.movingShadow.style.height);if($2Q+$J>$N){$2Q=$N-$J;};DayPilotCalendar.movingShadow.style.top=$2Q+'px';var $H=$F.clientWidth/$F.rows[0].cells.length;var $p=Math.floor($30.x/$H);if($p<0){$p=0;};var $1h=$c.nav.events;if($p<$1h.rows[0].cells.length&&$p>=0&&DayPilotCalendar.movingShadow.column!==$p){DayPilotCalendar.movingShadow.column=$p;DayPilotCalendar.moveShadow($1h.rows[0].cells[$p]);}};this.$7N.onEventTouchStart=function(ev){if($0M.active){return;};if(DayPilot.Util.isMouseEvent(ev)){return;};ev.stopPropagation();$0M.preventEventTap=false;$0M.using=true;$0M.startCoords=$0M.getCellCoords(ev);var $d=this;var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $30={x:x,y:y,$d:this};$c.coords=$0M.relativeCoords(ev);var $3x=$c.tapAndHoldTimeout;$0M.timeout=window.setTimeout(function(){var e=$d.event;$0M.active=true;switch($c.eventTapAndHoldHandling){case "Move":if(e.client.moveEnabled()){$0M.startMoving($d,$30);};break;case "ContextMenu":var $07=e.client.contextMenu();if(DayPilot.Menu){DayPilot.Menu.touchPosition(ev);};if($07){$07.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;}},$3x);};this.$7N.onMainTouchMove=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};$0M.start=false;if($0M.timeout){var $30=$0M.getCellCoords(ev);if($30&&$0M.startCoords){if($30.pageX!==$0M.startCoords.pageX||$30.pageY!==$0M.startCoords.pageY){window.clearTimeout($c.$7N.timeout);}}};if(DayPilot.Global.moving&&DayPilotCalendar.movingShadow){ev.preventDefault();$c.coords=$0M.relativeCoords(ev);$0M.updateMoving();return;}else if(DayPilot.Global.resizing){ev.preventDefault();var t=ev.touches?ev.touches[0]:ev;var $30={x:t.pageX,y:t.pageY};$0M.updateResizing($30);return;}else if($0M.startcell){ev.preventDefault();if(!$0M.active){window.clearTimeout($0M.timeout);return;};var $30=$0M.getCellCoords(ev);$0M.extendSelection($30);};$0M.preventEventTap=true;};this.$7N.relativeCoords=function(ev){var $2L=$c.nav.main;var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $3v=DayPilot.abs($2L);var $30={x:x-$3v.x,y:y-$3v.y,"toString":function(){return "x: "+this.x+", y:"+this.y;}};return $30;};this.$7N.onMainTouchEnd=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};if(DayPilot.Global.moving){$0M.active=false;ev.preventDefault();ev.stopPropagation();var top=DayPilotCalendar.movingShadow.offsetTop;var $3y=DayPilot.Global.moving.event;var $c=$3y.calendar;$c.$7e(DayPilotCalendar.movingShadow);var $0u=DayPilotCalendar.movingShadow.column;var $m=DayPilotCalendar.movingShadow;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if(!$m.allowed){return;};$3y.calendar.$6U($3y,$0u,top,ev,DayPilotCalendar.drag);}else if($0M.startcell){if(!$0M.active){window.clearTimeout($0M.timeout);return;};ev.preventDefault();$0M.startcell=null;var $0Y=$c.getSelection();$0Y.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$c.$71($0Y.start,$0Y.end,$0Y.resource);window.setTimeout(function(){$0M.active=false;},500);}};this.$7N.onEventTouchMove=function(ev){$0M.preventEventTap=true;};this.$7N.onEventTouchEnd=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};if(!$0M.active){if($0M.preventEventTap){return;};window.clearTimeout($0M.timeout);$c.$6E(this,false,false,ev);return;};$0M.active=false;if($0M.timeout){window.clearTimeout($0M.timeout);return;}};this.$7K=function(ev){var $3z=5;var $3A=10;var w=5;var $1O=($c.moveBy==='Top');if(typeof(DayPilotCalendar)==='undefined'){return;};var $15=DayPilot.mo3(this,ev);if(!$15){return;};var $d=this;if(!$d.active){var $1Q=[];if($d.event.client.deleteEnabled()){$1Q.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":$c.$6s("_event_delete"),"js":function(e){$c.$6M(e);}});};var $1k=$d.event.cache?$d.event.cache.areas:$d.event.data.areas;if($1k&&$1k.length>0){$1Q=$1Q.concat($1k);};var $3B=DayPilot.Global.moving||DayPilot.Global.resizing||DayPilot.Global.selecting;if(!$3B){DayPilot.Areas.showAreas($d,$d.event,null,$1Q);};DayPilot.Util.addClass($d,$c.$6s("_event_hover"));};if(DayPilot.Global.resizing||DayPilot.Global.moving){return;};var $3C=this.isFirst;var $3D=this.isLast;if($c.moveBy==="Disabled"||$c.moveBy==="None"){return;};if(!$1O&&$15.x<=$3A&&this.event.client.moveEnabled()){if($3C){this.style.cursor='move';}else{this.style.cursor='not-allowed';}}else if(!$1O&&$15.y<=$3z&&this.event.client.resizeEnabled()){if($3C){this.style.cursor="n-resize";this.dpBorder='top';}else{this.style.cursor='not-allowed';}}else if($1O&&$15.y<=$3A&&this.event.client.moveEnabled()){this.style.cursor="move";}else if(this.offsetHeight-$15.y<=$3z&&this.event.client.resizeEnabled()){if($3D){this.style.cursor="s-resize";this.dpBorder='bottom';}else{this.style.cursor='not-allowed';}}else if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(this.event.client.clickEnabled())this.style.cursor='pointer';else this.style.cursor='default';};if(typeof(DayPilot.Bubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){if(this.style.cursor==='default'||this.style.cursor==='pointer'){var $3E=this.$8H&&$15.x===this.$8H.x&&$15.y===this.$8H.y;if(!$3E){this.$8H=$15;$c.bubble.showEvent(this.event);}}else{}}};this.$7L=function(ev){DayPilot.Util.removeClass(this,$c.$6s("_event_hover"));if($c.bubble){$c.bubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this,ev);};this.$8I=null;this.$6j=function(){if(this.showCurrentTime){this.$8J();var $0b=new DayPilot.Date().addMinutes($c.showCurrentTimeOffset);if($c.showCurrentTimeMode==="Full"){this.$8K($0b);}else if($c.showCurrentTimeMode==="Day"){this.$8L($0b);}else{throw "Invalid DayPilot.Calendar.showCurrentTimeMode value: "+$c.showCurrentTimeMode;};if(this.nav.events&&!this.$8I){var $3F=30;this.$8I=setTimeout(function(){$c.$8I=null;$c.$6j();},$3F*1000);}}};this.$8J=function(){DayPilot.de($c.elements.separators);$c.elements.separators=[];};this.$8L=function($0z){var $3G=$0z.getTime();var $F=$c.nav.events;if(!$F){return;};for(var i=0;i<$c.$6r.length;i++){var $0V=$c.$6r[i];var $K=$c.$6u(true);var $3H=new DayPilot.Date($0V.start).addHours(this.$6y(true));var $3I=$3H.getTime();var $3J=$3H.addTime($K);var $3K=$3J.getTime();if($3I<=$3G&&$3G<=$3K){var $3L=this.$7b($0z,$0V.start).top-1;var $0c=$F.rows[0].cells[i];var $26=$0c.separators;var $d=document.createElement("div");$d.style.position="absolute";$d.style.top=$3L+"px";$d.style.height="1px";$d.style.left="0px";$d.style.right="0px";$d.className=$c.$6s("_now");$26.insertBefore($d,$26.firstChild);$c.elements.separators.push($d);}}};this.$8K=function($0z){var $3G=$0z.getTime();var $F=$c.nav.events;if(!$F){return;};var $0V=$c.$6r[0];if(!$0V){return;};var $3M=$0V.start.getDatePart().addTime($0z.getTimePart());var $3L=this.$7b($3M,$0V.start).top-1;for(var i=0;i<$c.$6r.length;i++){var $0V=$c.$6r[i];var $K=$c.$6u(true);var $3H=new DayPilot.Date($0V.start).addHours(this.$6y(true));var $3I=$3H.getTime();var $3J=$3H.addTime($K);var $3K=$3J.getTime();if($3I<=$3G&&$3G<=$3K){var $d=document.createElement("div");$d.style.position="absolute";$d.style.top=$3L+"px";$d.style.height="1px";$d.style.left="0px";$d.style.right="0px";$d.className=$c.$6s("_now");$c.nav.events.appendChild($d);$c.elements.separators.push($d);return;}}};this.$68=function($1h){if(!$1h){$1h=this.events.list;}else{this.events.list=$1h;};if(!$1h){return;};this.$7I={};this.$7I.events=[];this.$7I.lines=[];var length=$1h.length;var $K=this.$6u(true);this.$5z.pixels={};var $3N=[];this.$7m=[];this.$6O=10000;this.$6x=0;this.startDate=new DayPilot.Date(this.startDate);for(var i=0;i<length;i++){var e=$1h[i];if(typeof e!=="object"){throw new DayPilot.Exception("Event data item must be an object");};if(!e.start){throw new DayPilot.Exception("Event data item must specify 'start' property");};e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);};if(typeof this.onBeforeEventRender==='function'||$c.showEventStartEnd){for(var i=0;i<length;i++){this.$8G(i);}};var $3O=this.viewType==='Resources';var $1C=this.$7G();var $3P=$1C.start;var $3Q=$1C.end;for(var i=0;i<this.$6r.length;i++){var scroll={};scroll.minEnd=1000000;scroll.maxStart=-1;this.$7m.push(scroll);var $0V=this.$6r[i];$0V.events=[];$0V.lines=[];$0V.blocks=[];var $3H=new DayPilot.Date($0V.start).addHours(this.$6y(true));var $3I=$3H.getTime();var $3J=$3H.addTime($K);var $3K=$3J.getTime();if($3O){$3P=$3H.getDatePart();$3Q=$3H.addDays(1);};for(var j=0;j<length;j++){if($3N[j]){continue;};var e=$1h[j];var $1P=null;if(typeof $c.onBeforeEventRender==='function'){$1P=$c.$5z.events[j];};if($1P){if($1P.hidden){continue;}}else if(e.hidden){continue;};var $0a=e.start;var end=e.end;var $2J=$0a.getTime();var $2K=end.getTime();if($2K<$2J){continue;};if(e.allday){var $3R=false;if($2J===$2K){$3R=!($2K<$3P.getTime()||$2J>=$3Q.getTime());}else if($c.allDayEnd==='Date'){$3R=!($2K<$3P.getTime()||$2J>=$3Q.getTime());}else{$3R=!($2K<=$3P.getTime()||$2J>=$3Q.getTime());};if($3O){$3R=$3R&&(e.resource===$0V.id||$0V.id==="*");};if($3R){var ep=new DayPilot.Event(e,this);ep.part.start=$3P.getTime()<$2J?$0a:$3P;ep.part.end=$3Q.getTime()>$2K?end:$3Q;ep.part.colStart=DayPilot.DateUtil.daysDiff($3P,ep.part.start);ep.part.colWidth=DayPilot.DateUtil.daysSpan(ep.part.start,ep.part.end)+1;if($3O){ep.part.colStart=i;ep.part.colWidth=1;};if(typeof $c.onEventFilter==="function"&&$c.events.$8M){var $m={};$m.filter=$c.events.$8M;$m.visible=true;$m.e=ep;$c.onEventFilter($m);if(!$m.visible){continue;}};this.$7I.events.push(ep);if(typeof this.onBeforeEventRender==='function'||$c.showEventStartEnd){ep.cache=this.$5z.events[j];};$3N[j]=true;if($3O&&(ep.part.start.getTime()!==$2J||ep.part.end.getTime()!==$2K)){$3N[j]=false;}};continue;};var $1P=null;if(typeof $c.onBeforeEventRender==='function'){$1P=$c.$5z.events[j];};if($1P){if($1P.hidden){continue;}}else if(e.hidden){continue;};var $3R=false;if($3O){$3R=($0V.id===e.resource)&&!($2K<=$3I||$2J>=$3K);}else{$3R=!($2K<=$3I||$2J>=$3K)||($2K===$2J&&$2J===$3I);};if($3R){var ep=new DayPilot.Event(e,$c);ep.part.dayIndex=i;ep.part.start=$3I<$2J?$0a:$3H;ep.part.end=$3K>$2K?end:$3J;var $3L=this.$7b(ep.part.start,$0V.start);var $3S=this.$7b(ep.part.end,$0V.start);var top=$3L.top;var $0X=$3S.top;if(top===$0X&&($3L.cut||$3S.cut)){continue;};ep.part.box=$0g.useBox($2K-$2J);var $I=0;if(ep.part.box){var $3T=$3S.boxBottom;ep.part.top=Math.floor(top/this.cellHeight)*this.cellHeight+$I;ep.part.height=Math.max(Math.ceil($3T/this.cellHeight)*this.cellHeight-ep.part.top,this.cellHeight-1);ep.part.barTop=Math.max(top-ep.part.top-1,0);ep.part.barHeight=Math.max($0X-top-2,1);}else{ep.part.top=top+$I;ep.part.height=Math.max($0X-top,0);ep.part.barTop=0;ep.part.barHeight=Math.max($0X-top-2,1);};if(typeof $c.onEventFilter==="function"&&$c.events.$8M){var $m={};$m.filter=$c.events.$8M;$m.visible=true;$m.e=ep;$c.onEventFilter($m);if(!$m.visible){continue;}};var $0a=ep.part.top;var end=ep.part.top+ep.part.height;if($0a>scroll.maxStart){scroll.maxStart=$0a;};if(end<scroll.minEnd){scroll.minEnd=end;};if($0a<this.$6O){this.$6O=$0a;};if(end>this.$6x){this.$6x=end;};$0V.events.push(ep);if(typeof this.onBeforeEventRender==='function'||$c.showEventStartEnd){ep.cache=this.$5z.events[j];};if(ep.part.start.getTime()===$2J&&ep.part.end.getTime()===$2K){$3N[j]=true;}}}};for(var i=0;i<this.$6r.length;i++){var $0V=this.$6r[i];$0V.events.sort(this.$8N);for(var j=0;j<$0V.events.length;j++){var e=$0V.events[j];$0V.putIntoBlock(e);};for(var j=0;j<$0V.blocks.length;j++){var $1J=$0V.blocks[j];$1J.events.sort(this.$8O);for(var k=0;k<$1J.events.length;k++){var e=$1J.events[k];$1J.putIntoLine(e);}}};this.$7I.events.sort(this.$8O);this.$7I.putIntoLine=function(ep){var $1K=this;for(var i=0;i<this.lines.length;i++){var $1L=this.lines[i];if($1L.isFree(ep.part.colStart,ep.part.colWidth)){$1L.push(ep);return i;}};var $1L=[];$1L.isFree=function($0a,$1d){var end=$0a+$1d-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.colStart||$0a>e.part.colStart+e.part.colWidth-1)){return false;}};return true;};$1L.push(ep);this.lines.push($1L);return this.lines.length-1;};for(var i=0;i<this.$7I.events.length;i++){var e=this.$7I.events[i];this.$7I.putIntoLine(e);};var $3U=Math.max(this.$7I.lines.length,1);this.$5z.allDayHeaderHeight=$3U*($0g.allDayEventHeight()+2)+2;};this.$8N=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $3V=a.start().ticks-b.start().ticks;if($3V!==0){return $3V;};var $3W=b.end().ticks-a.end().ticks;return $3W;};this.$8O=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $c.$8N(a,b);};var $t=0;var i=0;while($t===0&&typeof a.data.sort[i]!=="undefined"&&typeof b.data.sort[i]!=="undefined"){if(a.data.sort[i]===b.data.sort[i]){$t=0;}else if(typeof a.data.sort[i]==="number"&&typeof b.data.sort[i]==="number"){$t=a.data.sort[i]-b.data.sort[i];}else{$t=$c.$8P(a.data.sort[i],b.data.sort[i],$c.sortDirections[i]);};i++;};return $t;};this.$8P=function(a,b,$3X){var $3Y=($3X!=="desc");var $3Z=$3Y?-1:1;var $40=-$3Z;if(a===null&&b===null){return 0;};if(b===null){return $40;};if(a===null){return $3Z;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$3Z:$40;};this.$8Q=function(e){for(var i=0;i<$c.elements.events.length;i++){var $d=$c.elements.events[i];if($d.event===e||$d.event.data===e.data){return $d;}};return null;};this.events.find=function(id){if(!$c.events.list||typeof $c.events.list.length==='undefined'){return null;};var $3b=$c.events.list.length;for(var i=0;i<$3b;i++){if($c.events.list[i].id===id){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.findRecurrent=function($41,$0b){if(!$c.events.list||typeof $c.events.list.length==='undefined'){return null;};var $3b=$c.events.list.length;for(var i=0;i<$3b;i++){if($c.events.list[i].recurrentMasterId===$41&&$c.events.list[i].start.getTime()===$0b.getTime()){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.all=function(){var $1k=[];for(var i=0;i<$c.events.list.length;i++){var e=new DayPilot.Event($c.events.list[i],$c);$1k.push(e);};return DayPilot.list($1k);};this.events.edit=function(e){function startEditing(){var $d=$c.$8Q(e);if(!$d){return;};$c.$6F($d);};startEditing();};this.events.update=function(e,$g){var $0f={};$0f.oldEvent=new DayPilot.Event(e.copy(),$c);$0f.newEvent=new DayPilot.Event(e.temp(),$c);var $f=new DayPilot.Action($c,"EventUpdate",$0f,$g);e.commit();if($c.$5C){$c.update();};$c.$8R.notify();return $f;};this.events.remove=function(e,$g){var $0f={};$0f.e=new DayPilot.Event(e.data,$c);var $f=new DayPilot.Action($c,"EventRemove",$0f,$g);var $2q=DayPilot.indexOf($c.events.list,e.data);$c.events.list.splice($2q,1);if($c.$5C){$c.update();};$c.$8R.notify();return $f;};this.events.add=function(e,$g){if(!(e instanceof DayPilot.Event)){e=new DayPilot.Event(e);};e.calendar=$c;if(!$c.events.list){$c.events.list=[];};$c.events.list.push(e.data);var $0f={};$0f.e=e;var $f=new DayPilot.Action($c,"EventAdd",$0f,$g);if($c.$5C){$c.update();};$c.$8R.notify();return $f;};this.events.filter=function($m){$c.events.$8M=$m;$c.$8S();};this.events.load=function($1q,$1r,$1s){var $1t=function($m){var $1u={};$1u.exception=$m.exception;$1u.request=$m.request;if(typeof $1s==='function'){$1s($1u);}};var $1v=function($m){var r=$m.request;var $g;try{$g=JSON.parse(r.responseText);}catch(e){var $1w={};$1w.exception=e;$1t($1w);return;};if(DayPilot.isArray($g)){var $1x={};$1x.preventDefault=function(){this.preventDefault.value=true;};$1x.data=$g;if(typeof $1r==="function"){$1r($1x);};if($1x.preventDefault.value){return;};$c.events.list=$g;if($c.$5C){$c.update();}}};var $1y=$c.eventsLoadMethod&&$c.eventsLoadMethod.toUpperCase()==="POST";if($1y){DayPilot.ajax({"method":"POST","data":{"start":$c.visibleStart().toString(),"end":$c.visibleEnd().toString()},"url":$1q,"success":$1v,"error":$1t});}else{var $42=$1q;var $43="start="+$c.visibleStart().toString()+"&end="+$c.visibleEnd().toString();if($42.indexOf("?")>-1){$42+="&"+$43;}else{$42+="?"+$43;};DayPilot.ajax({"method":"GET","url":$42,"success":$1v,"error":$1t});}};this.events.$7a=function(e){if(!e){throw new DayPilot.Exception("Error checking overlap for null (internal error)");};var $g=e instanceof DayPilot.Event?e.data:e;var $0a=new DayPilot.Date($g.start);var end=new DayPilot.Date($g.end);var $44=DayPilot.list($c.events.list).find(function($1M){if($c.$8T($g,$1M)){return false;};if($c.viewType=="Resources"&&$g.resource!==$1M.resource){return false;};if($1M.allday){return false;};var $45=new DayPilot.Date($1M.start);var $46=new DayPilot.Date($1M.end);return DayPilot.Util.overlaps($0a,end,$45,$46);});return !!$44;};this.$8T=function($47,$48){if(!$47||!$48){return false;};$47=$47 instanceof DayPilot.Event?$47.data:$47;$48=$48 instanceof DayPilot.Event?$48.data:$48;if($47===$48){return true;};if($47.id===$48.id){return true;};if(DayPilot.Util.isNullOrUndefined($47.id)&&!DayPilot.Util.isNullOrUndefined($47.recurrentMasterId)){return $47.recurrentMasterId===$48.recurrentMasterId&&new DayPilot.Date($47.start)===new DayPilot.Date($48.start);};return false;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($f){if(!$f){return;};if($f.isAction){$c.queue.list.push($f);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($g){var $0f={};$0f.actions=$c.queue.list;$c.$5J('Notify',$0f,$g,"Notify");$c.queue.list=[];};this.queue.clear=function(){$c.queue.list=[];};this.queue.pop=function(){return $c.queue.list.pop();};this.$8S=function($m){if(!this.$5C||!this.$6r){return;};var $m=$m||{};var $49=!$m.eventsOnly;if(!$c.cssOnly){$c.cssOnly=true;DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");};if(!this.$5K()){$c.cellProperties={};};if($49){$c.$8e.clearCache();$c.$5R();$c.$8U();$c.$66();$c.$68();$c.$6a();$c.$6b();$c.$69();$c.$6c();$c.$6d();$c.$5G();$c.$6e();$c.$78();$c.$6f();$c.$6g();$c.$6h();$c.$6i();$c.$8V();$c.$6l();$c.$6m();$c.$6j();$c.$6n();}else{$c.$5R();$c.$68();$c.$69();$c.$6l();$c.$6m();$c.$6n();};if(this.visible){this.show();}else{this.hide();}};this.update=function($a){this.$8W($a);this.$8S();if(typeof $c.onAfterRender==='function'){var $m={};$m.isUpdate=true;$m.data=null;$c.onAfterRender($m);}};this.$8V=function(){var $4a=$c.nav.top.className!==$c.$6s("_main");if(!$4a){return;};$c.nav.top.className=$c.$6s("_main");var $2z=$c.nav.corner;$2z.className=$c.$6s("_corner");$2z.firstChild.className=$c.$6s("_corner_inner");var cr=$c.nav.unifiedCornerRight;if(cr){cr.firstChild.className=$c.$6s("_cornerright");cr.firstChild.firstChild.className=$c.$6s("_cornerright_inner");}};this.show=function(){$c.visible=true;$c.nav.top.style.display='';$c.$5U();$c.$6h();$c.$7i();};this.hide=function(){$c.visible=false;$c.nav.top.style.display='none';};this.$8R={};this.$8R.scope=null;this.$8R.notify=function(){if($c.$8R.scope){$c.$8R.scope["$apply"]();}};this.debug=new DayPilot.Debug(this);this.$8s=function(x){if(x<0){return null;};var i=0;var $0S=$c.nav.events.rows[0].cells;for(var j=0;j<$0S.length;j++){var $0c=$0S[j];var $1d=$0c.offsetWidth;i+=$1d;if(x<i){return j;}};return null;};this.$7b=function($0z,$0a){if(!$0a)$0a=this.startDate;var $2J=$0a.getTime();var $3G=$0z.getTime();var $1P=this.$5z.pixels[$3G+"_"+$2J];if($1P){return $1P;};$2J=$0a.addHours(this.$6y(true)).getTime();var $4b=this.cellDuration*60*1000;var $4c=$3G-$2J;var $4d=$4c%$4b;var $4e=$4c-$4d;var $4f=$4e+$4b;if($4d===0){$4f=$4e;};var $t={};$t.cut=false;$t.top=this.$8o($4c);$t.boxTop=this.$8o($4e);$t.boxBottom=this.$8o($4f);this.$5z.pixels[$3G+"_"+$2J]=$t;return $t;};this.$8o=function($3G){return Math.floor((this.cellHeight*$3G)/(1000*60*this.cellDuration));};this.$8U=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();this.$8X=$0g.allDayEventHeight()+4;};this.$69=function(){var $1O=this.$6z();var $2l=this.$7R();if(this.nav.corner){this.nav.corner.style.height=$1O+"px";};if(this.nav.cornerRight){this.nav.cornerRight.style.height=$1O+"px";};if(this.nav.mid){this.nav.mid.style.height=$1O+"px";};if(this.showAllDayEvents&&this.nav.header){var $2e=this.nav.header.rows[this.nav.header.rows.length-1];for(var i=0;i<$2e.cells.length;i++){var $p=$2e.cells[i];$p.firstChild.style.height=$0g.allDayHeaderHeight()+"px";}};if(this.nav.upperRight){this.nav.upperRight.style.height=$1O+"px";};this.nav.scroll.style.top=$1O+"px";this.nav.top.style.height=$2l+"px";};this.$6g=function(){var sh=this.$7S();if(this.nav.scroll&&sh>0){this.nav.scroll.style.height=sh+"px";this.$7l=$c.nav.scroll.clientHeight;if(this.nav.bottomLeft){this.nav.bottomLeft.style.height=sh+"px";};if(this.nav.bottomRight){this.nav.bottomRight.style.height=sh+"px";}};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";}else{this.nav.top.style.height=this.$7R()+"px";}};this.setHeight=function($3j){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$3j-(this.$6z());this.$6g();};this.$8Y=function($4g){var $d=document.createElement("div");$d.style.position="absolute";$d.style.top="-2000px";$d.style.left="-2000px";$d.className=this.$6s($4g);document.body.appendChild($d);var $J=$d.offsetHeight;var $1d=$d.offsetWidth;document.body.removeChild($d);var $t={};$t.height=$J;$t.width=$1d;return $t;};this.$8e={};var $0g=this.$8e;$0g.locale=function(){return DayPilot.Locale.find($c.locale);};$0g.weekStarts=function(){if(typeof $c.weekStarts==='number'){return $c.weekStarts;}else{return $0g.locale().weekStarts;}};$0g.timeFormat=function(){if($c.timeFormat!=='Auto'){return $c.timeFormat;};return this.locale().timeFormat;};$0g.useBox=function($4h){if($c.useEventBoxes==='Always'){return true;};if($c.useEventBoxes==='Never'){return false;};return $4h<$c.cellDuration*60*1000;};$0g.notifyType=function(){var $k;if($c.notifyCommit==='Immediate'){$k="Notify";}else if($c.notifyCommit==='Queue'){$k="Queue";}else{throw "Invalid notifyCommit value: "+$c.notifyCommit;};return $k;};$0g.clearCache=function(){delete $c.$5z.allDayEventHeight;delete $c.$5z.allDayHeaderHeight;delete $c.$5z.headerHeight;};$0g.allDayEventHeight=function(){if($c.$5z.allDayEventHeight){return $c.$5z.allDayEventHeight;};var $J=$c.$8Y("_alldayevent_height").height;if(!$J){$J=$c.allDayEventHeight;};$c.$5z.allDayEventHeight=$J;return $J;};$0g.allDayHeaderHeight=function(){if($c.$5z.allDayHeaderHeight){return $c.$5z.allDayHeaderHeight;};var $J=$c.$8X;$c.$5z.allDayHeaderHeight=$J;return $J;};$0g.headerHeight=function(){if($c.$5z.headerHeight){return $c.$5z.headerHeight;};var $J=$c.$8Y("_header_height").height;if(!$J){$J=$c.headerHeight;};$c.$5z.headerHeight=$J;return $J;};this.exportAs=function($0U,$a){var $4i=$1U.generate($0U,$a);return new DayPilot.Export($4i);};this.$8Z={};var $1U=this.$8Z;$1U.$90=null;$1U.$91=null;$1U.generate=function($0U,$a){if(typeof $0U==="object"){$a=$0U;$0U=null;};var $a=$a||{};var $0U=$0U||$a.format||"svg";var $4j=$a.scale||1;if($0U==="config"){return;};if($0U.toLowerCase()==="jpg"){$0U="jpeg";};var $4k=$a.area||"viewport";$1U.$90=$a;$1U.$91=$4k;var $1d=$1U.getWidth();var $J=$1U.getHeight();var $4i;switch($0U.toLowerCase()){case "svg":$4i=new DayPilot.Svg($1d,$J);break;case "png":$4i=new DayPilot.Canvas($1d,$J,"image/png",$4j);break;case "jpeg":$4i=new DayPilot.Canvas($1d,$J,"image/jpeg",$4j,$a.quality);break;default:throw "Export format not supported: "+$0U;};var $4l=$1U.getRectangles();var $V=new DayPilot.StyleReader($c.nav.top).getBackColor();var $4m=new DayPilot.StyleReader($c.nav.top).get("border-top-color");var $1C=new DayPilot.StyleReader($c.nav.top).get("border-top-width")!=="0px";if(!$1C){$4m="white";};var $4n=new DayPilot.StyleReader($c.nav.corner.firstChild).getBackColor($V);var $4o=$c.nav.hourTable.rows[0].cells[0].firstChild.firstChild;var $4p=new DayPilot.StyleReader($4o).get("border-right-color");var $4q=new DayPilot.StyleReader($4o).getBackColor($V);var $4r=new DayPilot.StyleReader($4o).getFont();var $4s=new DayPilot.StyleReader($4o.firstChild.childNodes[1]).getFont();var $4t=new DayPilot.StyleReader($4o.firstChild.childNodes[1]).getPx("padding-right");var $4u=new DayPilot.StyleReader($4o).get("color");var $4v=$c.nav.header.rows[0].cells[0].firstChild.firstChild;var $4w=new DayPilot.StyleReader($4v).getBackColor($V);var $4x=new DayPilot.StyleReader($4v).getFont();var $4y=new DayPilot.StyleReader($4v).get("color");var $4z=new DayPilot.StyleReader($4v).get("border-right-color");var $4A=$c.nav.header.rows[$c.nav.header.rows.length-1].cells[0].firstChild;var $4B=$4A.firstChild;var $4C=new DayPilot.StyleReader($4A).getBackColor($V);var $4D=new DayPilot.StyleReader($4B).getBackColor($4C);var $0c=$c.nav.main.rows[0].cells[0].firstChild.firstChild;var $4E=new DayPilot.StyleReader($0c).get("border-right-color");var $0c=$1U.fakeCell();var $4F=new DayPilot.StyleReader($0c.firstChild).getBackColor();DayPilot.Util.addClass($0c,$c.$6s("_cell_business"));var $4G=new DayPilot.StyleReader($0c.firstChild).getBackColor();DayPilot.de($0c);var $4H=$1U.getViewportOffsetTop();var $H=0;if($c.columnWidthSpec==="Fixed"){$H=$c.columnWidth;}else{$H=$4l.gridContent.w/$c.$6r.length;};$4i.fillRect($4l.main,"white");$4i.fillRect($4l.main,$V);var top=$4l.corner.h-$4H;DayPilot.list.for($c.$86(),function(i){return $c.$8b(i);}).each(function($2e){var $J=$c.$88();var $2s=$2e.hour;var $2t=$2e.sup;var $2u=$2s;var $4I=20;var $4J={"x":0,"y":top,"w":$4l.grid.x+1,"h":$J+1};var $4K={"x":0,"y":top,"w":$4l.grid.x+1-$4I,"h":$J+1};var $4L={"x":$4K.w,"y":top,"w":$4I-$4t-1,"h":$J+1};var $V=$4q;$4i.fillRect($4J,$V);$4i.text($4K,$2u,$4r,$4u,"right");$4i.text($4L,$2t,$4s,$4u,"right");$4i.rect($4J,$4p);top+=$J;});var $0m=$c.cellDuration*60*1000;var $X=$4l.grid.x;DayPilot.list($c.$6r).each(function($0V,x){var $1d=$H;var top=$4l.grid.y-$4H;DayPilot.list.for($c.$6C()).each(function($2e,y){var $2p=$c.$8m(x,y)||{};var $4M=null;if($2p.cssClass){var $0c=$1U.fakeCell();DayPilot.Util.addClass($0c,$2p.cssClass);$4M=new DayPilot.StyleReader($0c.firstChild).getBackColor();DayPilot.de($0c);};var $J=$c.cellHeight;var $4J={"x":$X,"y":top,"w":$1d+1,"h":$J+1};var $4N=$2p.business;var $m={};$m.cell={};$m.cell.start=$0V.start.addTime(y*$0m).addHours($c.$6y());$m.cell.end=$m.cell.start.addTime($0m);$m.cell.resource=$0V.id;DayPilot.Util.copyProps($2p,$m.cell,['cssClass','html','backImage','backRepeat','backColor','business']);$m.backColor=$4M||($4N?$4G:$4F);if(typeof $c.onBeforeCellExport==="function"){$c.onBeforeCellExport($m);};$4i.fillRect($4J,$m.backColor);$4i.rect($4J,$4E);top+=$J;});$X+=$1d;});var $4O=$4l.grid.x;DayPilot.list($c.$6r).each(function($0V){DayPilot.list($0V.events).each(function(e){var $1P=e.cache||e.data;var $4P=$1U.fakeEvent();$4P.className+=" "+$1P.cssClass;var $4Q=$4P.firstChild;var $4R=$4P.childNodes[1];var $4S=new DayPilot.StyleReader($4Q).getBackColor();var $4T=new DayPilot.StyleReader($4Q.firstChild).getBackColor();var $4U=new DayPilot.StyleReader($4Q.firstChild).getPx("width");var $4V=new DayPilot.StyleReader($4R).get("border-right-color");var $4W=new DayPilot.StyleReader($4R).getFont();var $4X=new DayPilot.StyleReader($4R).get("color");var $4Y=new DayPilot.StyleReader($4R).getBackColor();var $4Z={};$4Z.left=new DayPilot.StyleReader($4R).getPx("padding-left");$4Z.right=new DayPilot.StyleReader($4R).getPx("padding-right");$4Z.top=new DayPilot.StyleReader($4R).getPx("padding-top");$4Z.bottom=new DayPilot.StyleReader($4R).getPx("padding-bottom");DayPilot.de($4P);var $X=$4O+$H*e.part.left/100;var $1d=($H-$c.columnMarginRight)*e.part.width/100;var top=e.part.top+$4l.grid.y-$c.$7n()-$4H;var $J=e.part.height;var $V=$1P.backColor||$4Y;var $50=$1P.barColor||$4T;var $51=$1P.barBackColor||$4S;var $m={};$m.e=e;$m.text=e.text?e.text():e.client.html();$m.fontSize=$4W.size;$m.fontFamily=$4W.family;$m.fontStyle=$4W.style;$m.fontColor=$4X;$m.backColor=$V;$m.borderColor=$4V;$m.horizontalAlignment="left";$m.barWidth=$4U;$m.barColor=$50;$m.barBackColor=$51;if(typeof $c.onBeforeEventExport==="function"){$c.onBeforeEventExport($m);};var $4J={"x":$X,"y":top,"w":$1d+1,"h":$J+1};var $52=DayPilot.Util.copyProps($4J);if(e.client.barVisible()){$52.x+=$4U;$52.w-=$4U;};var $4K=DayPilot.Util.copyProps($52);$4K.x+=$4Z.left;$4K.w-=$4Z.left+$4Z.right;$4K.y+=$4Z.top;$4K.h-=$4Z.top+$4Z.bottom;$4i.fillRect($4J,$m.backColor);if(e.client.barVisible()){var $53={"x":$4J.x,"y":$4J.y,"w":$m.barWidth,"h":$4J.h};var $54={"x":$4J.x,"y":$4J.y+1+e.part.barTop,"w":$m.barWidth,"h":e.part.barHeight+1};$4i.fillRect($53,$m.barBackColor);$4i.fillRect($54,$m.barColor);};$4i.text($4K,$m.text,{"size":$m.fontSize,"family":$m.fontFamily,"style":$m.fontStyle},$m.fontColor,$m.horizontalAlignment);$4i.rect($4J,$m.borderColor);var $X=$4J.x;var $Y=$4J.x+$4J.w-2;var top=$4J.y;DayPilot.list($1P.areas).each(function($20){var $3g=$20.visibility||$20.v;if($3g==="Hover"){return;};var $55=$20.left;if($20.start){$55=$c.getPixels(new DayPilot.Date($20.start)).left-e.part.left;};var $1d=$20.width||$20.w;var $J=$20.height||$20.h;if(!$55){$55=$Y-$1d-$X;};if($20.right){$1d=(e.part.width-$20.right)-$55;}else if($20.end){$1d=$c.getPixels(new DayPilot.Date($20.end)).left-$20.left-e.part.left+1;};var $56=$20.top;if(typeof $20.bottom==="number"){$J=(e.part.height-$20.bottom)-$56;};var $4J={"x":$X+$55,"y":top+$56,"w":$1d,"h":$J};if($20.backColor){$4i.fillRect($4J,$20.backColor);};if($20.image){var $1U=new Image();$1U.src=$20.image;$4i.image($4J,$1U);}else if($20.html){$4i.text($4J,$20.html,{"size":$m.fontSize,"family":$m.fontFamily,"style":$m.fontStyle},$20.fontColor||$m.fontColor,null,$20.padding);}});});$4O+=$H;});$4i.fillRect($4l.corner,$4n);var $X=$4l.gridContent.x;DayPilot.list.for($c.headerLevels).each(function($1F){var top=$c.headerHeight*$1F;var $0j=$c.$7F($1F);DayPilot.list($0j).each(function($0V){var $m={};$m.text=DayPilot.Util.stripTags($0V.html);$m.horizontalAlignment="center";$m.backColor=$0V.backColor||$4w;$m.fontSize=$4x.size;$m.fontFamily=$4x.family;$m.fontStyle=$4x.style;$m.fontColor=$4y;$m.header={};$m.header.level=$1F;DayPilot.Util.copyProps($0V,$m.header,['id','start','name','html','backColor']);if(typeof $c.onBeforeHeaderExport==="function"){$c.onBeforeHeaderExport($m);};var $1d=$H;var $J=$c.headerHeight;var $57={"x":$X,"y":top,"w":$1d+1,"h":$J+1};$4i.fillRect($57,$m.backColor);$4i.rect($57,$4z);$4i.text($57,$m.text,{"size":$m.fontSize,"family":$m.fontFamily,"style":$m.fontStyle},$m.fontColor,$m.horizontalAlignment);$X+=$H;});});(function(){if(!$c.showAllDayEvents){return;};var top=$c.headerHeight*$c.headerLevels;var $X=$4l.gridContent.x;DayPilot.list($c.$6r).each(function($0V){var $1d=$H;var $J=$0g.allDayHeaderHeight();var $57={"x":$X,"y":top,"w":$1d+1,"h":$J+1};$4i.fillRect($57,$4D);$4i.rect($57,$4z);$X+=$H;});DayPilot.list($c.$7I.lines).each(function($1L,j){DayPilot.list($1L).each(function(e){var $4P=$1U.fakeEvent("alldayevent");$4P.className+=" "+e.data.cssClass;var $4R=$4P.firstChild;var $4V=new DayPilot.StyleReader($4R).get("border-right-color");var $4W=new DayPilot.StyleReader($4R).getFont();var $4X=new DayPilot.StyleReader($4R).get("color");var $4Y=new DayPilot.StyleReader($4R).getBackColor();var $4Z={};$4Z.left=new DayPilot.StyleReader($4R).getPx("padding-left");$4Z.right=new DayPilot.StyleReader($4R).getPx("padding-right");$4Z.top=new DayPilot.StyleReader($4R).getPx("padding-top");$4Z.bottom=new DayPilot.StyleReader($4R).getPx("padding-bottom");DayPilot.de($4P);var $1P=e.cache||e.data;var $V=$1P.backColor||$4Y;var $m={};$m.e=e;$m.text=e.text?e.text():e.client.html();$m.fontSize=$4W.size;$m.fontFamily=$4W.family;$m.fontStyle=$4W.style;$m.fontColor=$4X;$m.backColor=$V;$m.borderColor=$4V;$m.horizontalAlignment="left";if(typeof $c.onBeforeEventExport==="function"){$c.onBeforeEventExport($m);};var $X=e.part.colStart*$H+$4l.gridContent.x+2;var $1d=e.part.colWidth*$H-4;var $J=$0g.allDayEventHeight()-1;var top=($c.headerLevels*$0g.headerHeight()+j*($0g.allDayEventHeight()))+2;var $4J={"x":$X,"y":top,"w":$1d,"h":$J};var $4K=DayPilot.Util.copyProps($4J);$4K.x+=$4Z.left;$4K.w-=$4Z.left+$4Z.right;$4K.y+=$4Z.top;$4K.h-=$4Z.top+$4Z.bottom;$4i.fillRect($4J,$m.backColor);$4i.text($4K,$m.text,{"size":$m.fontSize,"family":$m.fontFamily,"style":$m.fontStyle},$m.fontColor,$m.horizontalAlignment);$4i.rect($4J,$m.borderColor);});});})();$4i.rect($4l.main,$4m);$4i.line($4l.grid.x,0,$4l.grid.x,$4l.main.h,$4p);$4i.line(0,$4l.grid.y,$4l.main.w,$4l.grid.y,$4p);return $4i;};$1U.fakeCell=function(){var $d=document.createElement("div");$d.style.display="none";$d.className=$c.$6s("_cell");$d.style.position="absolute";$d.style.top="-2000px";$d.style.left="-2000px";var $M=document.createElement("div");$M.className=$c.$6s("_cell_inner");$d.appendChild($M);$c.nav.bottomRight.appendChild($d);return $d;};$1U.fakeEvent=function($k){$k=$k||"event";var $d=document.createElement("div");$d.style.position="absolute";$d.style.top="-2000px";$d.style.left="-2000px";$d.style.display="none";$d.className=$c.$6s("_"+$k);if($k==="event"){var $1Y=document.createElement("div");$1Y.className=$c.$6s("_event_bar");var $1Z=document.createElement("div");$1Z.className=$c.$6s("_event_bar_inner");$1Y.appendChild($1Z);$d.appendChild($1Y);};var $M=document.createElement("div");$M.className=$c.$6s("_"+$k+"_inner");$d.appendChild($M);var $21=$c.nav.events.rows[0].cells[0].events;if($k==="alldayevent"){$21=$c.nav.allday;};$21.appendChild($d);return $d;};$1U.getViewportOffsetTop=function(){var $4k=$1U.$91;switch($4k){case "full":return 0;case "viewport":var scroll=$c.$7k();return scroll.scrollTop;case "range":throw "Not implemented";}};$1U.getWidth=function(){var $4k=$1U.$91;switch($4k){case "full":case "viewport":var $3m=$c.nav.top.clientWidth;var $58=$3m-$c.hourWidth;var $G=$c.$6r.length;return Math.floor($58/$G)*$G+$c.hourWidth;default:throw "Unsupported export mode: "+$4k;}};$1U.getHeight=function(){var $4k=$1U.$91;switch($4k){case "full":return $c.$81()+$c.$6z();case "viewport":return $c.nav.top.offsetHeight-DayPilot.sh($c.nav.scroll)-1;default:throw "Unsupported export mode: "+$4k;}};$1U.getRectangles=function(){var $59=$1U.getRowHeaderWidth();var $5a=$c.$6z();var $4l={};$4l.main={"x":0,"y":0,"w":$1U.getWidth(),"h":$1U.getHeight()};$4l.corner={"x":0,"y":0,"w":$59,"h":$5a};$4l.grid={"x":$59,"y":$5a,"w":$1U.getWidth()-$59,"h":$1U.getHeight()-$5a};var $1d=$1U.innerWidth();var $J=$c.$81();$4l.gridContent={"x":$59,"y":$5a,"w":$1d,"h":$J};return $4l;};$1U.getRowHeaderWidth=function(){return $c.hourWidth;};$1U.innerWidth=function(){var w=$c.$7k().offsetWidth;var $5b=$c.$6r.length;return Math.floor(w/$5b)*$5b;};this.$92=function(){if(this.backendUrl){return(typeof $c.events.list==='undefined')||(!$c.events.list);}else{return false;}};this.$93=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Calendar: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";};this.nav.limit;};this.$94=function(){this.$93();this.$8U();this.$66();this.$7T();this.$6a();this.$6b();this.$6e();this.$6h();this.$8j();this.$8F();this.$5V();this.$6i();DayPilotCalendar.register(this);this.$5U();this.$6j();this.$8C();this.$6o();this.$5J('Init');};this.init=function(){this.$7Q();this.$93();if(this.nav.top.dp){return;};var $5c=this.$92();if(!$c.cssOnly){$c.cssOnly=true;DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");};if($5c){this.$94();this.$5C=true;return;};this.$8U();this.$66();this.$67();if(!this.events.list){this.events.list=[];};this.$68();this.$7T();this.$6a();this.$6b();this.$6e();this.$6k();this.$6i();this.$6h();this.$8j();this.$8F();this.$5V();DayPilotCalendar.register(this);this.$69();this.$6l();this.$6m();this.$5U();if(this.messageHTML){this.message(this.messageHTML);};this.$6j();this.$63(null,false);if($c.initEventEnabled){setTimeout(function(){$c.$5J("Init");});};this.$8C();this.$6o();this.$5C=true;this.$95();return this;};this.$96=null;this.$8W=function($a){if(!$a){return;};var $5d={"events":{"preInit":function(){var $1h=this.data;if(!$1h){return;};if(DayPilot.isArray($1h.list)){$c.events.list=$1h.list;}else{$c.events.list=$1h;}}},"scrollToHour":{"postInit":function(){if(typeof this.data!=='undefined'){$c.scrollToHour(this.data);}}}};this.$96=$5d;for(var name in $a){if($5d[name]){var $1M=$5d[name];$1M.data=$a[name];if($1M.preInit){$1M.preInit();}}else{$c[name]=$a[name];}}};this.$95=function(){var $5d=this.$96;for(var name in $5d){var $1M=$5d[name];if($1M.postInit){$1M.postInit();}}};this.internal={};this.internal.initialized=function(){return $c.$5C;};this.internal.invokeEvent=this.$6N;this.internal.eventMenuClick=this.$6Z;this.internal.timeRangeMenuClick=this.$70;this.internal.bubbleCallBack=this.$6X;this.internal.findEventDiv=this.$8Q;this.internal.eventDeleteDispatch=this.$6M;this.internal.touch=this.$7N;this.Init=this.init;this.$8W($a);};var DayPilotCalendar={};DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilotCalendar.column=null;DayPilotCalendar.firstSelected=null;DayPilotCalendar.firstMousePos=null;DayPilotCalendar.originalMouse=null;DayPilotCalendar.originalHeight=null;DayPilotCalendar.originalTop=null;DayPilotCalendar.globalHandlers=false;DayPilotCalendar.editing=false;DayPilotCalendar.originalText=null;DayPilotCalendar.register=function($c){if(!DayPilotCalendar.registered){DayPilotCalendar.registered=[];};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){if(r[i]===$c){return;}};r.push($c);};DayPilotCalendar.unregister=function($c){var a=DayPilotCalendar.registered;if(a){var i=DayPilot.indexOf(a,$c);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.ue(document,'touchmove',DayPilotCalendar.gTouchMove);DayPilot.ue(document,'touchend',DayPilotCalendar.gTouchEnd);DayPilotCalendar.globalHandlers=false;}};DayPilotCalendar.getCellsAbove=function($0c){var $r=[];var c=DayPilotCalendar.getColumn($0c);var tr=$0c.parentNode;var $5e=null;while(tr&&$5e!==DayPilotCalendar.firstSelected){$5e=tr.getElementsByTagName("td")[c];$r.push($5e);tr=tr.previousSibling;while(tr&&tr.tagName!=="TR"){tr=tr.previousSibling;}};return $r;};DayPilotCalendar.getCellsBelow=function($0c){var $r=[];var c=DayPilotCalendar.getColumn($0c);var tr=$0c.parentNode;var $5e=null;while(tr&&$5e!==DayPilotCalendar.firstSelected){$5e=tr.getElementsByTagName("td")[c];$r.push($5e);tr=tr.nextSibling;while(tr&&tr.tagName!=="TR"){tr=tr.nextSibling;}};return $r;};DayPilotCalendar.getColumn=function($0c){var i=0;while($0c.previousSibling){$0c=$0c.previousSibling;if($0c.tagName==="TD"){i++;}};return i;};DayPilotCalendar.gTouchMove=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};if(DayPilotCalendar.drag){ev.preventDefault();var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $2M={};$2M.x=x;$2M.y=y;var $c=(function(){var $5f=ev.touches?ev.touches[0].clientX:ev.clientX;var $5g=ev.touches?ev.touches[0].clientY:ev.clientY;var el=document.elementFromPoint($5f,$5g);while(el&&el.parentNode){el=el.parentNode;if(el.daypilotMainD){return el.calendar;}};return false;})();if($c){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;$c.coords=$c.$7N.relativeCoords(ev);if(!DayPilotCalendar.movingShadow&&$c.coords){var $L=$c.$6q(DayPilotCalendar.drag,false);if($L){DayPilotCalendar.movingShadow=$L;var $2T=DayPilot.Date.today();var ev={'value':DayPilotCalendar.drag.id,'start':$2T,'end':$2T.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var event=new DayPilot.Event(ev,$c);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};if(DayPilot.Global.moving){$c.$7N.updateMoving();}}else{DayPilot.de(DayPilotCalendar.movingShadow);DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $L=DayPilotCalendar.gShadow;$L.style.left=$2M.x+'px';$L.style.top=$2M.y+'px';}}};DayPilotCalendar.gTouchEnd=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};DayPilotCalendar.gMouseUp(ev);};DayPilotCalendar.gMouseMove=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $2M=DayPilot.mc(ev);if(DayPilotCalendar.drag){document.body.style.cursor='move';if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $L=DayPilotCalendar.gShadow;$L.style.left=$2M.x+'px';$L.style.top=$2M.y+'px';DayPilot.Global.moving=null;DayPilot.de(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};for(var i=0;i<DayPilotCalendar.registered.length;i++){if(DayPilotCalendar.registered[i].$5X){DayPilotCalendar.registered[i].$5X();}}};DayPilotCalendar.gUnload=function(ev){if(!DayPilotCalendar.registered){return;};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){var c=r[i];DayPilotCalendar.unregister(c);}};DayPilotCalendar.gMouseUp=function(e){var e=e||window.event;if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilot.Global.resizing.style.cursor='default';DayPilot.Global.resizing.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing=null;return;};var $3y=DayPilot.Global.resizing.event;var $0r=DayPilot.Global.resizing.dpBorder;var $J=DayPilotCalendar.resizingShadow.clientHeight;var top=DayPilotCalendar.resizingShadow.offsetTop;DayPilot.de(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;DayPilot.Global.resizing.style.cursor='default';$3y.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing.onclick=null;DayPilot.Global.resizing=null;if($3y.calendar.overlap){return;};$3y.calendar.$6R($3y,$J,top,$0r);}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper){DayPilot.de(DayPilotCalendar.movingShadow);DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;return;};if(!DayPilotCalendar.movingShadow){DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.moving=null;return;};var $5h=DayPilot.Global.moving.helper.oldColumn;var top=DayPilotCalendar.movingShadow.offsetTop;var $3y=DayPilot.Global.moving.event;var $c=$3y.calendar;$c.$7e(DayPilotCalendar.movingShadow);var $0u=DayPilotCalendar.movingShadow.column;var $0B=DayPilotCalendar.drag;DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';var $m=DayPilotCalendar.movingShadow.args;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if($0B){if(!$3y.calendar.todo){$3y.calendar.todo={};};$3y.calendar.todo.del=$0B.element;};if(!$m.allowed){return;};var ev=e||window.event;$3y.calendar.$6U($3y,$0u,top,ev,$0B);}else if(DayPilot.Global.selecting){var $5i=function(){var $2V=DayPilot.Global.selecting;var $c=DayPilot.Global.selecting.calendar;DayPilotCalendar.firstMousePos=null;DayPilot.Global.selecting=null;if(!$2V.args.allowed){$c.clearSelection();return;};if($c.timeRangeDoubleClickHandling=="Disabled"){var $0Y=$c.getSelection();$c.$71($0Y.start,$0Y.end,$0Y.resource);}else{$c.$7c=setTimeout(function(){var $0Y=$c.getSelection();$c.$71($0Y.start,$0Y.end,$0Y.resource);},$c.doubleClickTimeout);}};if(DayPilot.Global.selecting&&DayPilotCalendar.topSelectedCell!==null){$5i();}else{DayPilotCalendar.selectedTimeout=setTimeout($5i,100);}}else if(DayPilotCalendar.firstMousePos){var $c=DayPilotCalendar.firstMousePos.calendar;DayPilot.Global.selecting={};DayPilot.Global.selecting.calendar=$c;$c.$78();if(!DayPilot.Global.selecting.args.allowed){return;};DayPilotCalendar.firstMousePos=null;DayPilot.Global.selecting=null;if($c.timeRangeDoubleClickHandling=="Disabled"){var $0Y=$c.getSelection();$c.$71($0Y.start,$0Y.end,$0Y.resource);}else{$c.$7c=setTimeout(function(){var $0Y=$c.getSelection();$c.$71($0Y.start,$0Y.end,$0Y.resource);},$c.doubleClickTimeout);}};if(DayPilotCalendar.drag){DayPilotCalendar.drag=null;document.body.style.cursor='';};if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);DayPilotCalendar.gShadow=null;};DayPilotCalendar.moveOffsetY=null;};DayPilotCalendar.dragStart=function(element,$K,id,$2u,$k){DayPilot.us(element);var $0B=DayPilotCalendar.drag={};$0B.element=element;$0B.duration=$K;$0B.text=$2u;$0B.id=id;$0B.shadowType=$k?$k:'Fill';$0B.data={"id":id,"text":$2u,"duration":$K,"externalHtml":$2u};return false;};DayPilot.Calendar.makeDraggable=function($a){var element=$a.element;var $5j=$a.keepElement?null:element;var $K=$a.duration||1;if(navigator.msPointerEnabled){element.style.msTouchAction="none";element.style.touchAction="none";};var $5k=function(ev){startDragging();var element=(ev.target||ev.srcElement);if(element.tagName){var $5l=element.tagName.toLowerCase();if($5l==="textarea"||$5l==="select"||$5l==="input"){return false;}};ev.preventDefault&&ev.preventDefault();return false;};var $5m=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};var $3x=0;window.setTimeout(function(){startDragging();DayPilotCalendar.gTouchMove(ev);ev.preventDefault();},$3x);ev.preventDefault();};function startDragging(){var $0B=DayPilotCalendar.drag={};$0B.element=$5j;$0B.id=$a.id;$0B.duration=$a.duration||60;$0B.text=$a.text||"";$0B.data=$a;$0B.shadowType="Fill";};DayPilot.us(element);DayPilot.re(element,"mousedown",$5k);DayPilot.re(element,DayPilot.touch.start,$5m);element.cancelDraggable=function(){DayPilot.ue(element,"mousedown",$5k);DayPilot.ue(element,DayPilot.touch.start,$5m);delete element.cancelDraggable;};};DayPilotCalendar.createGShadow=function($k){var $L=document.createElement('div');$L.setAttribute('unselectable','on');$L.style.position='absolute';$L.style.width='100px';$L.style.height='20px';$L.style.border='2px dotted #666666';$L.style.zIndex=101;$L.style.pointerEvents="none";if($k==='Fill'){$L.style.backgroundColor="#aaaaaa";$L.style.opacity=0.5;$L.style.filter="alpha(opacity=50)";$L.style.border='2px solid #aaaaaa';};document.body.appendChild($L);return $L;};DayPilotCalendar.moveShadow=function($p){var $L=DayPilotCalendar.movingShadow;if($L.parentNode){$L.parentNode.removeChild($L);};$p.firstChild.appendChild($L);$L.style.left='0px';$L.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth)+'px';};DayPilotCalendar.Column=function($5n,name,$0z){this.value=$5n;this.id=$5n;this.name=name;this.date=new DayPilot.Date($0z);};if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotCalendar=function($a){var $0Q=null;var j=this.each(function(){if(this.daypilot){return;};var $5o=new DayPilot.Calendar(this.id,$a);$5o.init();this.daypilot=$5o;if(!$0Q){$0Q=$5o;}});if(this.length===1){return $0Q;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $5p=DayPilot.am();if(!$5p){return;};$5p.directive("daypilotCalendar",['$parse',function($5q){return{"restrict":"E","template":"<div id='{{id}};'></div>","compile":function compile(element,$5r){element.replaceWith(this["template"].replace("{{id}};",$5r["id"]));return function link($5s,element,$5r){var $c=new DayPilot.Calendar(element[0]);$c.$8R.scope=$5s;$c.init();var $5t=$5r["id"];if($5t){$5s[$5t]=$c;};var $5u=$5r["publishAs"];if($5u){var getter=$5q($5u);var setter=getter.assign;setter($5s,$c);};for(var name in $5r){if(name.indexOf("on")===0){var $5v=DayPilot.Util.shouldApply(name);if($5v){(function(name){$c[name]=function($m){var f=$5q($5r[name]);$5s["$apply"](function(){f($5s,{"args":$m});});};})(name);}else{(function(name){$c[name]=function($m){var f=$5q($5r[name]);f($5s,{"args":$m});};})(name);}}};var $5w=$5s["$watch"];var $39=$5r["config"]||$5r["daypilotConfig"];var $1h=$5r["events"]||$5r["daypilotEvents"];$5w.call($5s,$39,function($5n,$5x){for(var name in $5n){$c[name]=$5n[name];};$c.update();},true);$5w.call($5s,$1h,function($5n){$c.events.list=$5n;$c.$8S({"eventsOnly":true});},true);};}};}]);})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


