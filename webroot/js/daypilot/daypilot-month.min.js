/**
@license
DayPilot Pro for JavaScript 2018.2.3297
Copyright (c) 2005 - 2018 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){var $a=function(){};if(typeof DayPilot.Month!=='undefined'){return;};var DayPilotMonth={};DayPilot.Month=function(id,$b){this.v='2018.2.3297;';this.nav={};var $c=this;this.id=id;this.isMonth=true;this.api=2;this.$2P=false;this.hideUntilInit=true;this.startDate=new DayPilot.Date();this.width=null;if(typeof DayPilot.Bubble==="function"){this.bubble=new DayPilot.Bubble();}else{this.bubble=null;};this.cssClassPrefix="month_default";this.cellHeight=100;this.cellMarginBottom=0;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.doubleClickTimeout=300;this.eventEndSpec="DateTime";this.headerHeight=20;this.heightSpec="Auto";this.weekStarts="Auto";this.eventHeight=25;this.cellHeaderHeight=16;this.clientState={};this.afterRender=function(){};this.cssOnly=true;this.eventsLoadMethod="GET";this.initEventEnabled=false;this.lineSpace=1;this.loadingLabelVisible=true;this.loadingLabelText="Loading...";this.locale="en-us";this.messageHideAfter=5000;this.notifyCommit='Immediate';this.visible=true;this.eventMoveToPosition=false;this.eventStartTime=false;this.eventEndTime=false;this.eventStartEndWidth=60;this.showWeekend=true;this.cellMode=false;this.shadowType="Fill";this.tapAndHoldTimeout=300;this.timeFormat="Auto";this.viewType='Month';this.weeks=1;this.eventClickHandling='Enabled';this.eventDeleteHandling="Disabled";this.eventDoubleClickHandling='Enabled';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.headerClickHandling="Enabled";this.timeRangeSelectedHandling='Enabled';this.timeRangeDoubleClickHandling='Enabled';this.onEventFilter=null;this.onBeforeEventRender=null;this.onBeforeCellRender=null;this.onBeforeHeaderRender=null;this.onBeforeEventExport=null;this.onBeforeCellExport=null;this.backendUrl=null;this.cellEvents=[];this.elements={};this.elements.events=[];this.$2Q={};this.$2Q.events={};this.events={};this.$2R=0;this.members={};this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties"];this.$2S='javasc';this.$2T=function($d,$e){var $d=JSON.parse($d);if($d.BubbleGuid){var $f=$d.BubbleGuid;var $g=this.bubbles[$f];delete this.bubbles[$f];$c.$2U();if(typeof $d.Result.BubbleHTML!=='undefined'){$g.updateView($d.Result.BubbleHTML,$g);};return;};if($d.CallBackRedirect){document.location.href=$d.CallBackRedirect;return;};if(typeof $d.ClientState!=='undefined'){$c.clientState=$d.ClientState;};if($d.UpdateType==="None"){$c.$2V($d.CallBackData,true);if($d.Message){$c.message($d.Message);};$c.$2U();return;};if($d.VsUpdate){var $h=document.createElement("input");$h.type='hidden';$h.name=$c.id+"_vsupdate";$h.id=$h.name;$h.value=$d.VsUpdate;$c.$2W.innerHTML='';$c.$2W.appendChild($h);};$c.events.list=$d.Events;if(typeof $d.TagFields!=='undefined'){$c.tagFields=$d.TagFields;};if(typeof $d.SortDirections!=='undefined'){$c.sortDirections=$d.SortDirections;};if($d.UpdateType==="Full"){$c.cellProperties=$d.CellProperties;$c.headerProperties=$d.HeaderProperties;$c.startDate=$d.StartDate;if(typeof $d.ShowWeekend!=='undefined'){$c.showWeekend=$d.ShowWeekend;};$c.locale=$d.Locale?$d.Locale:$c.locale;$c.timeFormat=$d.TimeFormat?$d.TimeFormat:$c.timeFormat;if(typeof $d.WeekStarts!=='undefined'){$c.weekStarts=$d.WeekStarts;};$c.hashes=$d.Hashes;};$c.multiselect.clear(true);$c.multiselect.initList=$d.SelectedEvents;$c.$2X();$c.$2Y();$c.$2Z();if($d.UpdateType==="Full"){$c.$30();$c.$31();};$c.$32();$c.$33();$c.$34();$c.$2V($d.CallBackData,true);$c.$35();if($d.Message){$c.message($d.Message);};$c.$2U();};this.$2V=function($i,$j){var $k=function($i,$l){return function(){if($c.$36()){if(typeof $c.onAfterRender==='function'){var $m={};$m.isCallBack=$l;$m.data=$i;$c.onAfterRender($m);}}else{if($c.afterRender){$c.afterRender($i,$l);}}};};window.setTimeout($k($i,$j),0);};this.$36=function(){return $c.api===2;};this.$37=function($n){var $o=this.theme||this.cssClassPrefix;if($o){return $o+$n;}else{return "";}};this.$2Z=function(){if(!this.events.list){return;};if(typeof this.onBeforeEventRender==='function'){var length=this.events.list.length;for(var i=0;i<length;i++){this.$38(i);}};if(this.cellMode){this.$39();}else{this.$3a();}};this.$3b=function($p){var $q=$p?0:100;if($c.loadingTimeout){window.clearTimeout($c.loadingTimeout);};$c.loadingTimeout=window.setTimeout(function(){if($c.loadingLabelVisible&&$c.nav.loading){$c.nav.loading.style.top=($r.headerHeight()+5)+"px";$c.nav.loading.innerHTML=$c.loadingLabelText;$c.nav.loading.style.display='';}},$q);};this.$2U=function(){if(this.loadingTimeout){window.clearTimeout(this.loadingTimeout);};if($c.nav.loading){this.nav.loading.style.display='none';}};this.$3a=function(){if(!this.events.list){return;};for(var x=0;x<this.events.list.length;x++){var e=this.events.list[x];if(typeof e!=="object"){throw new DayPilot.Exception("Event data item must be an object");};if(!e.start){throw new DayPilot.Exception("Event data item must specify 'start' property");};var $s=null;if(typeof $c.onBeforeEventRender==='function'){$s=$c.$2Q.events[x];};if($s){if($s.hidden){continue;}}else if(e.hidden){continue;};var $t=new DayPilot.Date(e.start);var end=new DayPilot.Date(e.end);end=$c.$3c(end);if($t.getTime()>end.getTime()){continue;};for(var i=0;i<this.rows.length;i++){var $u=this.rows[i];if($u.belongsHere($t,end)){var ep=new DayPilot.Event(e,$c);if(typeof $c.onEventFilter==="function"&&$c.events.$3d){var $m={};$m.filter=$c.events.$3d;$m.visible=true;$m.e=ep;$c.onEventFilter($m);if(!$m.visible){break;}};$u.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$2Q.events[x];}}}};for(var ri=0;ri<this.rows.length;ri++){var $u=this.rows[ri];$u.events.sort(this.$3e);for(var ei=0;ei<this.rows[ri].events.length;ei++){var ev=$u.events[ei];var $v=$u.getStartColumn(ev);var $w=$u.getWidth(ev);$u.putIntoLine(ev,$v,$w,ri);}}};this.$39=function(){this.cellEvents=[];for(var x=0;x<this.$3f();x++){this.cellEvents[x]=[];for(var y=0;y<this.rows.length;y++){var $x={};var d=this.firstDate.addDays(y*7+x);$x.start=d;$x.end=d.addDays(1);$x.events=[];this.cellEvents[x][y]=$x;}};for(var i=0;i<this.events.list.length;i++){var e=this.events.list[i];if(typeof e!=="object"){throw new DayPilot.Exception("Event data item must be an object");};if(!e.start){throw new DayPilot.Exception("Event data item must specify 'start' property");};var $s=null;if(typeof $c.onBeforeEventRender==='function'){$s=$c.$2Q.events[i];};if($s){if($s.hidden){continue;}}else if(e.hidden){continue;};var $t=new DayPilot.Date(e.start);var end=new DayPilot.Date(e.start);end=$c.$3c(end);if($t.getTime()>end.getTime()){continue;};for(var x=0;x<this.$3f();x++){for(var y=0;y<this.rows.length;y++){var $x=this.cellEvents[x][y];if($t.getTime()>=$x.start.getTime()&&$t.getTime()<$x.end.getTime()){var ep=new DayPilot.Event(e,$c);if(typeof $c.onEventFilter==="function"&&$c.events.$3d){var $m={};$m.filter=$c.events.$3d;$m.visible=true;$m.e=ep;$c.onEventFilter($m);if(!$m.visible){continue;}};$x.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$2Q.events[i];}}}}};for(var x=0;x<this.$3f();x++){for(var y=0;y<this.rows.length;y++){var $x=this.cellEvents[x][y];$x.events.sort(this.$3e);}}};this.$2X=function(){for(var i=0;i<this.elements.events.length;i++){var e=this.elements.events[i];e.event=null;e.click=null;e.parentNode.removeChild(e);};this.elements.events=[];};this.$34=function(){this.$2Q.events={};if(this.cellMode){this.$3g();}else{this.$3h();};this.multiselect.redraw();};this.$3g=function(){this.elements.events=[];for(var x=0;x<this.$3f();x++){for(var y=0;y<this.rows.length;y++){var $x=this.cellEvents[x][y];var $y=this.cells[x][y];for(var i=0;i<$x.events.length;i++){var ep=$x.events[i];ep.part.colStart=x;ep.part.colWidth=1;ep.part.row=y;ep.part.line=i;ep.part.startsHere=true;ep.part.endsHere=true;this.$3i(ep);}}}};this.$3h=function(){this.elements.events=[];for(var ri=0;ri<this.rows.length;ri++){var $u=this.rows[ri];for(var li=0;li<$u.lines.length;li++){var $z=$u.lines[li];for(var pi=0;pi<$z.length;pi++){this.$3i($z[pi]);}}}};this.$3j=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $A=a.start().ticks-b.start().ticks;if($A!==0){return $A;};var $B=b.end().ticks-a.end().ticks;return $B;};this.$3e=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $c.$3j(a,b);};var $d=0;var i=0;while($d===0&&typeof a.data.sort[i]!=="undefined"&&typeof b.data.sort[i]!=="undefined"){if(a.data.sort[i]===b.data.sort[i]){$d=0;}else if(typeof a.data.sort[i]==="number"&&typeof b.data.sort[i]==="number"){$d=a.data.sort[i]-b.data.sort[i];}else{$d=$c.$3k(a.data.sort[i],b.data.sort[i],$c.sortDirections[i]);};i++;};return $d;};this.$3k=function(a,b,$C){var $D=($C!=="desc");var $E=$D?-1:1;var $F=-$E;if(a===null&&b===null){return 0;};if(b===null){return $F;};if(a===null){return $E;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$E:$F;};this.$3l=function(x,y,$z,$G,$H,e){if(!$H){$H=0;};var $I=$G;this.shadow={};this.shadow.list=[];this.shadow.start={x:x,y:y};this.shadow.width=$G;if(this.eventMoveToPosition){$I=1;this.shadow.position=$z;};var $J=y*7+x-$H;if($J<0){$I+=$J;x=0;y=0;};var $K=$H;while($K>=7){y--;$K-=7;};if($K>x){var $L=7-this.$3f();if($K>(x+$L)){y--;x=x+7-$K;}else{$I=$I-$K+x;x=0;}}else{x-=$K;};if(y<0){y=0;x=0;};var $M=null;if(DayPilotMonth.resizingEvent){$M='w-resize';}else if(DayPilotMonth.movingEvent){$M="move";};this.nav.top.style.cursor=$M;while($I>0&&y<this.rows.length){var $N=Math.min(this.$3f()-x,$I);var $u=this.rows[y];var top=this.$3m(y);var $O=$u.getHeight();if(this.eventMoveToPosition){top=this.$3n(y,$z);$O=2;};var $P=document.createElement("div");$P.setAttribute("unselectable","on");$P.style.position='absolute';$P.style.left=(this.$3o()*x)+'%';$P.style.width=(this.$3o()*$N)+'%';$P.style.top=(top)+'px';$P.style.height=($O)+'px';$P.style.cursor=$M;var $Q=document.createElement("div");$Q.setAttribute("unselectable","on");$P.appendChild($Q);$P.className=this.$37("_shadow");$Q.className=this.$37("_shadow_inner");var $R=this.nav.events;$R.appendChild($P);this.shadow.list.push($P);$I-=($N+7-this.$3f());x=0;y++;}};this.$3p=function(){if(this.shadow){var $R=this.nav.events;DayPilot.de(this.shadow.list);this.shadow=null;this.nav.top.style.cursor='';}};this.$3n=function($u,$z){var top=0;for(var i=0;i<$u;i++){top+=this.rows[i].getHeight();};top+=this.cellHeaderHeight;top+=$z*$r.lineHeight();return top;};this.$3q=function(x,y){return this.firstDate.addDays(y*7+x);};this.$38=function(i){var $s=this.$2Q.events;var $i=this.events.list[i];var $S={};for(var name in $i){$S[name]=$i[name];};if(typeof this.onBeforeEventRender==='function'){var $m={};$m.e=$S;$m.data=$S;this.onBeforeEventRender($m);};$s[i]=$S;};this.$3i=function(ep){var $T=this.cellMode;var $u=ep.part.row;var $z=ep.part.line;var $v=ep.part.colStart;var $w=ep.part.colWidth;var $s=ep.cache||ep.data;var $U=$T?0:this.$3o()*($v);var $G=$T?100:this.$3o()*($w);var top=$T?$z*$r.lineHeight():this.$3n($u,$z);var e=document.createElement("div");e.setAttribute("unselectable","on");e.style.height=$r.eventHeight()+'px';e.style.position="relative";e.style.overflow="hidden";e.className=this.$37("_event");if($s.cssClass){DayPilot.Util.addClass(e,$s.cssClass);};e.event=ep;if($T){e.style.marginRight="2px";e.style.marginBottom="2px";}else{e.style.width=$G+'%';e.style.position='absolute';e.style.left=$U+'%';e.style.top=top+'px';};if(this.showToolTip&&$s.toolTip&&!this.bubble){e.title=$s.toolTip;};e.onclick=this.$3r;e.ondblclick=this.$3s;e.oncontextmenu=this.$3t;e.onmousedown=this.$3u;e.onmousemove=this.$3v;e.onmouseout=this.$3w;e.ontouchstart=$V.onEventTouchStart;e.ontouchmove=$V.onEventTouchMove;e.ontouchend=$V.onEventTouchEnd;if(!ep.part.startsHere){DayPilot.Util.addClass(e,this.$37("_event_continueleft"));};if(!ep.part.endsHere){DayPilot.Util.addClass(e,this.$37("_event_continueright"));};var $W=document.createElement("div");$W.setAttribute("unselectable","on");$W.className=this.$37("_event_inner");if($s.fontColor){$W.style.color=$s.fontColor;};if($s.borderColor){$W.style.borderColor=$s.borderColor;};if(ep.client.innerHTML()){$W.innerHTML=ep.client.innerHTML();}else{$W.innerHTML=ep.text();};if($s.backColor){$W.style.background=$s.backColor;if(DayPilot.browser.ie9||DayPilot.browser.ielt9){$W.style.filter='';}};e.appendChild($W);var $X=this.$3x.locale();var $Y=$c.eventStartEndWidth;if(this.eventStartTime||$s.htmlStart){var $Z=($c.$3x.timeFormat()==='Clock12Hours')?ep.start().toString("h tt",$X):ep.start().toString("H",$X);var $00={"left":5,"top":3,"width":$Y,"bottom":2,"v":"Visible","html":$s.htmlStart||$Z,"css":$c.$37("_event_timeleft")};var a=DayPilot.Areas.createArea(e,ep,$00);e.appendChild(a);$W.style.paddingLeft=$Y+"px";};if(this.eventEndTime||$s.htmlEnd){var $Z=($c.$3x.timeFormat()==='Clock12Hours')?ep.end().toString("h tt",$X):ep.end().toString("H",$X);var $00={"right":5,"top":3,"width":$Y,"bottom":2,"v":"Visible","html":$s.htmlEnd||$Z,"css":$c.$37("_event_timeright")};var a=DayPilot.Areas.createArea(e,ep,$00);e.appendChild(a);$W.style.paddingRight=$Y+"px";};if($s.areas){var $01=$s.areas;for(var i=0;i<$01.length;i++){var $00=$01[i];var $02=$00.visibility||$00.v||"Visible";if($02!=='Visible'){continue;};var a=DayPilot.Areas.createArea(e,ep,$00);e.appendChild(a);}};this.elements.events.push(e);if($T){this.cells[$v][$u].body.appendChild(e);}else{this.nav.events.appendChild(e);};if($c.multiselect.$3y(e.event)){$c.multiselect.add(e.event,true);};var $y=e;if($c.$36()){if(typeof $c.onAfterEventRender==='function'){var $m={};$m.e=$y.event;$m.div=$y;$c.onAfterEventRender($m);}}else{if($c.afterEventRender){$c.afterEventRender($y.event,$y);}}};this.$3r=function(ev){if($V.start){return;};$c.$3z(this,ev);};this.$3s=function(ev){$c.$3A(this,ev);};this.$3v=function(ev){var e=this;var ep=e.event;if(typeof(DayPilotMonth)==='undefined'){return;};if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent){return;};var $H=DayPilot.mo3(e,ev);if(!$H){return;};(function(){var $y=e;if(!$y.active){var $01=[];var $i=ep.cache||ep.data;if($c.eventDeleteHandling!=="Disabled"&&!$i.deleteDisabled){$01.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":$c.$37("_event_delete"),"js":function(e){$c.$3B(e);}});};var $03=$y.event.cache?$y.event.cache.areas:$y.event.data.areas;if($03&&$03.length>0){$01=$01.concat($03);};DayPilot.Areas.showAreas($y,$y.event,null,$01);}})();$c.$3C(e.event).each(function($y){DayPilot.Util.addClass($y,$c.$37("_event_hover"));});var $04=6;if(!$c.cellMode&&$H.x<=$04&&ep.client.resizeEnabled()){if(ep.part.startsHere){e.style.cursor="w-resize";e.dpBorder='left';}else{e.style.cursor='not-allowed';}}else if(!$c.cellMode&&e.clientWidth-$H.x<=$04&&ep.client.resizeEnabled()){if(ep.part.endsHere){e.style.cursor="e-resize";e.dpBorder='right';}else{e.style.cursor='not-allowed';}}else if(ep.client.clickEnabled()){e.style.cursor="pointer";}else{e.style.cursor='default';};if(typeof(DayPilot.Bubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){if(!DayPilotMonth.movingEvent&&!DayPilotMonth.resizingEvent){var $05=this.$3D&&$H.x===this.$3D.x&&$H.y===this.$3D.y;if(!$05){this.$3D=$H;$c.bubble.showEvent(e.event);}}else{DayPilot.Bubble.hideActive();}}};this.$3w=function(ev){var e=this;if(typeof(DayPilot.Bubble)!=='undefined'&&$c.bubble){$c.bubble.hideOnMouseOut();};e.style.cursor='';$c.$3C(e.event).each(function($y){DayPilot.Util.removeClass($y,$c.$37("_event_hover"));});DayPilot.Areas.hideAreas(e,ev);};this.$3t=function(){var e=this;$c.$3E(e.event);return false;};this.$3u=function(ev){if($V.start){return;};if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();DayPilot.Bubble.cancelShowing();};var e=this;var ep=e.event;var $u=ep.part.row;var $v=ep.part.colStart;var $z=ep.part.line;var $w=ep.part.colWidth;ev=ev||window.event;var $06=DayPilot.Util.mouseButton(ev);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};if($06.left){if(typeof(DayPilot.Bubble)!=='undefined'&&$c.bubble){DayPilot.Bubble.hideActive();};DayPilotMonth.movingEvent=null;if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){var $07={};$07.start={};$07.start.x=$v;$07.start.y=$u;$07.event=e.event;$07.width=DayPilot.DateUtil.daysSpan($07.event.start(),$07.event.end())+1;$07.direction=this.style.cursor;DayPilotMonth.resizingEvent=$07;}else if(this.style.cursor==='move'||ep.client.moveEnabled()){$c.$3p();var $08=DayPilot.mo3($c.nav.events,ev);if(!$08){return;};var $x=$c.$3F($08.x,$08.y);if(!$x){return;};var $J=DayPilot.DateUtil.daysDiff(ep.start(),$c.rows[$u].start);var $H=($x.y*7+$x.x)-($u*7+$v);if($J){$H+=$J;};var $09={};$09.start={};$09.start.x=$v;$09.start.y=$u;$09.start.line=$z;$09.offset=$c.eventMoveToPosition?0:$H;$09.colWidth=$w;$09.event=e.event;$09.coords=$08;DayPilotMonth.movingEvent=$09;}}};this.temp={};this.temp.getPosition=function(){if(!$c.coords){return null;};var $x=$c.$3F($c.coords.x,$c.coords.y);if(!$x){return null;};var d=new DayPilot.Date($c.$3q($x.x,$x.y));var $x={};$x.start=d;$x.end=d.addDays(1);return $x;};this.$3G={};var $V=$c.$3G;$V.active=false;$V.start=false;$V.timeouts=[];$V.onEventTouchStart=function(ev){if($V.active||$V.start){return;};$V.clearTimeouts();$V.start=true;$V.active=false;var $y=this;var e=$y.event;if(e.client.moveEnabled()){var $0a=$c.tapAndHoldTimeout;$V.timeouts.push(window.setTimeout(function(){$V.active=true;$V.start=false;var $08=$V.relativeCoords(ev);$V.startMoving($y,$08);ev.preventDefault();},$0a));};ev.stopPropagation();};$V.onEventTouchMove=function(ev){$V.clearTimeouts();$V.start=false;};$V.onEventTouchEnd=function(ev){$V.clearTimeouts();if($V.start){$c.$3H(this,ev);};window.setTimeout(function(){$V.start=false;$V.active=false;},500);};$V.onMainTouchStart=function(ev){if($V.active||$V.start){return;};$V.clearTimeouts();$V.start=true;$V.active=false;var $0a=$c.tapAndHoldTimeout;$V.timeouts.push(window.setTimeout(function(){$V.active=true;$V.start=false;ev.preventDefault();var $08=$V.relativeCoords(ev);$V.startRange($08);},$0a));};$V.onMainTouchMove=function(ev){$V.clearTimeouts();$V.start=false;if($V.active){ev.preventDefault();var $08=$V.relativeCoords(ev);if($V.moving){$V.updateMoving($08);return;};if($V.range){$V.updateRange($08);}}};$V.onMainTouchEnd=function(ev){$V.clearTimeouts();if($V.active){if($V.moving){var $0b=$V.moving;var e=$V.moving.event;var $t=$c.shadow.start;var $0c=$c.shadow.position;var $H=$V.moving.offset;$c.$3p();$V.moving=null;$c.$3I(e,$t.x,$t.y,$H,ev,$0c);};if($V.range){var $0d=$V.range;var $t=new DayPilot.Date($c.$3q($0d.from.x,$0d.from.y));var end=$t.addDays($0d.width);$V.range=null;$c.$3J($t,end);}};window.setTimeout(function(){$V.start=false;$V.active=false;},500);};$V.clearTimeouts=function(){for(var i=0;i<$V.timeouts.length;i++){clearTimeout($V.timeouts[i]);};$V.timeouts=[];};$V.relativeCoords=function(ev){var $R=$c.nav.events;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $08={x:x,y:y};var $0e=DayPilot.abs($R);var $08={x:x-$0e.x,y:y-$0e.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $08;};$V.startMoving=function($y,$08){$c.$3p();var ep=$y.event;var $x=$c.$3F($08.x,$08.y);if(!$x){return;};var $J=DayPilot.DateUtil.daysDiff(ep.start(),$c.rows[ep.part.row].start);var $H=($x.y*7+$x.x)-(ep.part.row*7+ep.part.colStart);if($J){$H+=$J;};var $09={};$09.start={};$09.start.x=ep.part.colStart;$09.start.y=ep.part.row;$09.start.line=ep.part.line;$09.offset=$c.eventMoveToPosition?0:$H;$09.colWidth=ep.part.colWidth;$09.event=ep;$09.coords=$08;$V.moving=$09;$V.updateMoving($08);};$V.updateMoving=function($08){var $x=$c.$3F($08.x,$08.y);if(!$x){return;};var $0f=$c.$3K($x);$c.$3p();var event=$V.moving.event;var $H=$V.moving.offset;var $G=$c.cellMode?1:DayPilot.DateUtil.daysSpan(event.start(),event.end())+1;if($G<1){$G=1;};$c.$3l($x.x,$x.y,$0f,$G,$H,event);};$V.startRange=function($08){var $x=$c.$3F($08.x,$08.y);if(!$x){return;};$c.$3p();var $0g={};$0g.start={};$0g.start.x=$x.x;$0g.start.y=$x.y;$0g.x=$x.x;$0g.y=$x.y;$0g.width=1;$V.range=$0g;$V.updateRange($08);};$V.updateRange=function($08){var $x=$c.$3F($08.x,$08.y);if(!$x){return;};$c.$3p();var $t=$V.range.start;var $0h=$t.y*7+$t.x;var $0i=$x.y*7+$x.x;var $G=Math.abs($0i-$0h)+1;if($G<1){$G=1;};var $0j=$0h<$0i?$t:$x;$V.range.width=$G;$V.range.from={x:$0j.x,y:$0j.y};$c.$3l($0j.x,$0j.y,0,$G,0,null);};this.isWeekend=function($0k){var $0l=0;var $0m=6;if($0k.dayOfWeek()===$0l){return true;};if($0k.dayOfWeek()===$0m){return true;};return false;};this.$3L=function(){var $0n=this.startDate.lastDayOfMonth();if(this.showWeekend){return $0n;}while(this.isWeekend($0n)){$0n=$0n.addDays(-1);};return $0n;};this.$2Y=function(){if(typeof this.startDate==='string'){this.startDate=new DayPilot.Date(this.startDate);};if(this.viewType==='Month'){this.startDate=this.startDate.firstDayOfMonth();}else{this.startDate=this.startDate.getDatePart();};this.firstDate=this.startDate.firstDayOfWeek($r.weekStarts());if(!this.showWeekend){var $0o=this.startDate.addMonths(-1).getMonth();var $0p=new DayPilot.Date(this.firstDate).addDays(6);while(this.isWeekend($0p)){$0p=$0p.addDays(-1);};if($0p.getMonth()===$0o){this.firstDate=this.firstDate.addDays(7);}};var $0q=this.startDate;var $0r;if(this.viewType==='Month'){var $0s=this.$3L();var $0t=DayPilot.DateUtil.daysDiff(this.firstDate,$0s)+1;$0r=Math.ceil($0t/7);}else{$0r=this.weeks;};this.days=$0r*7;this.rows=[];for(var x=0;x<$0r;x++){var r={};r.start=this.firstDate.addDays(x*7);r.end=r.start.addDays(this.$3f());r.events=[];r.lines=[];r.index=x;r.minHeight=this.cellHeight;r.calendar=this;r.belongsHere=function($t,end){if(end.getTime()===$t.getTime()&&$t.getTime()===this.start.getTime()){return true;};return !(end.getTime()<=this.start.getTime()||$t.getTime()>=this.end.getTime());};r.getPartStart=function(ep){return DayPilot.DateUtil.max(this.start,ep.start());};r.getPartEnd=function(ep){return DayPilot.DateUtil.min(this.end,ep.rawend());};r.getStartColumn=function(ep){var $0u=this.getPartStart(ep);return DayPilot.DateUtil.daysDiff(this.start,$0u);};r.getWidth=function(ep){return DayPilot.DateUtil.daysSpan(this.getPartStart(ep),this.getPartEnd(ep))+1;};r.putIntoLine=function(ep,$v,$w,$u){var $0v=this;for(var i=0;i<this.lines.length;i++){var $z=this.lines[i];if($z.isFree($v,$w)){$z.addEvent(ep,$v,$w,$u,i);return i;}};var $z=[];$z.isFree=function($v,$w){var $0w=true;for(var i=0;i<this.length;i++){var ep=this[i];if(!($v+$w-1<ep.part.colStart||$v>ep.part.colStart+ep.part.colWidth-1)){$0w=false;}};return $0w;};$z.addEvent=function(ep,$v,$w,$u,$0x){ep.part.colStart=$v;ep.part.colWidth=$w;ep.part.row=$u;ep.part.line=$0x;ep.part.startsHere=$0v.start.getTime()<=ep.start().getTime();ep.part.endsHere=$0v.end.getTime()>=ep.end().getTime();this.push(ep);};$z.addEvent(ep,$v,$w,$u,this.lines.length);this.lines.push($z);return this.lines.length-1;};r.getStart=function(){var $t=0;for(var i=0;i<$c.rows.length&&i<this.index;i++){$t+=$c.rows[i].getHeight();}};r.getHeight=function(){return Math.max(this.lines.length*$r.lineHeight()+$c.cellHeaderHeight+$c.cellMarginBottom,this.calendar.cellHeight);};this.rows.push(r);};this.$3M=this.firstDate.addDays($0r*7);};this.$3N=function(){switch(this.heightSpec){case "Auto":var $O=$r.headerHeight();for(var i=0;i<this.rows.length;i++){$O+=this.rows[i].getHeight();};return $O;case "Fixed":return this.height;}};this.$3O=function($t,end){var $0y=(end.y*7+end.x)-($t.y*7+$t.x);return $0y+1;};this.$3P={};this.$3P.scope=null;this.$3P.notify=function(){if($c.$3P.scope){$c.$3P.scope["$apply"]();}};this.debug=new DayPilot.Debug(this);this.$3Q=function(){var $0z=this.nav.top;this.nav.top.dp=this;$0z.setAttribute("unselectable","on");$0z.style.MozUserSelect='none';$0z.style.KhtmlUserSelect='none';$0z.style.WebkitUserSelect='none';$0z.style.WebkitTapHighlightColor="rgba(0,0,0,0)";$0z.style.WebkitTouchCallout="none";$0z.style.position='relative';if(this.width){$0z.style.width=this.width;};$0z.onselectstart=function(e){return false;};$0z.className=this.$37("_main");if(this.hideUntilInit){$0z.style.visibility='hidden';};if(!this.visible){$0z.style.display="none";};$0z.onmousemove=this.$3R;$0z.ontouchstart=$V.onMainTouchStart;$0z.ontouchmove=$V.onMainTouchMove;$0z.ontouchend=$V.onMainTouchEnd;this.$2W=document.createElement("div");this.$2W.style.display='none';this.nav.top.appendChild(this.$2W);var $0A=document.createElement("div");$0A.style.position="relative";$0A.style.height=$r.headerHeight()+"px";$0A.oncontextmenu=function(){return false;};this.nav.top.appendChild($0A);this.nav.header=$0A;var $0B=document.createElement("div");$0B.style.zoom="1";var $0C=document.createElement("div");$0C.style.position="relative";$0B.appendChild($0C);this.nav.loading=document.createElement("div");this.nav.loading.style.position='absolute';this.nav.loading.style.top='0px';this.nav.loading.style.left=(5)+"px";this.nav.loading.className=$c.$37("_loading");this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.display='none';this.nav.top.appendChild($0B);this.nav.top.appendChild(this.nav.loading);this.nav.scrollable=$0B;this.nav.events=$0C;};this.$3R=function(ev){ev.insideMainD=true;if(window.event&&window.event.srcElement){window.event.srcElement.inside=true;};$c.coords=DayPilot.mo3($c.nav.events,ev);var $08=$c.coords;if(!$08){return;};var $x=$c.$3F($08.x,$08.y);if(!$x){return;};if(DayPilotMonth.resizingEvent){$c.$3p();var $07=DayPilotMonth.resizingEvent;var $0D=$07.start;var $G,$t;if($07.direction==='w-resize'){$t=$x;var $0E=$07.event.rawend();if($0E.getDatePart().getTime()===$0E.getTime()){$0E=$0E.addDays(-1);};var end=$c.$3S($0E);$G=$c.$3O($x,end);}else{$t=$c.$3S($07.event.start());$G=$c.$3O($t,$x);};if($G<1){$G=1;};$c.$3l($t.x,$t.y,0,$G);}else if(DayPilotMonth.movingEvent){if($08.x===DayPilotMonth.movingEvent.coords.x&&$08.y===DayPilotMonth.movingEvent.coords.y){return;};var $0f=$c.$3K($x);$c.$3p();var event=DayPilotMonth.movingEvent.event;var $H=DayPilotMonth.movingEvent.offset;var $G=$c.cellMode?1:DayPilot.DateUtil.daysSpan(event.start(),event.rawend())+1;if($G<1){$G=1;};$c.$3l($x.x,$x.y,$0f,$G,$H,event);}else if(DayPilotMonth.timeRangeSelecting){DayPilotMonth.cancelCellClick=true;$c.$3p();var $t=DayPilotMonth.timeRangeSelecting;var $0h=$t.y*7+$t.x;var $0i=$x.y*7+$x.x;var $G=Math.abs($0i-$0h)+1;if($G<1){$G=1;};var $0j=$0h<$0i?$t:$x;DayPilotMonth.timeRangeSelecting.from={x:$0j.x,y:$0j.y};DayPilotMonth.timeRangeSelecting.width=$G;DayPilotMonth.timeRangeSelecting.moved=true;$c.$3l($0j.x,$0j.y,0,$G,0,null);};if(DayPilotMonth.drag){if(DayPilotMonth.gShadow){document.body.removeChild(DayPilotMonth.gShadow);};DayPilotMonth.gShadow=null;if(!DayPilotMonth.movingEvent){var $0F=DayPilot.Date.today();var ev={'id':DayPilotMonth.drag.id,'start':$0F,'end':$0F.addSeconds(DayPilotMonth.drag.duration),'text':DayPilotMonth.drag.text};var $i=DayPilotMonth.drag.data;if($i){var $0G=['duration','element','remove','id','text'];for(var name in $i){if(DayPilot.contains($0G,name)){continue;};ev[name]=$i[name];}};var event=new DayPilot.Event(ev,$c);event.external=true;var me=DayPilotMonth.movingEvent={};me.event=event;me.coords=$08;me.position=0;me.offset=0;me.external=true;me.removeElement=DayPilotMonth.drag.element;};ev.cancelBubble=true;}};this.$3K=function($x){var y=$x.relativeY;var $u=$c.rows[$x.y];var top=$c.cellHeaderHeight;var lh=$r.lineHeight();var $0H=$u.lines.length;for(var i=0;i<$u.lines.length;i++){var $z=$u.lines[i];if($z.isFree($x.x,1)){$0H=i;break;}};var $0I=Math.floor((y-top+lh/ 2)/ lh);var $0I=Math.min($0H,$0I);var $0I=Math.max(0,$0I);return $0I;};this.message=function($0J,$q,$0K,$0L){if($0J===null){return;};var $q=$q||this.messageHideAfter||2000;var $0K=$0K||"#ffffff";var $0L=$0L||"#000000";var $0M=0.8;var top=$r.headerHeight();var $U=1;var $0N=0;var $y;if(!this.nav.message){$y=document.createElement("div");$y.setAttribute("unselectable","on");$y.style.position="absolute";$y.style.right="0px";$y.style.left="0px";$y.style.top=top+"px";$y.style.opacity=$0M;$y.style.filter="alpha(opacity="+($0M*100)+")";$y.style.display='none';$y.onmousemove=function(){if($y.messageTimeout&&!$y.status){clearTimeout($y.messageTimeout);}};$y.onmouseout=function(){if($c.nav.message.style.display!=='none'){$y.messageTimeout=setTimeout($c.$3T,500);}};var $W=document.createElement("div");$W.setAttribute("unselectable","on");$W.onclick=function(){$c.nav.message.style.display='none';};$W.className=this.$37("_message");$y.appendChild($W);var close=document.createElement("div");close.setAttribute("unselectable","on");close.style.position="absolute";close.className=this.$37("_message_close");close.onclick=function(){$c.nav.message.style.display='none';};$y.appendChild(close);this.nav.top.appendChild($y);this.nav.message=$y;}else{$y=$c.nav.message;};var $0O=function(){$c.nav.message.style.opacity=$0M;var $W=$c.nav.message.firstChild;$W.innerHTML=$0J;var end=function(){$y.messageTimeout=setTimeout($c.$3T,$q);};DayPilot.fade($c.nav.message,0.2,end);};clearTimeout($y.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($c.nav.message,-0.2,$0O);}else{$0O();}};this.message.show=function($0J){$c.message($0J);};this.message.hide=function(){$c.$3T();};this.$3T=function(){var end=function(){$c.nav.message.style.display='none';};DayPilot.fade($c.nav.message,-0.2,end);};this.$3U=function(ev){if($c.heightSpec==="Parent100Pct"){$c.$32();}};this.$32=function(){var $0B=this.nav.scrollable;if(this.heightSpec==="Parent100Pct"||this.heightSpec==='Fixed'){$0B.style.top=this.headerHeight+"px";$0B.style.bottom="0px";$0B.style.left="0px";$0B.style.right="0px";$0B.style.overflow="auto";$0B.style.position="absolute";}else{$0B.style.position="relative";};if(this.heightSpec==='Parent100Pct'){this.nav.top.style.height="100%";var $O=this.nav.top.clientHeight;}else{this.nav.top.style.height=this.$3N()+'px';};for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].style.top=this.$3m(y)+'px';this.cells[x][y].style.height=this.rows[y].getHeight()+'px';}};this.$3V();};this.$3F=function(x,y){var $0P=Math.floor(this.nav.top.clientWidth/this.$3f());var $0Q=Math.min(Math.floor(x/$0P),this.$3f()-1);var $u=null;var $0R=0;var $O=0;var $0S=0;for(var i=0;i<this.rows.length;i++){$O+=this.rows[i].getHeight();if(y<$O){$0R=y-$0S;$u=i;break;};$0S=$O;};if($u===null){$u=this.rows.length-1;};var $x={};$x.x=$0Q;$x.y=$u;$x.relativeY=$0R;return $x;};this.$3S=function($0k){var $G=DayPilot.DateUtil.daysDiff(this.firstDate,$0k);var $x={x:0,y:0};while($G>=7){$x.y++;$G-=7;};$x.x=$G;return $x;};this.$3V=function(){var $G=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=$G+"px";};var $0T=null;this.$31=function(){var $0A=this.nav.header;var $0C=this.nav.events;this.cells=[];for(var x=0;x<this.$3f();x++){this.cells[x]=[];var $0U=this.headerProperties?this.headerProperties[x]:null;var $0V=x+$r.weekStarts();if($0V>6){$0V-=7;};if(!$0U){var $0U={};$0U.html=$r.locale().dayNames[$0V];};if(typeof $c.onBeforeHeaderRender==='function'){var $m={};$m.header={};$m.header.dayOfWeek=$0V;var $0W=['html','backColor','cssClass'];DayPilot.Util.copyProps($0U,$m.header,$0W);$c.onBeforeHeaderRender($m);DayPilot.Util.copyProps($m.header,$0U,$0W);};var $0X=document.createElement("div");$0X.setAttribute("unselectable","on");$0X.style.position='absolute';$0X.style.left=(this.$3o()*x)+'%';$0X.style.width=(this.$3o())+'%';$0X.style.top='0px';$0X.style.height=($r.headerHeight())+'px';(function(x){$0X.onclick=function(){$c.$3W(x);};})($0V);var $W=document.createElement("div");$W.setAttribute("unselectable","on");$W.className=this.$37("_header_inner");$W.innerHTML=$0U.html;$0X.appendChild($W);$0X.className=this.$37("_header");if($0U){if($0U.cssClass){DayPilot.Util.addClass($0X,$0U.cssClass);};if($0U.backColor){$W.style.background=$0U.backColor;}};$0A.appendChild($0X);for(var y=0;y<this.rows.length;y++){this.$3X(x,y,$0C);}};if(!DayPilot.contains(this.nav.top.childNodes,$0T)&&DayPilot.Util.isNullOrUndefined("K5woOes")){var $y=document.createElement("div");$y.style.position='absolute';$y.style.padding='2px';$y.style.top='0px';$y.style.left='0px';$y.style.backgroundColor="#FF6600";$y.style.color="white";$y.innerHTML="\u0044\u0045\u004D\u004F";$0T=$y;this.nav.top.appendChild($y);}};this.$30=function(){for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].onclick=null;}};this.nav.header.innerHTML='';this.nav.events.innerHTML='';};this.$3X=function(x,y,$0A){var $u=this.rows[y];var d=this.firstDate.addDays(y*7+x);var $0Y=this.cellProperties?this.cellProperties[y*this.$3f()+x]:null;var $0Z=null;if($0Y){$0Z=$0Y["headerHtml"];}else{var $0k=d.getDay();if($0k===1){$0Z=$r.locale().monthNames[d.getMonth()]+' '+$0k;}else{$0Z=$0k+"";}};if(!$0Y){var $0Y={};$0Y.business=!$c.isWeekend(d);$0Y.headerHtml=$0Z;};if(typeof $c.onBeforeCellRender==='function'){var $m={};$m.cell={};$m.cell.areas=null;$m.cell.backColor=null;$m.cell.backImage=null;$m.cell.backRepeat=null;$m.cell.business=$c.isWeekend(d);$m.cell.headerHtml=$0Z;$m.cell.headerBackColor=null;$m.cell.cssClass=null;$m.cell.html=null;$m.cell.start=d;$m.cell.end=$m.cell.start.addDays(1);DayPilot.Util.copyProps($0Y,$m.cell);$c.onBeforeCellRender($m);DayPilot.Util.copyProps($m.cell,$0Y,['areas','backColor','backImage','backRepeat','business','headerHtml','headerBackColor','cssClass','html']);};var $x=document.createElement("div");$x.setAttribute("unselectable","on");$x.style.position='absolute';$x.style.cursor='default';$x.style.left=(this.$3o()*x)+'%';$x.style.width=(this.$3o())+'%';$x.style.top=(this.$3m(y))+'px';$x.style.height=($u.getHeight())+'px';$x.d=d;$x.x=x;$x.y=y;$x.props=$0Y;var $0o=this.startDate.addMonths(-1).getMonth();var $10=this.startDate.addMonths(1).getMonth();var $11=this.startDate.getMonth();var $W=document.createElement("div");$W.setAttribute("unselectable","on");$x.appendChild($W);$W.className=this.$37("_cell_inner");$W.className=this.$37("_cell_inner");if(d.getMonth()===$11){$x.className=this.$37("_cell");}else if(d.getMonth()===$0o){$x.className=this.$37("_cell")+" "+this.$37("_previous");}else if(d.getMonth()===$10){$x.className=this.$37("_cell")+" "+this.$37("_next");}else{$a();};if($0Y){if($0Y["cssClass"]){DayPilot.Util.addClass($x,$0Y.cssClass);};if($0Y["business"]){DayPilot.Util.addClass($x,this.$37("_cell_business"));};if($0Y["backColor"]){$W.style.backgroundColor=$0Y["backColor"];};if($0Y["backImage"]){$W.style.backgroundImage="url('"+$0Y["backImage"]+"')";};if($0Y["backRepeat"]){$W.style.backgroundRepeat=$0Y["backRepeat"];}};$x.onmousedown=this.$3Y;$x.onmousemove=this.$3Z;$x.onmouseout=this.$40;$x.oncontextmenu=this.$41;$x.onclick=this.$42;$x.ondblclick=this.$43;var $12=document.createElement("div");$12.setAttribute("unselectable","on");$12.style.height=this.cellHeaderHeight+"px";if($0Y&&$0Y["headerBackColor"]){$12.style.background=$0Y["headerBackColor"];};$12.className=this.$37("_cell_header");$12.innerHTML=$0Y.headerHtml;$W.appendChild($12);if($0Y&&$0Y["html"]){var $0J=document.createElement("div");$0J.setAttribute("unselectable","on");$0J.style.height=($u.getHeight()-this.cellHeaderHeight)+'px';$0J.style.overflow='hidden';$0J.innerHTML=$0Y["html"];$W.appendChild($0J);};if(this.cellMode){var $13=document.createElement("div");$13.setAttribute("unselectable","on");$13.style.height=(this.cellHeight-this.cellHeaderHeight)+"px";$13.style.overflow='auto';$13.style.position='relative';var $Q=document.createElement('div');$Q.setAttribute("unselectable","on");$Q.style.paddingTop="1px";$Q.style.paddingBottom="1px";$13.appendChild($Q);$W.appendChild($13);$x.body=$Q;$x.scrolling=$13;};if($x.props){var $01=$x.props.areas||[];for(var i=0;i<$01.length;i++){var $00=$01[i];var $02=$00.visibility||$00.v||"Visible";if($02!=='Visible'){continue;};var a=DayPilot.Areas.createArea($x,$x.props,$00);$x.appendChild(a);}};this.cells[x][y]=$x;$0A.appendChild($x);if(typeof $c.onAfterCellRender==="function"){$m.cell.div=$x;$m.cell.divHeader=$12;$c.onAfterCellRender($m);}};this.$3Z=function(){var c=this;if(c.props){DayPilot.Areas.showAreas(c,c.props);}};this.$40=function(ev){var c=this;if(c.props){DayPilot.Areas.hideAreas(c,ev);}};this.$41=function(){var d=this.d;var go=function(d){var $t=new DayPilot.Date(d);var end=$t.addDays(1);var $14=new DayPilot.Selection($t,end,null,$c);if($c.contextMenuSelection){$c.contextMenuSelection.show($14);}};go(d);return false;};this.$43=function(){var d=this.d;if($c.timeouts){for(var $15 in $c.timeouts){window.clearTimeout($c.timeouts[$15]);};$c.timeouts=null;};if($c.timeRangeDoubleClickHandling!=='Disabled'){var $t=new DayPilot.Date(d);var end=$t.addDays(1);$c.$44($t,end);}};this.$42=function(){if(DayPilotMonth.cancelCellClick){return;};var d=this.d;var $16=function(d){var $t=new DayPilot.Date(d);var end=$t.addDays(1);$c.$3J($t,end);};if($c.timeRangeSelectedHandling!=='Disabled'&&$c.timeRangeDoubleClickHandling==='Disabled'){$16(d);return;};if(!$c.timeouts){$c.timeouts=[];};var $17=function(d){return function(){$16(d);};};$c.timeouts.push(window.setTimeout($17(d),$c.doubleClickTimeout));};this.$3Y=function(e){var $x=this;var x=$x.x;var y=$x.y;DayPilotMonth.cancelCellClick=false;if($x.scrolling){var $H=DayPilot.mo3($x.scrolling,e);var sw=DayPilot.sw($x.scrolling);var $G=$x.scrolling.offsetWidth;if($H.x>$G-sw){return;}};if($c.timeRangeSelectedHandling!=='Disabled'){$c.$3p();DayPilotMonth.timeRangeSelecting={"root":$c,"x":x,"y":y,"from":{x:x,y:y},"width":1};}};this.$3f=function(){if(this.showWeekend){return 7;}else{return 5;}};this.$3o=function(){if(this.showWeekend){return 14.285;}else{return 20;}};this.$3m=function($0x){var top=0;for(var i=0;i<$0x;i++){top+=this.rows[i].getHeight();};return top;};this.clearSelection=function(){this.$3p();};this.$45=function($18,$i,$19){var $1a={};$1a.action=$18;$1a.parameters=$19;$1a.data=$i;$1a.header=this.$46();var $1b="JSON"+JSON.stringify($1a);__doPostBack($c.uniqueID,$1b);};this.$47=function($18,$19,$i,$1c){if(!this.$48()){$c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");return;};if(typeof $1c==='undefined'){$1c="CallBack";};$c.$3b();var $1a={};$1a.action=$18;$1a.type=$1c;$1a.parameters=$19;$1a.data=$i;$1a.header=this.$46();var $1b="JSON"+JSON.stringify($1a);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$49,$1b,this.$4a);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$1b,this.$2T,null,this.callbackError,true);}};this.$48=function(){return($c.$2S!=="javasc"&&$c.$2S.indexOf("DCODE")===-1)||$c.devsb;};this.$4b=function(){if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$4a=function($1d){if(typeof $c.onAjaxError==='function'){var $m={};$m.request=$1d;$c.onAjaxError($m);}else if(typeof $c.ajaxError==='function'){$c.ajaxError($1d);}};this.$49=function($1e){$c.$2T($1e.responseText);};this.$46=function(){var h={};h.v=this.v;h.control="dpm";h.id=this.id;h.visibleStart=new DayPilot.Date(this.firstDate);h.visibleEnd=h.visibleStart.addDays(this.days);h.clientState=this.clientState;h.cssClassPrefix=$c.cssClassPrefix;h.startDate=$c.startDate;h.showWeekend=this.showWeekend;h.locale=this.locale;h.timeFormat=this.timeFormat;h.weekStarts=this.weekStarts;h.viewType=this.viewType;h.weeks=this.weeks;h.selected=$c.multiselect.events();h.hashes=$c.hashes;return h;};this.visibleStart=function(){return new DayPilot.Date(this.firstDate);};this.visibleEnd=function(){return $c.visibleStart().addDays($c.days);};this.$4c=function($1c,$18,$1f,$i){if($1c==='PostBack'){$c.postBack2($18,$1f,$i);}else if($1c==='CallBack'){$c.$47($18,$1f,$i,"CallBack");}else if($1c==='Immediate'){$c.$47($18,$1f,$i,"Notify");}else if($1c==='Queue'){$c.queue.add(new DayPilot.Action(this,$18,$1f,$i));}else if($1c==='Notify'){if($r.notifyType()==='Notify'){$c.$47($18,$1f,$i,"Notify");}else{$c.queue.add(new DayPilot.Action($c,$18,$1f,$i));}}else{throw "Invalid event invocation type";}};this.$4d=function($m,$g){var $f=$c.$4e($g);var $1f={};$1f.args=$m;$1f.guid=$f;$c.$47("Bubble",$1f);};this.$4e=function($g){var $f=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$f]=$g;return $f;};this.eventClickPostBack=function(e,$i){this.$45("EventClick",$i,e);};this.eventClickCallBack=function(e,$i){this.$47('EventClick',e,$i);};this.$3z=function($y,e){DayPilotMonth.movingEvent=null;DayPilotMonth.resizingEvent=null;var e=e||window.event;var $1g=e.ctrlKey;var $1h=e.metaKey;e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($c.eventDoubleClickHandling==='Disabled'){$c.$3H($y,e);return;};if(!$c.timeouts){$c.timeouts=[];}else{for(var $15 in $c.timeouts){window.clearTimeout($c.timeouts[$15]);};$c.timeouts=[];};var $1i=function($y,e){return function(){$c.$3H($y,e);};};$c.timeouts.push(window.setTimeout($1i($y,e),$c.doubleClickTimeout));};this.$3H=function($y,ev){var e=$y.event;if(!e.client.clickEnabled()){return;};var $1g=ev.ctrlKey;var $1h=ev.metaKey;if($c.$36()){var $m={};$m.e=e;$m.div=$y;$m.originalEvent=ev;$m.meta=ev.metaKey;$m.ctrl=ev.ctrlKey;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventClick==='function'){$c.onEventClick($m);if($m.preventDefault.value){return;}};switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'Select':$c.$4f($y,e,$1g,$1h);break;case 'ContextMenu':var $1j=e.client.contextMenu();if($1j){$1j.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventClicked==='function'){$c.onEventClicked($m);}}else{switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;case 'Select':$c.$4f($y,e,$1g,$1h);break;case 'ContextMenu':var $1j=e.client.contextMenu();if($1j){$1j.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.$3B=function(e){if($c.$36()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDelete==='function'){$c.onEventDelete($m);if($m.preventDefault.value){return;}};switch($c.eventDeleteHandling){case 'PostBack':$c.eventDeletePostBack(e);break;case 'CallBack':$c.eventDeleteCallBack(e);break;case 'Update':$c.events.remove(e);break;};if(typeof $c.onEventDeleted==='function'){$c.onEventDeleted($m);}}else{switch($c.eventDeleteHandling){case 'PostBack':$c.eventDeletePostBack(e);break;case 'CallBack':$c.eventDeleteCallBack(e);break;case 'JavaScript':$c.onEventDelete(e);break;}}};this.eventDeletePostBack=function(e,$i){this.$45('EventDelete',e,$i);};this.eventDeleteCallBack=function(e,$i){this.$47('EventDelete',e,$i);};this.eventDoubleClickPostBack=function(e,$i){this.$45('EventDoubleClick',$i,e);};this.eventDoubleClickCallBack=function(e,$i){this.$47('EventDoubleClick',e,$i);};this.$3A=function($y,ev){if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($c.timeouts){for(var $15 in $c.timeouts){window.clearTimeout($c.timeouts[$15]);};$c.timeouts=null;};var ev=ev||window.event;var e=$y.event;if($c.$36()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDoubleClick==='function'){$c.onEventDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'Select':$c.$4f($y,e,ev.ctrlKey,ev.metaKey);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventDoubleClicked==='function'){$c.onEventDoubleClicked($m);}}else{switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'JavaScript':$c.onEventDoubleClick(e);break;case 'Select':$c.$4f($y,e,ev.ctrlKey,ev.metaKey);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.$4f=function($y,e,$1g,$1h){$c.$4g($y,e,$1g,$1h);};this.eventSelectPostBack=function(e,$1k,$i){var $1f={};$1f.e=e;$1f.change=$1k;this.$45('EventSelect',$i,$1f);};this.eventSelectCallBack=function(e,$1k,$i){var $1f={};$1f.e=e;$1f.change=$1k;this.$47('EventSelect',$1f,$i);};this.$4g=function($y,e,$1g,$1h){var m=$c.multiselect;var $1l=false;var $1m=m.isSelected(e);var $1n=$1g||$1h;if(!$1n&&$1m&&!$1l&&m.list.length===1){return;};if($c.$36()){m.previous=m.events();var $m={};$m.e=e;$m.selected=m.isSelected(e);$m.ctrl=$1g;$m.meta=$1h;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventSelect==='function'){$c.onEventSelect($m);if($m.preventDefault.value){return;}};switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1k);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$1k);break;case 'Update':m.$4h($y,$1g);break;};if(typeof $c.onEventSelected==='function'){$m.change=m.isSelected(e)?"selected":"deselected";$m.selected=m.isSelected(e);$c.onEventSelected($m);}}else{m.previous=m.events();m.$4h($y,$1g);var $1k=m.isSelected(e)?"selected":"deselected";switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1k);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$1k);break;case 'JavaScript':$c.onEventSelect(e,$1k);break;}}};this.eventRightClickPostBack=function(e,$i){this.$45("EventRightClick",$i,e);};this.eventRightClickCallBack=function(e,$i){this.$47('EventRightClick',e,$i);};this.$3E=function(e){this.event=e;if(!e.client.rightClickEnabled()){return false;};if($c.$36()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventRightClick==='function'){$c.onEventRightClick($m);if($m.preventDefault.value){return;}};switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'ContextMenu':var $1j=e.client.contextMenu();if($1j){$1j.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventRightClicked==='function'){$c.onEventRightClicked($m);}}else{switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'JavaScript':$c.onEventRightClick(e);break;case 'ContextMenu':var $1j=e.client.contextMenu();if($1j){$1j.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}};return false;};this.eventMenuClickPostBack=function(e,$1o,$i){var $1f={};$1f.e=e;$1f.command=$1o;this.$45('EventMenuClick',$i,$1f);};this.eventMenuClickCallBack=function(e,$1o,$i){var $1f={};$1f.e=e;$1f.command=$1o;this.$47('EventMenuClick',$1f,$i);};this.$4i=function($1o,e,$1p){switch($1p){case 'PostBack':$c.eventMenuClickPostBack(e,$1o);break;case 'CallBack':$c.eventMenuClickCallBack(e,$1o);break;}};this.eventMovePostBack=function(e,$1q,$1r,$i,$0c){if(!$1q)throw 'newStart is null';if(!$1r)throw 'newEnd is null';var $1f={};$1f.e=e;$1f.newStart=$1q;$1f.newEnd=$1r;$1f.position=$0c;this.$45('EventMove',$i,$1f);};this.eventMoveCallBack=function(e,$1q,$1r,$i,$0c){if(!$1q)throw 'newStart is null';if(!$1r)throw 'newEnd is null';var $1f={};$1f.e=e;$1f.newStart=$1q;$1f.newEnd=$1r;$1f.position=$0c;this.$47('EventMove',$1f,$i);};this.$3I=function(e,x,y,$H,ev,$0c,external){var $1s=e.start().getTimePart();var $0E=e.rawend().getDatePart();if($0E.getTime()!==e.rawend().getTime()){$0E=$0E.addDays(1);};var $1t=DayPilot.DateUtil.diff(e.rawend(),$0E);var $1u=this.$3q(x,y);$1u=$1u.addDays(-$H);var $G=DayPilot.DateUtil.daysSpan(e.start(),e.rawend())+1;var $1v=$1u.addDays($G);var $1q=$1u.addTime($1s);var $1r=$1v.addTime($1t);$1r=$c.$4j($1r);if($c.$36()){var $m={};$m.e=e;$m.newStart=$1q;$m.newEnd=$1r;$m.position=$0c;$m.ctrl=false;$m.external=external;if(ev){$m.ctrl=ev.ctrlKey;};$m.shift=false;if(ev){$m.shift=ev.shiftKey;};$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventMove==='function'){$c.onEventMove($m);if($m.preventDefault.value){return;}};switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1q,$1r,null,$0c);break;case 'CallBack':$c.eventMoveCallBack(e,$1q,$1r,null,$0c);break;case 'Notify':$c.eventMoveNotify(e,$1q,$1r,null,$0c);break;case 'Update':if($m.external){e.start($1q);e.end($1r);e.commit();$c.events.add(e);}else{e.start($1q);e.end($1r);$c.events.update(e);};$c.$4k();break;};if(typeof $c.onEventMoved==='function'){$c.onEventMoved($m);}}else{switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1q,$1r,null,$0c);break;case 'CallBack':$c.eventMoveCallBack(e,$1q,$1r,null,$0c);break;case 'JavaScript':$c.onEventMove(e,$1q,$1r,ev.ctrlKey,ev.shiftKey,$0c);break;case 'Notify':$c.eventMoveNotify(e,$1q,$1r,null,$0c);break;}}};this.eventMoveNotify=function(e,$1q,$1r,$i,$z){var $1w=new DayPilot.Event(e.copy(),this);e.start($1q);e.end($1r);e.commit();$c.update();this.$4l("Notify",$1w,$1q,$1r,$i,$z);};this.$4l=function($1c,e,$1q,$1r,$i,$z){var $1f={};$1f.e=e;$1f.newStart=$1q;$1f.newEnd=$1r;$1f.position=$z;this.$4c($1c,"EventMove",$1f,$i);};this.eventResizePostBack=function(e,$1q,$1r,$i){if(!$1q)throw 'newStart is null';if(!$1r)throw 'newEnd is null';var $1f={};$1f.e=e;$1f.newStart=$1q;$1f.newEnd=$1r;this.$45('EventResize',$i,$1f);};this.eventResizeCallBack=function(e,$1q,$1r,$i){if(!$1q)throw 'newStart is null';if(!$1r)throw 'newEnd is null';var $1f={};$1f.e=e;$1f.newStart=$1q;$1f.newEnd=$1r;this.$47('EventResize',$1f,$i);};this.$4m=function(e,$t,$G){var $1s=e.start().getTimePart();var $0E=e.rawend().getDatePart();if($0E!=e.rawend()){$0E=$0E.addDays(1);};var $1t=DayPilot.DateUtil.diff(e.rawend(),$0E);var $1u=this.$3q($t.x,$t.y);var $1v=$1u.addDays($G);var $1q=$1u.addTime($1s);var $1r=$1v.addTime($1t);$1r=$c.$4j($1r);if($c.$36()){var $m={};$m.e=e;$m.newStart=$1q;$m.newEnd=$1r;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventResize==='function'){$c.onEventResize($m);if($m.preventDefault.value){return;}};switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1q,$1r);break;case 'CallBack':$c.eventResizeCallBack(e,$1q,$1r);break;case 'Notify':$c.eventResizeNotify(e,$1q,$1r);break;case 'Update':e.start($1q);e.end($1r);$c.events.update(e);break;};if(typeof $c.onEventResized==='function'){$c.onEventResized($m);}}else{switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1q,$1r);break;case 'CallBack':$c.eventResizeCallBack(e,$1q,$1r);break;case 'JavaScript':$c.onEventResize(e,$1q,$1r);break;case 'Notify':$c.eventResizeNotify(e,$1q,$1r);break;}}};this.eventResizeNotify=function(e,$1q,$1r,$i){var $1w=new DayPilot.Event(e.copy(),this);e.start($1q);e.end($1r);e.commit();$c.update();this.$4n("Notify",$1w,$1q,$1r,$i);};this.$4n=function($1c,e,$1q,$1r,$i){var $1f={};$1f.e=e;$1f.newStart=$1q;$1f.newEnd=$1r;this.$4c($1c,"EventResize",$1f,$i);};this.timeRangeSelectedPostBack=function($t,end,$i){var $0g={};$0g.start=$t;$0g.end=end;this.$45('TimeRangeSelected',$i,$0g);};this.timeRangeSelectedCallBack=function($t,end,$i){var $0g={};$0g.start=$t;$0g.end=end;this.$47('TimeRangeSelected',$0g,$i);};this.$3J=function($t,end){end=$c.$4j(end);if($c.$36()){var $m={};$m.start=$t;$m.end=end;$m.control=$c;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeSelect==='function'){$c.onTimeRangeSelect($m);if($m.preventDefault.value){return;}};switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($t,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($t,end);$c.clearSelection();break;};if(typeof $c.onTimeRangeSelected==='function'){$c.onTimeRangeSelected($m);}}else{switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($t,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($t,end);$c.clearSelection();break;case 'JavaScript':$c.onTimeRangeSelected($t,end);break;}}};this.timeRangeMenuClickPostBack=function(e,$1o,$i){var $1f={};$1f.selection=e;$1f.command=$1o;this.$45("TimeRangeMenuClick",$i,$1f);};this.timeRangeMenuClickCallBack=function(e,$1o,$i){var $1f={};$1f.selection=e;$1f.command=$1o;this.$47("TimeRangeMenuClick",$1f,$i);};this.$4o=function($1o,e,$1p){switch($1p){case 'PostBack':$c.timeRangeMenuClickPostBack(e,$1o);break;case 'CallBack':$c.timeRangeMenuClickCallBack(e,$1o);break;}};this.headerClickPostBack=function(c,$i){this.$45('HeaderClick',$i,c);};this.headerClickCallBack=function(c,$i){this.$47('HeaderClick',c,$i);};this.$3W=function(x){var $i=this.data;var c={$12:x};if($c.$36()){var $m={};$m.header={};$m.header.dayOfWeek=x;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onHeaderClick==='function'){$c.onHeaderClick($m);if($m.preventDefault.value){return;}};switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;};if(typeof $c.onHeaderClicked==='function'){$c.onHeaderClicked($m);}}else{switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;case 'JavaScript':$c.onHeaderClick(c);break;}}};this.timeRangeDoubleClickPostBack=function($t,end,$i){var $0g={};$0g.start=$t;$0g.end=end;this.$45('TimeRangeDoubleClick',$i,$0g);};this.timeRangeDoubleClickCallBack=function($t,end,$i){var $0g={};$0g.start=$t;$0g.end=end;this.$47('TimeRangeDoubleClick',$0g,$i);};this.$44=function($t,end){if($c.$36()){var $m={};$m.start=$t;$m.end=end;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeDoubleClick==='function'){$c.onTimeRangeDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($t,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($t,end);break;};if(typeof $c.onTimeRangeDoubleClicked==='function'){$c.onTimeRangeDoubleClicked($m);}}else{switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($t,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($t,end);break;case 'JavaScript':$c.onTimeRangeDoubleClick($t,end);break;}}};this.commandCallBack=function($1o,$i){this.$4p();var $1f={};$1f.command=$1o;this.$47('Command',$1f,$i);};this.commandPostBack=function($1o,$i){this.$4p();var $1f={};$1f.command=$1o;this.$45('Command',$1f,$i);};this.$4q=function(e){for(var i=0;i<$c.elements.events.length;i++){var $y=$c.elements.events[i];if($y.event===e||$y.event.data===e.data){return $y;}};return null;};this.$3C=function(e){var $d={};$d.list=[];$d.each=function(m){if(!m){return;};for(var i=0;i<this.list.length;i++){m(this.list[i]);}};for(var i=0;i<this.elements.events.length;i++){var $y=this.elements.events[i];if($y.event.data===e.data){$d.list.push($y);}};return $d;};this.$4r=function($1x){var $y=document.createElement("div");$y.style.position="absolute";$y.style.top="-2000px";$y.style.left="-2000px";$y.className=this.$37($1x);document.body.appendChild($y);var $O=$y.offsetHeight;var $G=$y.offsetWidth;document.body.removeChild($y);var $d={};$d.height=$O;$d.width=$G;return $d;};this.$3x={};var $r=this.$3x;$r.clearCache=function(){delete $c.$2Q.eventHeight;delete $c.$2Q.headerHeight;};$r.lineHeight=function(){return $r.eventHeight()+$c.lineSpace;};$r.rounded=function(){return $c.eventCorners==="Rounded";};$r.loadFromServer=function(){if($c.backendUrl){return(typeof $c.events.list==='undefined')||(!$c.events.list);}else{return false;}};$r.locale=function(){return DayPilot.Locale.find($c.locale);};$r.getWeekStart=function(){if($c.showWeekend){return $c.weekStarts;}else{return 1;}};$r.weekStarts=function(){if(!$c.showWeekend){return 1;};if($c.weekStarts==='Auto'){var $X=$r.locale();if($X){return $X.weekStarts;}else{return 0;}}else{return $c.weekStarts;}};$r.notifyType=function(){var $1c;if($c.notifyCommit==='Immediate'){$1c="Notify";}else if($c.notifyCommit==='Queue'){$1c="Queue";}else{throw "Invalid notifyCommit value: "+$c.notifyCommit;};return $1c;};$r.eventHeight=function(){if($c.$2Q.eventHeight){return $c.$2Q.eventHeight;};var $O=$c.$4r("_event_height").height;if(!$O){$O=$c.eventHeight;};$c.$2Q.eventHeight=$O;return $O;};$r.headerHeight=function(){if($c.$2Q.headerHeight){return $c.$2Q.headerHeight;};var $O=$c.$4r("_header_height").height;if(!$O){$O=$c.headerHeight;};$c.$2Q.headerHeight=$O;return $O;};$r.timeFormat=function(){if($c.timeFormat!=='Auto'){return $c.timeFormat;};return $r.locale().timeFormat;};this.exportAs=function($1y,$b){var $1z=$1A.generate($1y,$b);return new DayPilot.Export($1z);};this.$4s={};var $1A=this.$4s;$1A.$4t=null;$1A.$4u=null;$1A.generate=function($1y,$b){if(typeof $1y==="object"){$b=$1y;$1y=null;};var $b=$b||{};var $1y=$1y||$b.format||"svg";var $1B=$b.scale||1;if($1y==="config"){return;};if($1y.toLowerCase()==="jpg"){$1y="jpeg";};var $1C=$b.area||"viewport";$1A.$4t=$b;$1A.$4u=$1C;var $G=$1A.getWidth();var $O=$1A.getHeight();var $1z;switch($1y.toLowerCase()){case "svg":$1z=new DayPilot.Svg($G,$O);break;case "png":$1z=new DayPilot.Canvas($G,$O,"image/png",$1B);break;case "jpeg":$1z=new DayPilot.Canvas($G,$O,"image/jpeg",$1B,$b.quality);break;default:throw "Export format not supported: "+$1y;};var $1D=$1A.getRectangles();var $0L=new DayPilot.StyleReader($c.nav.top).get("background-color");var $1E=new DayPilot.StyleReader($c.nav.top).get("border-top-color");var $0X=$c.nav.header.firstChild.firstChild;var $1F=new DayPilot.StyleReader($0X).get("background-color");var $1G=new DayPilot.StyleReader($0X).getFont();var $1H=new DayPilot.StyleReader($0X).get("color");var $x=$c.cells[0][0].firstChild;var $1I=new DayPilot.StyleReader($x).get("background-color");var $1J=new DayPilot.StyleReader($x).get("border-right-color");var $1K=$1D.grid.w*$c.$3o()/100;var $U=0;$1z.fillRect($1D.main,"white");$1z.fillRect($1D.main,$0L);DayPilot.list.for($c.$3f()).each(function(x){var $0U=$c.headerProperties?$c.headerProperties[x]:null;var $0V=x+$r.weekStarts();if($0V>6){$0V-=7;};if(!$0U){var $0U={};$0U.html=$r.locale().dayNames[$0V];};var top=0;var $G=$1K;var $O=$r.headerHeight();var $Z=$0U.html;var $1L={"x":$U,"y":top,"w":$G+1,"h":$O+1};var $1M=DayPilot.Util.copyProps($1L);$1z.fillRect($1L,$1F);$1z.rect($1L,$1E);$1z.text($1M,$Z,$1G,$1H,"center");$U+=$G;});var top=$1D.grid.y;DayPilot.list($c.rows).each(function($u,y){var $O=$u.getHeight();var $U=0;DayPilot.list.for($c.$3f()).each(function(x){var $x=$c.cells[x][y];var $1N=$x.props;var $G=$1K;var $0L=new DayPilot.StyleReader($c.cells[x][y].firstChild).get("background-color");var $1O=$c.cells[x][y].firstChild.firstChild;var $1P=new DayPilot.StyleReader($1O).getFont();var $1Q=new DayPilot.StyleReader($1O).get("color");var $1R=new DayPilot.StyleReader($1O).get("background-color");var d=$c.firstDate.addDays(y*7+x);var $m={};$m.cell={};$m.cell.start=d;$m.cell.end=d.addDays(1);$m.backColor=$0L;$m.text=$1N.headerHtml;$m.horizontalAlignment="right";if(typeof $c.onBeforeCellExport==="function"){$c.onBeforeCellExport($m);};var $1S={"x":$U,"y":top,"w":$G+1,"h":$O+1};$1z.fillRect($1S,$m.backColor);$1z.rect($1S,$1J);var $1T={"x":$U,"y":top,"w":$G-2,"h":$c.cellHeaderHeight};$1z.fillRect($1S,$1R);$1z.text($1T,$m.text,$1P,$1Q,$m.horizontalAlignment);$U+=$G;});top+=$O;});DayPilot.list($c.rows).each(function($u){var $O=$u.getHeight();DayPilot.list($u.lines).each(function($z){DayPilot.list($z).each(function(ep){var $s=ep.cache||ep.data;var $1U=$1A.fakeEvent();$1U.className+=" "+$s.cssClass;var $1V=$1U.firstChild;var $1W=new DayPilot.StyleReader($1V).get("border-right-color");var $1X=new DayPilot.StyleReader($1V).getFont();var $1Y=new DayPilot.StyleReader($1V).get("color");var $1Z=new DayPilot.StyleReader($1V).getBackColor();var $20={};$20.left=new DayPilot.StyleReader($1V).getPx("padding-left");$20.right=new DayPilot.StyleReader($1V).getPx("padding-right");$20.top=new DayPilot.StyleReader($1V).getPx("padding-top");$20.bottom=new DayPilot.StyleReader($1V).getPx("padding-bottom");DayPilot.de($1U);var $0L=$s.backColor||$1Z;var $m={};$m.e=ep;$m.text=ep.text?ep.text():ep.client.html();$m.fontSize=$1X.size;$m.fontFamily=$1X.family;$m.fontStyle=$1X.style;$m.fontColor=$s.fontColor||$1Y;$m.backColor=$s.backColor||$0L;$m.borderColor=$1W;$m.horizontalAlignment="left";if(typeof $c.onBeforeEventExport==="function"){$c.onBeforeEventExport($m);};var $U=$1K*ep.part.colStart;var $G=$1K*ep.part.colWidth;var top=$c.$3n(ep.part.row,ep.part.line)+$1D.grid.y+2;var $O=$r.eventHeight();var $21=2;var $1L={"x":$U+$21,"y":top,"w":$G+1-2*$21,"h":$O};var $1M=DayPilot.Util.copyProps($1L);$1M.x+=$20.left;$1M.w-=$20.left+$20.right;$1M.y+=$20.top;$1M.h-=$20.top+$20.bottom;$1z.fillRect($1L,$m.backColor);$1z.text($1M,$m.text,{"size":$m.fontSize,"family":$m.fontFamily,"style":$m.fontStyle},$m.fontColor,$m.horizontalAlignment);$1z.rect($1L,$m.borderColor);});});});$1z.rect($1D.main,$1E);$1z.line($1D.grid.x,0,$1D.grid.x,$1D.main.h,$1E);$1z.line(0,$1D.grid.y,$1D.main.w,$1D.grid.y,$1E);return $1z;};$1A.fakeEvent=function(){var $y=document.createElement("div");$y.style.position="absolute";$y.style.top="-2000px";$y.style.left="-2000px";$y.style.display="none";$y.className=$c.$37("_event");var $W=document.createElement("div");$W.className=$c.$37("_event_inner");$y.appendChild($W);var $22=$c.nav.events;$22.appendChild($y);return $y;};$1A.fakeCell=function(){var $y=document.createElement("div");$y.style.position="absolute";$y.style.top="-2000px";$y.style.left="-2000px";$y.style.display="none";$y.className=$c.$37("_cell");var $W=document.createElement("div");$W.className=$c.$37("_cell_inner");$y.appendChild($W);var $22=$c.nav.events;$22.appendChild($y);return $y;};$1A.getWidth=function(){var $1C=$1A.$4u;switch($1C){case "viewport":case "full":return Math.floor($c.nav.top.clientWidth/$c.$3f())*$c.$3f();default:throw "Unsupported export mode: "+$1C;}};$1A.getHeight=function(){var $1C=$1A.$4u;switch($1C){case "viewport":case "full":return $c.nav.top.clientHeight;default:throw "Unsupported export mode: "+$1C;}};$1A.getRectangles=function(){var $23=$r.headerHeight();var $1D={};$1D.main={"x":0,"y":0,"w":$1A.getWidth(),"h":$1A.getHeight()};$1D.grid={"x":0,"y":$23,"w":$1A.getWidth(),"h":$1A.getHeight()-$23};return $1D;};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$4v=function(){var m=$c.multiselect;return JSON.stringify(m.events());};this.multiselect.events=function(){var m=$c.multiselect;var $24=[];$24.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$24.push(m.list[i]);};return $24;};this.multiselect.$4w=function(){};this.multiselect.$4h=function($y,$25){var m=$c.multiselect;if(m.isSelected($y.event)){if($c.allowMultiSelect){if($25){m.remove($y.event,true);}else{var $0t=m.list.length;m.clear(true);if($0t>1){m.add($y.event,true);}}}else{m.clear(true);}}else{if($c.allowMultiSelect){if($25){m.add($y.event,true);}else{m.clear(true);m.add($y.event,true);}}else{m.clear(true);m.add($y.event,true);}};m.redraw();m.$4w();};this.multiselect.$3y=function(ev){var m=$c.multiselect;return m.$4x(ev,m.initList);};this.multiselect.$4y=function(){var m=$c.multiselect;var $03=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$03.push(event.value());};alert($03.join("\n"));};this.multiselect.add=function(ev,$26){var m=$c.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($26){return;};m.redraw();};this.multiselect.remove=function(ev,$26){var m=$c.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);}};this.multiselect.clear=function($26){var m=$c.multiselect;m.list=[];if($26){return;};m.redraw();};this.multiselect.redraw=function(){var m=$c.multiselect;for(var i=0;i<$c.elements.events.length;i++){var $y=$c.elements.events[i];if(m.isSelected($y.event)){m.$4z($y);}else{m.$4A($y);}}};this.multiselect.$4z=function($y){var m=$c.multiselect;var cn=$c.$37("_selected");var $y=m.$4B($y);DayPilot.Util.addClass($y,cn);m.divs.push($y);};this.multiselect.$4B=function($y){return $y;};this.multiselect.$4C=function(){var m=$c.multiselect;for(var i=0;i<m.divs.length;i++){var $y=m.divs[i];m.$4A($y,true);};m.divs=[];};this.multiselect.$4A=function($y,$27){var m=$c.multiselect;var cn=$c.$37("_selected");var c=m.$4B($y);if(c&&c.className&&c.className.indexOf(cn)!==-1){c.className=c.className.replace(cn,"");};if($27){return;};var i=DayPilot.indexOf(m.divs,$y);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $c.multiselect.$4x(ev,$c.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($c.multiselect.list,ev);};this.multiselect.$4x=function(e,$03){if(!$03){return false;};for(var i=0;i<$03.length;i++){var ei=$03[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.events.forRange=function($t,end){$t=new DayPilot.Date($t);end=new DayPilot.Date(end);return DayPilot.list($c.events.list).filter(function($28){var $29=new DayPilot.Date($28.start);var $2a=new DayPilot.Date($28.end);return DayPilot.Util.overlaps($t,end,$29,$2a);}).map(function($28){return new DayPilot.Event($28,$c);});};this.events.find=function(id){if(!$c.events.list||typeof $c.events.list.length==='undefined'){return null;};var $2b=$c.events.list.length;for(var i=0;i<$2b;i++){if($c.events.list[i].id===id){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.findRecurrent=function($2c,$2d){if(!$c.events.list||typeof $c.events.list.length==='undefined'){return null;};var $2b=$c.events.list.length;for(var i=0;i<$2b;i++){if($c.events.list[i].recurrentMasterId===$2c&&$c.events.list[i].start.getTime()===$2d.getTime()){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.update=function(e,$i){var $1f={};$1f.oldEvent=new DayPilot.Event(e.copy(),$c);$1f.newEvent=new DayPilot.Event(e.temp(),$c);var $18=new DayPilot.Action($c,"EventUpdate",$1f,$i);e.commit();if($c.$2P){$c.update();};$c.$3P.notify();return $18;};this.events.remove=function(e,$i){var $1f={};$1f.e=new DayPilot.Event(e.data,$c);var $18=new DayPilot.Action($c,"EventRemove",$1f,$i);var $0x=DayPilot.indexOf($c.events.list,e.data);$c.events.list.splice($0x,1);if($c.$2P){$c.update();};$c.$3P.notify();return $18;};this.events.add=function(e,$i){if(!(e instanceof DayPilot.Event)){e=new DayPilot.Event(e);};e.calendar=$c;if(!$c.events.list){$c.events.list=[];};$c.events.list.push(e.data);var $1f={};$1f.e=e;var $18=new DayPilot.Action($c,"EventAdd",$1f,$i);if($c.$2P){$c.update();};$c.$3P.notify();return $18;};this.events.filter=function($m){$c.events.$3d=$m;$c.$4D();};this.events.load=function($2e,$2f,$2g){var $2h=function($m){var $2i={};$2i.exception=$m.exception;$2i.request=$m.request;if(typeof $2g==='function'){$2g($2i);}};var $2j=function($m){var r=$m.request;var $i;try{$i=JSON.parse(r.responseText);}catch(e){var $2k={};$2k.exception=e;$2h($2k);return;};if(DayPilot.isArray($i)){var $2l={};$2l.preventDefault=function(){this.preventDefault.value=true;};$2l.data=$i;if(typeof $2f==="function"){$2f($2l);};if($2l.preventDefault.value){return;};$c.events.list=$i;if($c.$2P){$c.update();}}};var $2m=$c.eventsLoadMethod&&$c.eventsLoadMethod.toUpperCase()==="POST";if($2m){DayPilot.ajax({"method":"POST","data":{"start":$c.visibleStart().toString(),"end":$c.visibleEnd().toString()},"url":$2e,"success":$2j,"error":$2h});}else{var $2n=$2e;var $2o="start="+$c.visibleStart().toString()+"&end="+$c.visibleEnd().toString();if($2n.indexOf("?")>-1){$2n+="&"+$2o;}else{$2n+="?"+$2o;};DayPilot.ajax({"method":"GET","url":$2n,"success":$2j,"error":$2h});}};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($18){if(!$18){return;};if($18.isAction){$c.queue.list.push($18);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($i){var $1f={};$1f.actions=$c.queue.list;$c.$47('Notify',$1f,$i,"Notify");$c.queue.list=[];};this.queue.clear=function(){$c.queue.list=[];};this.queue.pop=function(){return $c.queue.list.pop();};this.$4j=function($0k){if($c.eventEndSpec==="DateTime"){return $0k;};if($0k.getDatePart().ticks===$0k.ticks){return $0k.addDays(-1);};return $0k.getDatePart();};this.$3c=function($0k){if($c.eventEndSpec==="DateTime"){return $0k;};return $0k.getDatePart().addDays(1);};this.$4E=function($0k){if($c.eventEndSpec==="DateTime"){return $0k;};return $0k.getDatePart();};this.$35=function($2p){if($2p){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.$2R>=this.autoRefreshMaxCount){return;};this.$4p();var $2q=this.autoRefreshInterval;if(!$2q||$2q<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$c.$4F();},this.autoRefreshInterval*1000);};this.$4p=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$4F=function(){if(!DayPilotMonth.eventResizing&&!DayPilotMonth.eventMoving&&!DayPilotMonth.timeRangeSelecting){var $0G=false;if(typeof this.onAutoRefresh==='function'){var $m={};$m.i=this.$2R;$m.preventDefault=function(){this.preventDefault.value=true;};$c.onAutoRefresh($m);if($m.preventDefault.value){$0G=true;}};if(!$0G&&this.$48()){this.commandCallBack(this.autoRefreshCommand);};this.$2R++;};if(this.$2R<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$c.$4F();},this.autoRefreshInterval*1000);}};this.$4D=function($m){if(!this.cells){return;};var $m=$m||{};var $2r=!$m.eventsOnly;if(!$c.cssOnly){$c.cssOnly=true;DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");};$c.$2X();$c.$2Y();$c.$2Z();if($2r){$c.$3x.clearCache();$c.$30();$c.$31();};$c.$32();$c.$33();$c.$34();if(this.visible){this.show();}else{this.hide();}};this.update=function($b){this.$4G($b);this.$4D();};this.dispose=function(){var c=$c;if(!c.nav.top){return;};c.$4p();c.$2X();c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top.onmousemove=null;c.nav.top.ontouchstart=null;c.nav.top.ontouchmove=null;c.nav.top.ontouchend=null;c.nav.top=null;DayPilot.ue(window,"resize",c.$3U);DayPilotMonth.unregister(c);};this.$4H=function(){if(!DayPilotMonth.globalHandlers){DayPilotMonth.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotMonth.gMouseMove);DayPilot.re(document,'mouseup',DayPilotMonth.gMouseUp);};DayPilot.re(window,"resize",this.$3U);};this.$4I=function(){$a();};this.$4k=function(){if($c.todo){if($c.todo.del){var $2s=$c.todo.del;$2s.parentNode.removeChild($2s);$c.todo.del=null;}}};this.$4J=function(){switch($c.$2S){case "aspnet":if(!this.$4b()){throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");};break;case "netmvc":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");};break;case "javaxx":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");};break;}};this.$33=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.show=function(){$c.visible=true;$c.nav.top.style.display='';};this.hide=function(){$c.visible=false;$c.nav.top.style.display='none';};this.$4K=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Month: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";};this.nav.limit;};this.$4L=function(){this.$4K();this.$2Y();this.$3Q();this.$31();this.$32();this.$4H();this.$35();this.$47('Init');DayPilotMonth.register(this);};this.init=function(){this.$4J();this.$4K();if(this.nav.top.dp){return;};var $2t=$r.loadFromServer();if(!$c.cssOnly){$c.cssOnly=true;window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");};if($2t){this.$4L();this.$2P=true;return;};this.$2Y();this.$2Z();this.$3Q();this.$31();this.$33();this.$34();this.$32();this.$4H();if(this.messageHTML){this.message(this.messageHTML);};this.$2V(null,false);if($c.initEventEnabled){setTimeout(function(){$c.$47("Init");});};this.$35();DayPilotMonth.register(this);this.$2P=true;this.$4M();return this;};this.$4N=null;this.$4G=function($b){if(!$b){return;};var $2u={"events":{"preInit":function(){var $24=this.data;if(!$24){return;};if(DayPilot.isArray($24.list)){$c.events.list=$24.list;}else{$c.events.list=$24;}}}};this.$4N=$2u;for(var name in $b){if($2u[name]){var $28=$2u[name];$28.data=$b[name];if($28.preInit){$28.preInit();}}else{$c[name]=$b[name];}}};this.$4M=function(){var $2u=this.$4N;for(var name in $2u){var $28=$2u[name];if($28.postInit){$28.postInit();}}};this.internal={};this.internal.initialized=function(){return $c.$2P;};this.internal.invokeEvent=this.$4c;this.internal.eventMenuClick=this.$4i;this.internal.timeRangeMenuClick=this.$4o;this.internal.bubbleCallBack=this.$4d;this.internal.findEventDiv=this.$4q;this.internal.adjustEndIn=this.$3c;this.Init=this.init;this.$4G($b);};DayPilot.Month.makeDraggable=function($b){var element=$b.element;var $2v=$b.keepElement?null:element;var $2w=$b.duration||1;if(navigator.msPointerEnabled){element.style.msTouchAction="none";element.style.touchAction="none";};var $2x=function(ev){startDragging();var element=(ev.target||ev.srcElement);if(element.tagName){var $2y=element.tagName.toLowerCase();if($2y==="textarea"||$2y==="select"||$2y==="input"){return false;}};ev.preventDefault&&ev.preventDefault();return false;};var $2z=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};var $0a=0;window.setTimeout(function(){startDragging();DayPilotMonth.gTouchMove(ev);ev.preventDefault();},$0a);ev.preventDefault();};function startDragging(){var ds=$b.duration||60;if(ds instanceof DayPilot.Duration){ds=ds.totalSeconds();};var $2A=DayPilotMonth.drag={};$2A.element=$2v;$2A.id=$b.id;$2A.duration=ds;$2A.text=$b.text||"";$2A.data=$b;$2A.shadowType="Fill";};DayPilot.us(element);DayPilot.re(element,"mousedown",$2x);DayPilot.re(element,DayPilot.touch.start,$2z);element.cancelDraggable=function(){DayPilot.ue(element,"mousedown",$2x);DayPilot.ue(element,DayPilot.touch.start,$2z);delete element.cancelDraggable;};};DayPilotMonth.createGShadow=function(){var $P=document.createElement('div');$P.setAttribute('unselectable','on');$P.style.position='absolute';$P.style.width='100px';$P.style.height='20px';$P.style.border='2px dotted #666666';$P.style.zIndex=101;$P.style.pointerEvents="none";$P.style.backgroundColor="#aaaaaa";$P.style.opacity=0.5;$P.style.filter="alpha(opacity=50)";$P.style.border='2px solid #aaaaaa';document.body.appendChild($P);return $P;};DayPilotMonth.gMouseMove=function(ev){if(typeof(DayPilotMonth)==='undefined'){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $2B=DayPilot.mc(ev);if(DayPilotMonth.drag){document.body.style.cursor='move';if(!DayPilotMonth.gShadow){DayPilotMonth.gShadow=DayPilotMonth.createGShadow();};var $P=DayPilotMonth.gShadow;$P.style.left=$2B.x+'px';$P.style.top=$2B.y+'px';DayPilotMonth.movingEvent=null;DayPilot.de(DayPilotMonth.movingShadow);DayPilotMonth.movingShadow=null;};for(var i=0;i<DayPilotMonth.registered.length;i++){if(DayPilotMonth.registered[i].$4I){DayPilotMonth.registered[i].$4I();}}};DayPilotMonth.register=function($c){if(!DayPilotMonth.registered){DayPilotMonth.registered=[];};for(var i=0;i<DayPilotMonth.registered.length;i++){if(DayPilotMonth.registered[i]===$c){return;}};DayPilotMonth.registered.push($c);};DayPilotMonth.unregister=function($c){var a=DayPilotMonth.registered;if(a){var i=DayPilot.indexOf(a,$c);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mouseup',DayPilotMonth.gMouseUp);DayPilotMonth.globalHandlers=false;}};DayPilotMonth.gMouseUp=function(ev){cleanGlobalShadow();if(DayPilotMonth.movingEvent){var $0b=DayPilotMonth.movingEvent;DayPilotMonth.movingEvent=null;if(!$0b.event||!$0b.event.calendar||!$0b.event.calendar.shadow||!$0b.event.calendar.shadow.start){return;};var $c=$0b.event.calendar;var e=$0b.event;var $t=$c.shadow.start;var $0c=$c.shadow.position;var $H=$0b.offset;var external=$0b.external;var $2v=$0b.removeElement;if($2v){if(!$c.todo){$c.todo={};};$c.todo.del=$2v;};$c.$3p();var ev=ev||window.event;$c.$3I(e,$t.x,$t.y,$H,ev,$0c,external);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};return false;}else if(DayPilotMonth.resizingEvent){var $0b=DayPilotMonth.resizingEvent;DayPilotMonth.resizingEvent=null;if(!$0b.event||!$0b.event.calendar||!$0b.event.calendar.shadow||!$0b.event.calendar.shadow.start){return;};var $c=$0b.event.calendar;var e=$0b.event;var $t=$c.shadow.start;var $G=$c.shadow.width;$c.$3p();$c.$4m(e,$t,$G);ev.cancelBubble=true;return false;}else if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var $0d=DayPilotMonth.timeRangeSelecting;var $c=$0d.root;var $t=new DayPilot.Date($c.$3q($0d.from.x,$0d.from.y));var end=$t.addDays($0d.width);$c.$3J($t,end);};DayPilotMonth.timeRangeSelecting=null;};function cleanGlobalShadow(){if(DayPilotMonth.drag){DayPilotMonth.drag=null;document.body.style.cursor='';};if(DayPilotMonth.gShadow){document.body.removeChild(DayPilotMonth.gShadow);DayPilotMonth.gShadow=null;}}};if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotMonth=function($b){var $2C=null;var j=this.each(function(){if(this.daypilot){return;};var $2D=new DayPilot.Month(this.id,$b);$2D.init();this.daypilot=$2D;if(!$2C){$2C=$2D;}});if(this.length===1){return $2C;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $2E=DayPilot.am();if(!$2E){return;};$2E.directive("daypilotMonth",['$parse',function($2F){return{"restrict":"E","template":"<div id='{{id}};'></div>","compile":function compile(element,$2G){element.replaceWith(this["template"].replace("{{id}};",$2G["id"]));return function link($2H,element,$2G){var $c=new DayPilot.Month(element[0]);$c.$3P.scope=$2H;$c.init();var $2I=$2G["id"];if($2I){$2H[$2I]=$c;};var $2J=$2G["publishAs"];if($2J){var getter=$2F($2J);var setter=getter.assign;setter($2H,$c);};for(var name in $2G){if(name.indexOf("on")===0){var $2K=DayPilot.Util.shouldApply(name);if($2K){(function(name){$c[name]=function($m){var f=$2F($2G[name]);$2H["$apply"](function(){f($2H,{"args":$m});});};})(name);}else{(function(name){$c[name]=function($m){var f=$2F($2G[name]);f($2H,{"args":$m});};})(name);}}};var $2L=$2H["$watch"];var $2M=$2G["config"]||$2G["daypilotConfig"];var $24=$2G["events"]||$2G["daypilotEvents"];$2L.call($2H,$2M,function($2N,$2O){for(var name in $2N){$c[name]=$2N[name];};$c.update();},true);$2L.call($2H,$24,function($2N){$c.events.list=$2N;$c.$4D({"eventsOnly":true});},true);};}};}]);})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

