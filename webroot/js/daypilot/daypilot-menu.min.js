/**
@license
DayPilot Pro for JavaScript 2018.2.3297
Copyright (c) 2005 - 2018 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Menu!=='undefined'){return;};var $a=function(){};var DayPilotMenu={};DayPilotMenu.mouse=null;DayPilotMenu.menu=null;DayPilotMenu.handlersRegistered=false;DayPilotMenu.hideTimeout=null;DayPilotMenu.waitingSubmenu=null;DayPilot.Menu=function($b){var $c=this;var $d=null;this.v='2018.2.3297;';this.zIndex=120;this.cssClassPrefix="menu_default";this.cssOnly=true;this.menuTitle=null;this.showMenuTitle=false;this.hideOnMouseOut=false;this.theme=null;this.onShow=null;this.$T=function(){};if($b&&DayPilot.isArray($b)){this.items=$b;};this.show=function(e,$e){var $e=$e||{};var $f=null;if(!e){$f=null;}else if(typeof e.id==='string'||typeof e.id==='number'){$f=e.id;}else if(typeof e.id==='function'){$f=e.id();}else if(typeof e.value==='function'){$f=e.value();};if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if(!$e.submenu){DayPilotMenu.menuClean();};this.$T.submenu=null;if(DayPilotMenu.mouse===null){return;};if(!$c.cssOnly){$c.cssOnly=true;DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");};var $g=null;if(e&&e.isRow&&e.$.row.task){$g=new DayPilot.Task(e.$.row.task,e.calendar);$g.menuType="resource";}else if(e&&e.isEvent&&e.data.task){$g=new DayPilot.Task(e,e.calendar);}else{$g=e;};if(typeof $c.onShow==="function"){var $h={};$h.source=$g;$h.menu=$c;$h.preventDefault=function(){$h.preventDefault.value=true;};$c.onShow($h);if($h.preventDefault.value){return;}};var $i=document.createElement("div");$i.style.position="absolute";$i.style.top="0px";$i.style.left="0px";$i.style.display='none';$i.style.overflow='hidden';$i.style.zIndex=this.zIndex+1;$i.className=this.applyCssClass('main');$i.onclick=function(ev){ev.cancelBubble=true;this.parentNode.removeChild(this);};if(this.hideOnMouseOut){$i.onmousemove=function(ev){clearTimeout(DayPilotMenu.hideTimeout);};$i.onmouseout=function(ev){$c.delayedHide();};};if(!this.items||this.items.length===0){throw "No menu items defined.";};if(this.showMenuTitle){var title=document.createElement("div");title.innerHTML=this.menuTitle;title.className=this.applyCssClass("title");$i.appendChild(title);};for(var i=0;i<this.items.length;i++){var mi=this.items[i];var $j=document.createElement("div");DayPilot.Util.addClass($j,this.applyCssClass("item"));if(mi.items){DayPilot.Util.addClass($j,this.applyCssClass("item_haschildren"));};if(typeof mi==='undefined'){continue;};if(mi.hidden){continue;};if(mi.text==='-'){var $k=document.createElement("div");$j.appendChild($k);}else{var $l=document.createElement("a");$l.style.position='relative';$l.style.display="block";if(mi.cssClass){DayPilot.Util.addClass($l,mi.cssClass);};if(mi.disabled){DayPilot.Util.addClass($l,$c.applyCssClass("item_disabled"));}else{if(mi.onclick||mi.onClick){$l.item=mi;$l.onclick=(function(mi,$l){return function(e){if(typeof mi.onClick==="function"){var $h={};$h.item=mi;$h.source=$l.source;$h.originalEvent=e;$h.preventDefault=function(){$h.preventDefault.value=true;};mi.onClick($h);if($h.preventDefault.value){return;}};if(mi.onclick){mi.onclick.call($l,e);}};})(mi,$l);var $m=function(mi,$l){return function(e){e.stopPropagation();e.preventDefault();var $n=function(){window.setTimeout(function(){$l.source.calendar.internal.touch.active=false;},500);};if(typeof mi.onClick==="function"){var $h={};$h.item=mi;$h.originalEvent=e;$h.preventDefault=function(){$h.preventDefault.value=true;};mi.onClick($h);if($h.preventDefault.value){$n();return;}};if(mi.onclick){mi.onclick.call($l,e);};DayPilotMenu.menuClean();$n();};};$l.ontouchstart=function(ev){ev.stopPropagation();ev.preventDefault();$l.source.calendar.internal.touch.active=true;};$l.ontouchend=$m(mi,$l);};if(mi.onclick){$a();}else if(mi.href){$l.href=mi.href.replace(/\x7B0\x7D/gim,$f);if(mi.target){$l.setAttribute("target",mi.target);}}else if(mi.command){var $o=function(mi,$l){return function(e){var $g=$l.source;var $j=mi;$j.action=$j.action?$j.action:'CallBack';var $p=$g.calendar||$g.root;if($g instanceof DayPilot.Link){$p.internal.linkMenuClick($j.command,$g,$j.action);return;}else if($g instanceof DayPilot.Selection){$p.internal.timeRangeMenuClick($j.command,$g,$j.action);return;}else if($g instanceof DayPilot.Event){$p.internal.eventMenuClick($j.command,$g,$j.action);return;}else if($g instanceof DayPilot.Selection){$p.internal.timeRangeMenuClick($j.command,$g,$j.action);return;}else if($g instanceof DayPilot.Task){if($g.menuType==="resource"){$p.internal.resourceHeaderMenuClick($j.command,$l.menuSource,$j.action);}else{$p.internal.eventMenuClick($j.command,$l.menuSource,$j.action);};return;}else{switch($g.menuType){case 'resource':$p.internal.resourceHeaderMenuClick($j.command,$g,$j.action);return;case 'selection':$p.internal.timeRangeMenuClick($j.command,$g,$j.action);return;default:$p.internal.eventMenuClick($j.command,$g,$j.action);return;}};e.preventDefault();};};$l.onclick=$o(mi,$l);$l.ontouchend=$o(mi,$l);}};$l.source=$g;$l.menuSource=e;var $q=document.createElement("span");$q.className=$c.applyCssClass("item_text");$q.innerHTML=mi.text;$l.appendChild($q);if(mi.image){var $r=document.createElement("img");$r.src=mi.image;$r.style.position='absolute';$r.style.top='0px';$r.style.left='0px';$l.appendChild($r);};if(mi.icon){var $s=document.createElement("span");$s.className=$c.applyCssClass("item_icon");var $t=document.createElement("i");$t.className=mi.icon;$s.appendChild($t);$l.appendChild($s);};var $u=function(mi,$l){return function(){var $g=$l.source;var $j=mi;var ws=DayPilotMenu.waitingSubmenu;if(ws){if(ws.parent===$j){return;}else{clearTimeout(ws.timeout);DayPilotMenu.waitingSubmenu=null;}};DayPilotMenu.waitingSubmenu={};DayPilotMenu.waitingSubmenu.parent=$j;DayPilotMenu.waitingSubmenu.timeout=setTimeout(function(){DayPilotMenu.waitingSubmenu=null;if($c.$T.submenu&&$c.$T.submenu.item===$j){return;};if($c.$T.submenu&&$c.$T.submenu.item!==$j){DayPilot.Util.removeClass($c.$T.submenu.link.parentNode,$c.applyCssClass("item_haschildren_active"));$c.$T.submenu.menu.hide();$c.$T.submenu=null;};if(!$j.items){return;};var $e=$c.cloneOptions();$e.items=$j.items;$c.$T.submenu={};$c.$T.submenu.menu=new DayPilot.Menu($e);$c.$T.submenu.menu.show($g,{"submenu":true,"parentLink":$l,"parentItem":mi});$c.$T.submenu.item=$j;$c.$T.submenu.link=$l;DayPilot.Util.addClass($l.parentNode,$c.applyCssClass("item_haschildren_active"));},300);};};$l.onmouseover=$u(mi,$l);$j.appendChild($l);};$i.appendChild($j);};var $v=function(e){window.setTimeout(function(){DayPilotMenu.menuClean();DayPilot.MenuBar.deactivate();},100);};$i.onclick=$v;$i.ontouchend=$v;$i.onmousedown=function(e){e=e||window.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation();};$i.oncontextmenu=function(){return false;};document.body.appendChild($i);$c.$T.visible=true;$c.$T.source=e;$i.style.display='';var $w=$i.offsetHeight;var $x=$i.offsetWidth;$i.style.display='none';var $y=document.documentElement.clientHeight;var $z=document.documentElement.clientWidth;var $A=(typeof $e.windowMargin=="number")?$e.windowMargin:5;(function showInitiator(){var $B=$e.initiator;if(!$B){return;};var $i=$B.div;var e=$B.e;var $C=$B.area;var a=DayPilot.Areas.createArea($i,e,$C);$i.appendChild(a);$d=a;var $D=DayPilot.abs(a);$e.x=$D.x;$e.y=$D.y+$D.h+2;})();(function adjustPosition(){var x=(typeof $e.x==="number")?$e.x:DayPilotMenu.mouse.x+1;var y=(typeof $e.y==="number")?$e.y:DayPilotMenu.mouse.y+1;var $E=document.body.scrollTop||document.documentElement.scrollTop;var $F=document.body.scrollLeft||document.documentElement.scrollLeft;if(y-$E>$y-$w&&$y!==0){var $G=y-$E-($y-$w)+$A;$i.style.top=(y-$G)+'px';}else{$i.style.top=y+'px';};if($e.align==="right"){x-=$x;};if(x-$F>$z-$x&&$z!==0){var $H=x-$F-($z-$x)+$A;$i.style.left=(x-$H)+'px';}else{$i.style.left=x+'px';}})();if($e.parentLink){var parent=$e.parentLink;var $I=parseInt(new DayPilot.StyleReader($i).get("border-top-width"));var $J=DayPilot.abs($e.parentLink.parentNode);var x=$J.x+parent.offsetWidth;var y=$J.y-$I;if(x+$x>$z){x=Math.max(0,$J.x-$x);};var $K=document.body.scrollTop+document.documentElement.scrollTop;if(y+$w-$K>$y){y=Math.max(0,$y-$w+$K);};$i.style.left=x+"px";$i.style.top=y+"px";};$i.style.display='';this.addShadow($i);this.$T.div=$i;if(!$e.submenu){DayPilot.Menu.active=this;}};this.applyCssClass=function($L){var $M=this.theme||this.cssClassPrefix;var $N=(this.cssOnly?"_":"");if($M){return $M+$N+$L;}else{return "";}};this.cloneOptions=function(){var $e={};var $O=['cssOnly','cssClassPrefix','useShadow','zIndex'];for(var i=0;i<$O.length;i++){var p=$O[i];$e[p]=this[p];};return $e;};this.hide=function(){if(this.$T.submenu){this.$T.submenu.menu.hide();};this.removeShadow();if(this.$T.div&&this.$T.div.parentNode===document.body){document.body.removeChild(this.$T.div);};if($d){DayPilot.de($d);$d=null;};$c.$T.visible=false;$c.$T.source=null;};this.delayedHide=function(){DayPilotMenu.hideTimeout=setTimeout(function(){$c.hide();},200);};this.cancelHideTimeout=function(){clearTimeout(DayPilotMenu.hideTimeout);};this.init=function(ev){DayPilotMenu.mouseMove(ev);return this;};this.addShadow=function($P){return;};this.removeShadow=function(){if(!this.$T.shadows){return;};for(var i=0;i<this.$T.shadows.length;i++){document.body.removeChild(this.$T.shadows[i]);};this.$T.shadows=[];};var $e=DayPilot.isArray($b)?null:$b;if($e){for(var name in $e){this[name]=$e[name];}}};DayPilot.MenuBar=function(id,$e){var menubar=this;var $e=$e||{};this.items=[];this.theme="menubar_default";this.windowMargin=0;this.nav={};this.elements={};this.elements.items=DayPilot.list();this.$U=null;for(var name in $e){this[name]=$e[name];};this.$V=function(cl){return this.theme+"_"+cl;};this.$W=function(){this.nav.top=document.getElementById(id);var top=this.nav.top;top.className=this.$V("main");DayPilot.list(menubar.items).each(function($j){var $i=document.createElement("span");$i.innerHTML=$j.text;$i.className=menubar.$V("item");$i.data=$j;$i.onclick=function(){if(menubar.active&&menubar.active.item===$j){menubar.$X();return;};if($j.children){menubar.$Y($i);}};$i.onmousedown=function(ev){ev.stopPropagation();};$i.onmouseover=function(){if(menubar.active&&menubar.active.item!==$j){menubar.$Y($i);}};top.appendChild($i);menubar.elements.items.push($i);});};this.$X=function(){var $Q=menubar.$V("item_active");menubar.elements.items.each(function($i){DayPilot.Util.removeClass($i,$Q);});if(menubar.active&&menubar.active.menu){menubar.active.menu.hide();};menubar.active=null;};this.$Z=function($i){if(!menubar.active){return false;};return menubar.active.item===$i.data;};this.$Y=function($i){if(menubar.$Z($i)){return;};menubar.$X();var $j=$i.data;var a=menubar.active={};a.item=$j;a.div=$i;var $Q=menubar.$V("item_active");DayPilot.Util.addClass($i,$Q);var $D=DayPilot.abs($i);if($j.children){a.menu=new DayPilot.Menu({"items":$j.children});a.menu.show(null,{"x":$D.x+$D.w,"y":$D.y+$D.h,"align":$j.align,"windowMargin":menubar.windowMargin});};DayPilot.MenuBar.active=menubar;};this.init=function(){this.$W();return this;};};DayPilot.MenuBar.deactivate=function(){if(DayPilot.MenuBar.active){DayPilot.MenuBar.active.$X();DayPilot.MenuBar.active=null;}};DayPilotMenu.menuClean=function(){if(typeof(DayPilot.Menu.active)==='undefined')return;if(DayPilot.Menu.active){DayPilot.Menu.active.hide();DayPilot.Menu.active=null;}};DayPilotMenu.mouseDown=function(ev){if(typeof(DayPilotMenu)==='undefined'){return;};DayPilotMenu.menuClean();DayPilot.MenuBar.deactivate();};DayPilotMenu.mouseMove=function(ev){if(typeof(DayPilotMenu)==='undefined'){return;};DayPilotMenu.mouse=DayPilotMenu.mousePosition(ev);};DayPilotMenu.touchMove=function(ev){if(typeof(DayPilotMenu)==='undefined'){return;};DayPilotMenu.mouse=DayPilotMenu.touchPosition(ev);};DayPilotMenu.touchStart=function(ev){if(typeof(DayPilotMenu)==='undefined'){return;};DayPilotMenu.mouse=DayPilotMenu.touchPosition(ev);};DayPilotMenu.touchEnd=function(ev){};DayPilotMenu.touchPosition=function(ev){if(!ev||!ev.touches){return null;};var $R=ev.touches[0];var $S={};$S.x=$R.pageX;$S.y=$R.pageY;return $S;};DayPilotMenu.mousePosition=function(e){return DayPilot.mo3(document.body,e);};DayPilot.Menu.touchPosition=function(ev){if(ev.touches){DayPilotMenu.mouse=DayPilotMenu.touchPosition(ev);}};if(!DayPilotMenu.handlersRegistered){DayPilot.re(document,'mousemove',DayPilotMenu.mouseMove);DayPilot.re(document,'mousedown',DayPilotMenu.mouseDown);DayPilot.re(document,'touchmove',DayPilotMenu.touchMove);DayPilot.re(document,'touchstart',DayPilotMenu.touchStart);DayPilot.re(document,'touchend',DayPilotMenu.touchEnd);DayPilotMenu.handlersRegistered=true;};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


